!function(){function a(){if(lib.env.os.isIPhone&&lib.env.taobaoApp){var a,b,c=document.documentElement.clientWidth;document.addEventListener("horizontalpanstart",function(b){a=b.touchEvent.touches[0].pageX},!1),document.addEventListener("horizontalpan",function(d){b=d.displacementX,a>0&&b>0&&c/10>a&&b>.3*c&&(document.removeEventListener("horizontalpan"),WindVane.call("WVNative","nativeBack",{}))},!1)}}var b={isSupportWebp:function(){window.isHasWebp=!1;var a=new Image;a.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",a.onload=function(){2===a.height?window.isHasWebp=!0:window.isHasWebp=!1},a.onerror=function(){window.isHasWebp=!1}},convertImgCdn:function(a){if(!a||"string"!=typeof a)return"";var b=["wimg.taobao.com","alicdn.com","taobaocdn.com"],c=document.createElement("a");c.href=a;for(var d=0;d<b.length;d++)if(-1!=c.host.indexOf(b[d])){c.host="gw.alicdn.com";break}return c.href},getNetWorkInfo:function(a){lib.env.taobaoApp?window.WindVane&&WindVane.call("TBDeviceInfo","getInfo",{},function(b){"wifi"!=b.network&&(window.WeakNetStatus=!0),a&&a()},function(b){a&&a()}):a&&a()},openLinkByWv:function(a){a.preventDefault();var b=a.currentTarget,c=$(a.currentTarget),d=c.attr("href"),e="",f=!0;if(d){if(lib.httpurl){var g=new lib.httpurl(d);if(window.g_SPM&&window.g_SPM.spm){var h=window.g_SPM.spm(b);g.params.spm=h}e=g.toString()}else e=d;-1!=e.indexOf("openwindow=false")&&(f=!1),lib.env&&lib.env.taobaoApp&&window.WindVane&&f?window.WindVane.call("Base","openWindow",{url:e},function(){},function(){location.href=e}):location.href=e}},getUtdid:function(a){window.localStorage&&window.localStorage.getItem("h5_app_hysc_utdid")?(window.utdid=window.localStorage.getItem("h5_app_hysc_utdid"),a&&a()):lib.env&&lib.env.taobaoApp?window.WindVane.call("TBDeviceInfo","getUtdid",{},function(b){b.utdid&&(window.utdid=b.utdid,window.localStorage&&window.localStorage.setItem("h5_app_hysc_utdid",b.utdid)),a&&a()},function(b){a&&a()}):a&&a()},initNavBar:function(){var a=$(".hytpl-navbar");a.length&&a.on("click","a",function(a){a.preventDefault();var b=$(a.currentTarget),c=b.attr("href");b.hasClass("cur")||(c&&-1==c.indexOf("http://hichao.uz.m.jaeapp.com/d/wuxian/women")&&(c=c.replace(/^(http:|https:)/,location.protocol)),window.location.replace(c))})},getUrlParams:function(){if(lib.httpurl){var a=new lib.httpurl(location.href);return a.params}return null},mtopErrorHandler:function(a){var b=this,c=a.ret[0],d=c.split("::")[0];switch(d){case"FAIL_SYS_TRAFFIC_LIMIT":b.showToast("哎哟喂，被挤爆啦，请稍后重试");break;default:b.showToast("请求数据失败")}},showToast:function(a){null!=navigator.userAgent.match(/WindVane/i)?window.WindVane.call("WVUIToast","toast",a,function(a){},function(a){console.log(JSON.stringify(a))}):console.log(a)}};window.utils=b,window.utils.getUtdid(),window.utils.isSupportWebp(),window.addEventListener("DOMContentLoaded",function(){b.initNavBar(),a()},!1)}(),function(){var a={init:function(){this.imgLib=lib.img({"class":"lazy",size:"300x300",dataSrc:"data-img",sharpen:"s150",q:["q50","q30"],enableLazyload:!0}),this.addEvent(),this.createScroller(),window.setD11NavBar("festivalWithRainbowLine")},createScroller:function(){var a=this,b=$(".cate-list"),c=$(".cate-conts"),d=$(".box-left"),e=b.find("li").last(),f=d[0].getBoundingClientRect(),g=e[0].getBoundingClientRect();a.cateContScroller=lib.scroll(c[0],{direction:"y",isPrevent:!0,bounceOffset:{top:0,bottom:0}}),a.cateContScroller.init(),a.cateContScroller.element.addEventListener("scrollend",function(b){a.imgLib.fireLazyload()}),g.bottom-f.bottom>0?(a.cateListScroller=lib.scroll(b[0],{direction:"y",isPrevent:!0,bounceOffset:{top:0,bottom:0}}),a.cateListScroller.init()):d.on("touchmove",function(a){a.preventDefault()})},addEvent:function(){function a(){var a={},b=location.search;if(b){0===b.indexOf("?")&&(b=b.substr(1));for(var c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0])try{a[decodeURIComponent(e[0])]=decodeURIComponent(e[1]||"")}catch(f){a[e[0]]=e[1]||""}}}return a}var b=this,c=$(".cate-list a"),d="1819",e=$("body").attr("data-spm")||"1",f="1";if(c.length)if(c.on("click",function(a){a.preventDefault();var g=a.currentTarget,h=c.index(g);c.removeClass("cur"),$(g).addClass("cur"),$(".cate-conts .item").addClass("none").eq(h).removeClass("none"),b.cateListScroller&&b.cateListScroller.scrollToElement(g,!0),setTimeout(function(){b.cateContScroller&&(b.cateContScroller.refresh(),b.cateContScroller.scrollTo(0),b.imgLib.fireLazyload())},50),window.sessionStorage&&window.sessionStorage.setItem("h5_subcategory_tabIndex",h);var i="tab"+parseInt(h+1),j=d+"."+e+"."+i+"."+f;b.aplusLog(j)}),window.sessionStorage){var g=window.sessionStorage.getItem("h5_subcategory_tabIndex");g?c.eq(g).trigger("click"):c.eq(0).trigger("click")}else c.eq(0).trigger("click");var h=$("#J-page-category"),i=a();if(i&&"native"==i.from){if(h.length){var j=$(".hytpl-navbar").height(),k=document.documentElement.clientHeight;h.height(k-j)}}else $(".hytpl-navbar").removeClass("none")},aplusLog:function(a){}};window.addEventListener("DOMContentLoaded",function(){a.init()},!1)}();