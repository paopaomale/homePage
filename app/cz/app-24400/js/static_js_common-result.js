webpackJsonp([6],{137:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(22),o=n.n(r),i=n(151),a=n.n(i),c=n(12),u=n.n(c),s=n(45),l=n.n(s),f=n(3),p=n.n(f),d=n(0),h=(n.n(d),n(88)),v=(n.n(h),d.ResultAction.Item),m=p.a.query,y={"中国移动":{id:"1776456424",img:"",url:"//pages.tmall.com/wow/wt/17235/yushouhuichang?wh_weex=true&status=pre&channel=czwcypl",desc:"关注中国移动官方旗舰店获取更多优惠动态"},"中国联通":{id:"835231129",img:"",url:"//pages.tmall.com/wow/wt/17235/yushouhuichang?wh_weex=true&status=pre&channel=czwcypl",desc:"关注中国联通官方旗舰店获取更多优惠动态"},"中国电信":{id:"809107100",img:"",url:"//pages.tmall.com/wow/wt/17235/yushouhuichang?wh_weex=true&status=pre&channel=czwcypl",desc:"关注中国电信官方旗舰店获取更多优惠动态"}};e.default={name:"result",components:{"v-result-action":d.ResultAction,"v-result-action-item":v,"v-result-pannel":d.ResultPannel,"v-result-banner":d.ResultBanner,"v-modal":d.Modal},props:{type:{type:String,default:"cost"},sceneCodeConfig:{type:Object}},data:function(){var t=l()({},this.sceneCodeConfig);return{point:0,phoneNum:m.phoneNum,bizOrderId:m.bizOrderId,price:m.tbPrice,face:m.face,commonIrsScene:{},bannerIrsScene:{},bannerObj:{},activityButton:{},lottery:{},actions:[],shopModal:!1,shopObj:y[decodeURIComponent(m.isp||"")],sceneCode:t}},computed:{banners:function(){var t=this.bannerObj||{},e=[];return t[1001]&&!t[1001].isDefaultPic&&e.push(t[1001]),(t[1002]&&!t[1002].isDefaultPic||t[1003]&&!t[1003].isDefaultPic)&&e.push([u()({},t[1002]),u()({},t[1003])]),e},isSuccess:function(){return!!this.bizOrderId}},methods:{getShopSwitch:function(){var t=this;this.shopObj&&n.i(d.MtopRequest)({api:"mtop.wtt.promotion.activity.queryFollowsShopInfo",success:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"true"===e.open&&(t.shopModal=!0,t.shopObj.img=e.shopUrl)},error:function(t,e){}})},followShop:function(){var t=this;n.i(d.MtopRequest)({api:"mtop.taobao.social.follow.weitao.add",v:"3.0",data:{accountType:1,pubAccountId:this.shopObj.id,originBiz:"huichang",originPage:"cost_result"},complete:function(){n.i(d.openWindow)(t.shopObj.url)},success:function(t){},error:function(t,e){}})},getSceneMap:function(){return{tagMap:{face:this.face||""},userMap:{phone:[this.phoneNum||""]}}},setSceneMap:function(){var t=this.getSceneMap(),e=this.sceneCode;this.commonIrsScene=[e.lottery,e.activityBtn].concat(a()(e.action)).reduce(function(e,n){return l()(e,o()({},n,t))},{}),this.bannerIrsScene=e.banner.reduce(function(e,n){return l()(e,o()({},n,t))},{})},loadOrderInfo:function(t){var e=this,n=this,r=n.bizOrderId;r?d.ResultAPI.orderInfo(r,function(r){if(r.phoneNum&&(e.price=r.tbPrice,e.phoneNum=r.phoneNum,e.point=r.point),r.extInfo&&r.extInfo.widgetBtn){var o=r.extInfo.widgetBtn,i=o&&o.url&&o.url.indexOf("?")>-1?"&":"?";n.activityButton={text:o.text,url:""+o.url+i+"bizOrderId="+m.bizOrderId}}t&&t()}):t&&t()},loadIrs:function(){var t=this,e=this,n=e.sceneCode;this.setSceneMap(),d.CommonAPI.irs(e.commonIrsScene,function(t){if("1"===t.result){n.action.forEach(function(n){if(t[n].materialList&&t[n].materialList.length>0){var r=t[n].materialList[0];e.actions.push({icon:r.picUrl,text:r.mainTitle,url:r.url,desp:r.subTitle})}});var r=t[n.activityBtn]&&t[n.activityBtn].materialList&&t[n.activityBtn].materialList.length>0?t[n.activityBtn].materialList[0]:null;if(!e.activityButton.text&&r){var o=r&&r.url&&r.url.indexOf("?")>-1?"&":"?";e.activityButton={text:r.mainTitle,url:""+r.url+o+"bizOrderId="+m.bizOrderId}}var i=t[n.lottery]&&t[n.lottery].materialList&&t[n.lottery].materialList.length>0?t[n.lottery].materialList[0]:null;i&&(e.lottery={icon:i.picUrl,text:i.mainTitle,url:i.url})}}),d.CommonAPI.irs(e.bannerIrsScene,function(n){if("1"===n.result){var r={};t.sceneCode.banner.forEach(function(t){var e=n[t],o=e.materialList&&e.materialList.length>0?e.materialList[0]:null;if(o){var i=o.url&&o.url.indexOf("?")>-1?"&":"?";r[t]={isDefaultPic:"true"===e.defaultMaterial,url:""+o.url+i+"bizOrderId="+m.bizOrderId,img:o.picUrl,text:o.mainTitle}}}),e.bannerObj=r}})}},created:function(){var t=this;this.loadOrderInfo(function(){t.loadIrs()}),p.a.app.WindVane&&"/app/cz/result.html"===location.pathname&&this.getShopSwitch()}}},147:function(t,e,n){t.exports={default:n(152),__esModule:!0}},151:function(t,e,n){"use strict";e.__esModule=!0;var r=n(147),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o.default)(t)}},152:function(t,e,n){n(186),n(182),t.exports=n(5).Array.from},159:function(t,e,n){var r=n(78),o=n(8)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:i?r(e):"Object"==(c=r(e))&&"function"==typeof e.callee?"Arguments":c}},160:function(t,e,n){"use strict";var r=n(16),o=n(50);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},161:function(t,e,n){t.exports=n(15).document&&document.documentElement},163:function(t,e,n){var r=n(48),o=n(8)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},164:function(t,e,n){var r=n(23);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},165:function(t,e,n){"use strict";var r=n(170),o=n(50),i=n(83),a={};n(26)(a,n(8)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},166:function(t,e,n){"use strict";var r=n(168),o=n(14),i=n(177),a=n(26),c=n(25),u=n(48),s=n(165),l=n(83),f=n(173),p=n(8)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,v,m,y,b){s(n,e,v);var g,x,O,w=function(t){if(!d&&t in j)return j[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},I=e+" Iterator",_="values"==m,S=!1,j=t.prototype,A=j[p]||j["@@iterator"]||m&&j[m],M=A||w(m),C=m?_?w("entries"):M:void 0,k="Array"==e?j.entries||A:A;if(k&&(O=f(k.call(new t)))!==Object.prototype&&(l(O,I,!0),r||c(O,p)||a(O,p,h)),_&&A&&"values"!==A.name&&(S=!0,M=function(){return A.call(this)}),r&&!b||!d&&!S&&j[p]||a(j,p,M),u[e]=M,u[I]=h,m)if(g={values:_?M:w("values"),keys:y?M:w("keys"),entries:C},b)for(x in g)x in j||i(j,x,g[x]);else o(o.P+o.F*(d||S),e,g);return g}},167:function(t,e,n){var r=n(8)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},168:function(t,e){t.exports=!0},170:function(t,e,n){var r=n(23),o=n(171),i=n(81),a=n(51)("IE_PROTO"),c=function(){},u=function(){var t,e=n(80)("iframe"),r=i.length;for(e.style.display="none",n(161).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(c.prototype=r(t),n=new c,c.prototype=null,n[a]=t):n=u(),void 0===e?n:o(n,e)}},171:function(t,e,n){var r=n(16),o=n(23),i=n(49);t.exports=n(13)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),c=a.length,u=0;c>u;)r.f(t,n=a[u++],e[n]);return t}},173:function(t,e,n){var r=n(25),o=n(27),i=n(51)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},177:function(t,e,n){t.exports=n(26)},178:function(t,e,n){var r=n(52),o=n(46);t.exports=function(t){return function(e,n){var i,a,c=String(o(e)),u=r(n),s=c.length;return u<0||u>=s?t?"":void 0:(i=c.charCodeAt(u),i<55296||i>56319||u+1===s||(a=c.charCodeAt(u+1))<56320||a>57343?t?c.charAt(u):i:t?c.slice(u,u+2):a-56320+(i-55296<<10)+65536)}}},181:function(t,e,n){var r=n(159),o=n(8)("iterator"),i=n(48);t.exports=n(5).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},182:function(t,e,n){"use strict";var r=n(79),o=n(14),i=n(27),a=n(164),c=n(163),u=n(86),s=n(160),l=n(181);o(o.S+o.F*!n(167)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,p=i(t),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,y=0,b=l(p);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==b||d==Array&&c(b))for(e=u(p.length),n=new d(e);e>y;y++)s(n,y,m?v(p[y],y):p[y]);else for(f=b.call(p),n=new d;!(o=f.next()).done;y++)s(n,y,m?a(f,v,[o.value,y],!0):o.value);return n.length=y,n}})},186:function(t,e,n){"use strict";var r=n(178)(!0);n(166)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},188:function(t,e){},318:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"result"},[n("v-result-pannel",{attrs:{spm:"1001",point:t.point,number:t.phoneNum,face:t.face,price:t.price,type:t.type,"is-success":t.isSuccess,"lottery-href":t.lottery.url,"lottery-text":t.lottery.text,"lottery-icon":t.lottery.icon,"act-href":t.activityButton.url,"act-text":t.activityButton.text}}),t._v(" "),n("v-result-action",{attrs:{spm:"1002"}},t._l(t.actions,function(t){return n("v-result-action-item",{key:t.url,attrs:{desp:t.desp,icon:t.icon,name:t.text,href:t.url}})})),t._v(" "),n("v-result-banner",{attrs:{spm:"1003",items:t.banners}}),t._v(" "),n("div",{attrs:{"data-spm":"1004"}},[t.shopModal?n("v-modal",{staticClass:"tempModal",attrs:{maskClosable:!1},on:{close:function(e){t.shopModal=!1},ok:function(e){t.shopModal=!1}}},[n("div",{staticClass:"m-body"},[n("div",{staticClass:"img",style:"background-image: url("+t.shopObj.img+")"},[n("a",{attrs:{href:t.shopObj.url,target:"_blank","data-spm-click":"gostr=/alitx;locaid=dshopb"}})]),t._v(" "),n("div",{staticClass:"buttons"},[n("a",{attrs:{href:t.shopObj.url,target:"_blank","data-spm-click":"gostr=/alitx;locaid=dshopb1"}},[t._v("逛517会场")]),t._v(" "),n("a",{attrs:{href:"javascript:","data-spm-click":"gostr=/alitx;locaid=dshopb2"},on:{click:t.followShop}},[t._v("关注店铺")])]),t._v(" "),n("p",[t._v(t._s(t.shopObj.desc))])])]):t._e()],1)],1)},staticRenderFns:[]}},44:function(t,e,n){n(188);var r=n(40)(n(137),n(318),null,null);t.exports=r.exports},48:function(t,e){t.exports={}},8:function(t,e,n){var r=n(84)("wks"),o=n(87),i=n(15).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},83:function(t,e,n){var r=n(16).f,o=n(25),i=n(8)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}}});