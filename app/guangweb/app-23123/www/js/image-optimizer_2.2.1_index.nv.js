define("kg/image-optimizer/index",["kg/rx-dimensions/index"],function(e,t,n){var r,u,o,a,f,i,d,c=e("kg/rx-dimensions/index");r=function(e){e={},Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(e){return e.match(t)};var t=/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.(?:com|net))(\/.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i;return e=e["default"]}(),u=function(e){return e={},Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(e){return e.replace(/(http|https):/gi,"")},e=e["default"]}(),o=function(e){e={},Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(e,r){var u=r.match(n);return u&&u[0]!=t?e.replace(r,t):e};var t="gw.alicdn.com",n=/(.+\.(?:alicdn|taobaocdn|taobao|mmcdn)\.com)/;return e=e["default"]}(),a=function(e){function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){var n=1e3,r=e,u=0;if(t.forEach(function(t,o){var a=Math.abs(t-e);return 0===a?(r=t,u=o,!1):void(n>a&&(n=a,r=t,u=o))}),e>r&&t[u+1]&&(r=t[u+1]),t.indexOf(r)>-1)return r}e={},Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};e["default"]=function(e){var t="string"==typeof e&&e.indexOf("rem")>-1,r="number"==typeof e;if(t||r){var u=parseFloat(e,10),o=1;t&&(o=l/i);var a=n(parseInt(u/o,10),d);if(a)return a+"x10000"}return""};var u=c,o=t(u),a=o["default"].get("window"),f="object"===("undefined"==typeof window?"undefined":r(window)),i=a.width;f&&(i=document.documentElement.clientWidth/750*i);var d=[110,140,150,170,220,230,240,290,300,360,450,570,580,620,790],l=750;return e=e["default"]}(),f=function(e){e={},Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){return t};var t="_.webp";return e=e["default"]}(),i=function(e){return e={},Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(e,t,n){return e?e:(t?"Q"+t:"")+(n?"S"+n:"")},e=e["default"]}(),d=function(e){function t(e){return e&&e.__esModule?e:{"default":e}}e={},Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(e,t){var n=t.scalingWidth,r=t.webp,u=t.compressSuffix,o=t.quality,a=t.acutance,f=t.removeScheme,i=t.replaceDomain,c=t.ignoreGif,p=t.ignorePng,s=e;if("string"==typeof e){var b=(0,d["default"])(e);if(b){var _=b[1],h=b[2],j=h.match(x)||[],O=!~h.indexOf("gif")&&!~h.indexOf("GIF")||!c,w=!~h.indexOf("png")&&!~h.indexOf("png")||!p,M=j[1]||"";n&&O&&(M=(0,v["default"])(n,h)||M);var P=j[5]||"";r&&O&&(P=(0,y["default"])()||P);var S=j[3]||"";(u||o||a)&&O&&w&&(S=(0,g["default"])(u,o,a)||S);var q=M?j[2]||"":"",z=M||S?j[4]||".jpg":"",E=M||S?"_":"";O&&("_.jpg"!==j[0]&&(s=s.replace(j[0],"")),s+=E+M+q+S+z+P,f&&(s=(0,l["default"])(s))),i&&(s=(0,m["default"])(s,_))}}return s};var n=r,d=t(n),c=u,l=t(c),p=o,m=t(p),s=a,v=t(s),b=f,y=t(b),_=i,g=t(_),x=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i;return e=e["default"]}(),n.exports=d});