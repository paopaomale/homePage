!function(e){"use strict";var t="undefined"==typeof window?null:window;"function"==typeof define&&define.amd?define(function(){return e(t)}):"undefined"!=typeof module?module.exports=e(t):t.DOMPurify=e(t)}(function e(t){"use strict";var n=function(t){return e(t)};if(n.version="0.8.0",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=r,i=t.DocumentFragment,a=t.HTMLTemplateElement,u=t.NodeFilter,c=t.DOMParser;if("function"==typeof a){var l=r.createElement("template");l.content&&l.content.ownerDocument&&(r=l.content.ownerDocument)}var f=r.implementation,d=r.createNodeIterator,m=r.getElementsByTagName,s=r.createDocumentFragment,p=o.importNode,b={};n.isSupported="undefined"!=typeof f.createHTMLDocument&&9!==r.documentMode;var v=function(e,t){for(var n=t.length;n--;)"string"==typeof t[n]&&(t[n]=t[n].toLowerCase()),e[t[n]]=!0;return e};n.parseURL=function(e,t){var n,r="",o=0,i=[];for(o;o<t.length;o++)t[o]="("+t[o].replace(".","\\.")+")";return r="("+t.join("|")+")",n=new RegExp("^s*((http://)|(https://)|(//))?([0-9a-zA-Z\\._:\\-]*[\\.@])?"+r+"(:[0-9]+)?(/.*)?$"),i=e.match(n),!(!i||!i[0])};var y=v({},["script","applet"]),T=null,h=[],L=!0,O=!0,g=!1,E=!1,N=!1,S=!1,M=!0,w=!0,_=v({},["audio","video","img","source"]),A=v({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style"]),H=null,C=function(e){"object"!=typeof e&&(e={}),T="FORBID_TAGS"in e?v({},e.FORBID_TAGS):y,h="ALLOW_FLASH_URLS"in e?h.concat(e.ALLOW_FLASH_URLS):h,O=e.ALLOW_UNKNOWN_PROTOCOLS||!0,g=e.WHOLE_DOCUMENT||!1,E=e.RETURN_DOM||!1,N=e.RETURN_DOM_FRAGMENT||!1,S=e.RETURN_DOM_IMPORT||!1,M=e.SANITIZE_DOM!==!1,w=e.KEEP_CONTENT!==!1,N&&(E=!0),Object&&"freeze"in Object&&Object.freeze(e),H=e},D=function(e){n.removed.push({element:e});try{var t=e.parentNode;t.removeChild(e)}catch(r){e.outerHTML=""}},z=function(e,t){n.removed.push({attribute:t.getAttributeNode(e),from:t}),t.removeAttribute(e)},R=function(e){var t,n;e="<div></div>"+e;try{t=(new c).parseFromString(e,"text/html")}catch(r){}return t&&t.documentElement||(t=f.createHTMLDocument(""),n=t.body,n.parentNode.removeChild(n.parentNode.firstElementChild),n.outerHTML=e),t.body.removeChild(t.body.firstElementChild),"function"==typeof t.getElementsByTagName?t.getElementsByTagName(g?"html":"body")[0]:m.call(t,g?"html":"body")[0]},F=function(e){return d.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,function(){return u.FILTER_ACCEPT},!1)},x=function(e){var t;return G("beforeSanitizeElements",e,null),t=e.nodeName.toLowerCase(),G("uponSanitizeElement",e,{tagName:t}),T[t]?(D(e),!0):(G("afterSanitizeElements",e,null),!1)},k=/^data-[\-\w.\u00B7-\uFFFF]/,I=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,P=/^(?:\w+script|data):/i,j=/[\x00-\x20\xA0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,U=function(e){var t,r,o,i,a,u,c,l;if(G("beforeSanitizeAttributes",e,null),u=e.attributes){for(c={attrName:"",attrValue:"",keepAttr:!0},l=u.length;l--;)if(t=u[l],r=t.name,o=t.value,i=r.toLowerCase(),c.attrName=i,c.attrValue=o,c.keepAttr=!0,G("uponSanitizeAttribute",e,c),o=c.attrValue,"name"===i&&"IMG"===e.nodeName&&u.id?(a=u.id,u=Array.prototype.slice.apply(u),z("id",e),z(r,e),u.indexOf(a)>l&&e.setAttribute("id",a.value)):("id"===r&&e.setAttribute(r,""),z(r,e)),c.keepAttr)if(W(e.nodeName.toLowerCase(),i,o)){if(A[i]||I.test(o.replace(j,""))||"src"===i&&0===o.indexOf("data:")&&_[e.nodeName.toLowerCase()]||L&&k.test(i)||O&&(!P.test(o.replace(j,""))||/^data:image\/\w+,/i.test(o.replace(j,""))))try{e.setAttribute(r,o),n.removed.pop()}catch(f){}}else e.setAttribute(r+"_",o);G("afterSanitizeAttributes",e,null)}},W=function(e,t,r){if("link"==e&&"rel"==t)return r.toLowerCase().indexOf("import")>-1?!1:!0;if("param"==e||"embed"==e){if(h.includes(r))return!0;var o=["alicdn.com","tbcdn.com","taobaocdn.com","taobao.net","taobao.com"];if(n.parseURL(r,o))return!0}return t.startsWith("on")||"object"==e&&"data"==t||"param"==e&&["data","src","movie"].includes(t)||"embed"==e&&["code","src"].includes(t)||"meta"==e&&"http-equiv"==t||"base"==e&&"href"==t||["frame","iframe"].includes(e)&&["src","srcdoc"].includes(t)?!1:!0},B=function(e){var t,n=F(e);for(G("beforeSanitizeShadowDOM",e,null);t=n.nextNode();)G("uponSanitizeShadowNode",t,null),x(t)||(t.content instanceof i&&B(t.content),U(t));G("afterSanitizeShadowDOM",e,null)},G=function(e,t,r){b[e]&&b[e].forEach(function(e){e.call(n,t,r,H)})};return n.shouldCheck=function(e){var t=/(?:<\/*(script|applet|link|object|param|embed|meta|base|iframe|frame))|(?:[^\w]on\w+\s*=)|(?:\w+script:|data:[^(image)])/i;return t.test(e)?!0:!1},n.sanitize=function(e,r){var a,u,c,l,f;if(e||(e=""),"string"!=typeof e){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");e=e.toString()}if(!n.isSupported)return"object"==typeof t.toStaticHTML||"function"==typeof t.toStaticHTML?t.toStaticHTML(e):e;if(C(r),n.removed=[],!E&&!g&&-1===e.indexOf("<"))return e;if(!n.shouldCheck(e))return e;if(a=R(e),!a)return E?null:"";for(l=F(a);u=l.nextNode();)(3!==u.nodeType||u!==c)&&(x(u)||(u.content instanceof i&&B(u.content),U(u),c=u));if(E){if(N)for(f=s.call(a.ownerDocument);a.firstChild;)f.appendChild(a.firstChild);else f=a;return S&&(f=p.call(o,f,!0)),f}return g?a.outerHTML:a.innerHTML},n.addHook=function(e,t){"function"==typeof t&&(b[e]=b[e]||[],b[e].push(t))},n.removeHook=function(e){b[e]&&b[e].pop()},n.removeHooks=function(e){b[e]&&(b[e]=[])},n.removeAllHooks=function(){b=[]},n});var _globalPurifyConfig={},_originInnerHTML=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML");Object.defineProperty(Element.prototype,"innerHTML",{get:_originInnerHTML.get,configurable:!0,enumerable:!0,set:function(e){var t=DOMPurify.sanitize(e,_globalPurifyConfig);_originInnerHTML.set.call(this,t)}});
