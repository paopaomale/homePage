!function(e,t){function i(e,t){e=e.toString().split("."),t=t.toString().split(".");for(var i=0;i<e.length||i<t.length;i++){var n=parseInt(e[i],10),r=parseInt(t[i],10);if(window.isNaN(n)&&(n=0),window.isNaN(r)&&(r=0),r>n)return-1;if(n>r)return 1}return 0}var n=e.Promise,r=e.document,a=e.navigator.userAgent,o=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(a)||/Windows\sNT\s[\d\.]+/i.test(a),s=o&&e.WindVane_Win_Private&&e.WindVane_Win_Private.call,c=/iPhone|iPad|iPod/i.test(a),l=/Android/i.test(a),u=a.match(/WindVane[\/\s](\d+[._]\d+[._]\d+)/),d=Object.prototype.hasOwnProperty,f=t.windvane=e.WindVane||(e.WindVane={}),p=(e.WindVane_Native,1),h=[],g=3,v="hybrid",m="wv_hybrid",y="iframe_",w="suc_",b="err_",_="defer_",A="param_",S="chunk_",k=6e5,C=6e5,T=6e4;u=u?(u[1]||"0.0.0").replace(/\_/g,"."):"0.0.0";var P={isAvailable:1===i(u,"0"),call:function(e,t,i,r,a,o){var s,c;return"number"==typeof arguments[arguments.length-1]&&(o=arguments[arguments.length-1]),"function"!=typeof r&&(r=null),"function"!=typeof a&&(a=null),n&&(c={},c.promise=new n(function(e,t){c.resolve=e,c.reject=t})),s=o>0?setTimeout(function(){P.onFailure(s,{ret:"HY_TIMEOUT"})},o):I.getSid(),I.registerCall(s,r,a,c),I.registerGC(s,o),I.callMethod(e,t,i,s),c?c.promise:void 0},fireEvent:function(e,t,i){var n=r.createEvent("HTMLEvents");n.initEvent(e,!1,!0),n.param=I.parseData(t||I.getData(i)),r.dispatchEvent(n)},getParam:function(e){return I.getParam(e)},setData:function(e,t){I.setData(e,t)},onSuccess:function(e,t){I.onComplete(e,t,"success")},onFailure:function(e,t){I.onComplete(e,t,"failure")}},I={params:{},chunks:{},calls:{},getSid:function(){return Math.floor(Math.random()*(1<<50))+""+p++},buildParam:function(e){return e&&"object"==typeof e?JSON.stringify(e):e||""},getParam:function(e){return this.params[A+e]||""},setParam:function(e,t){this.params[A+e]=t},parseData:function(e){var t;if(e&&"string"==typeof e)try{t=JSON.parse(e)}catch(i){t={ret:["WV_ERR::PARAM_PARSE_ERROR"]}}else t=e||{};return t},setData:function(){this.chunks[S+sid]=this.chunks[S+sid]||[],this.chunks[S+sid].push(chunk)},getData:function(e){return this.chunks[S+e]?this.chunks[S+e].join(""):""},registerCall:function(e,t,i,n){t&&(this.calls[w+e]=t),i&&(this.calls[b+e]=i),n&&(this.calls[_+e]=n)},unregisterCall:function(e){var t=w+e,i=b+e,n=_+e,r={};return this.calls[t]&&(r.success=this.calls[t],delete this.calls[t]),this.calls[i]&&(r.failure=this.calls[i],delete this.calls[i]),this.calls[n]&&(r.deferred=this.calls[n],delete this.calls[n]),r},useIframe:function(e,t){var i=y+e,n=h.pop();n||(n=r.createElement("iframe"),n.setAttribute("frameborder","0"),n.style.cssText="width:0;height:0;border:0;display:none;"),n.setAttribute("id",i),n.setAttribute("src",t),n.parentNode||setTimeout(function(){r.body.appendChild(n)},5)},retrieveIframe:function(e){var t=y+e,i=r.querySelector("#"+t);h.length>=g?r.body.removeChild(i):h.push(i)},callMethod:function(t,i,n,r){if(n=I.buildParam(n),o)s?e.WindVane_Win_Private.call(t,i,r,n):this.onComplete(r,{ret:"HY_NO_HANDLER_ON_WP"},"failure");else{var a=v+"://"+t+":"+r+"/"+i+"?"+n;if(c)this.setParam(r,n),this.useIframe(r,a);else if(l){var u=m+":";window.prompt(a,u)}else this.onComplete(r,{ret:"HY_NOT_SUPPORT_DEVICE"},"failure")}},registerGC:function(e,t){var i=this,n=Math.max(t||0,k),r=Math.max(t||0,T),a=Math.max(t||0,C);setTimeout(function(){i.unregisterCall(e)},n),c?setTimeout(function(){i.params[A+e]&&delete i.params[A+e]},r):l&&setTimeout(function(){i.chunks[S+e]&&delete i.chunks[S+e]},a)},onComplete:function(e,t,i){clearTimeout(e);var n=this.unregisterCall(e),r=n.success,a=n.failure,o=n.deferred;t=t?t:this.getData(e),t=this.parseData(t);var s=t.ret;"string"==typeof s&&(t=t.value||t,t.ret||(t.ret=[s])),"success"===i?(r&&r(t),o&&o.resolve(t)):"failure"===i&&(a&&a(t),o&&o.reject(t)),c?(this.retrieveIframe(e),this.params[A+e]&&delete this.params[A+e]):l&&this.chunks[S+e]&&delete this.chunks[S+e]}};for(var W in P)d.call(f,W)||(f[W]=P[W])}(window,window.lib||(window.lib={}));
!function e(t,n,i){function a(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(r)return r(o,!0);throw new Error("Cannot find module '"+o+"'")}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return a(n?n:e)},l,l.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,n){function i(e){return"string"==typeof e}function a(e){return"number"==typeof e}function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){return e&&function(n){n=n||{},n.errorCode=0,n.errorMessage="",t&&(n=t(n)),e(n)}}function s(e){return e&&function(t){var n=6,a=i(t)?t:t.ret;t&&f[a]>0&&(n=f[a]);var o=r(t)?t:{};o.errorCode=n,o.errorMessage=a,e(o)}}function c(e,t){return e&&function(n){if("string"==typeof n)try{n=JSON.parse(n)}catch(i){}f[String(n.ret)]?s(e)(n):o(e,t)(n)}}function l(e){return function(t,n){Ali.callWindVane(e,t,n)}}function u(e){var t=e.createWatchAPI=function(t){var n=[],i=function(e){for(var i,a=t.resultProcessor?t.resultProcessor(e):e,r=0;i=n[r];r+=1)i(a)};return{watch:function(a,r){return 0===n.length&&(e.callWindVane(t.watchAPI,t.optProcessor(a),function(e){e.errorCode&&r(e)}),document.addEventListener(t.evtName,i,!1)),n.push(r),t.name+"#"+(n.length-1)},clearWatch:function(i,a){if(i=String(i).split("#"),2===i.length&&(i=parseInt(i[1],10)),"number"==typeof i&&n.splice(i,1),0===n.length){var r=t.clearWatchAPI||t.watchAPI;e.callWindVane(r,{on:!1},a)}else a({errorCode:0})}}};e.toast=function(t,n){var a=i(t)?t:t&&t.text,r={message:a,duration:Number(t.duration)/1e3||.8};e.callWindVane("WVUIToast.toast",r,n)},e.showLoading=function(t,n){e.callWindVane("WVUI.showLoadingBox",{},n)},e.hideLoading=function(t){e.callWindVane("WVUI.hideLoadingBox",{},t)},e.photo=function(t,n){t=t||{},t.mode=t.src,"gallary"===t.mode&&(t.mode="photo"),t.type=t.type||"1",t.mask&&(t.maskImg=t.mask.src||t.maskImg||"",t.maskWidth=t.mask.width||t.maskWidth||640,t.maskHeight=t.mask.height||t.maskHeight||640),e.callWindVane("WVCamera.takePhoto",t,n,function(e){return e.photo=e.resourceURL,e})},e.contacts={askAuth:function(t){e.callWindVane("WVContacts.askAuth",{},t)},getAuthStatus:function(t){e.callWindVane("WVContacts.authStatus",{},t)},get:function(t,n){e.callWindVane("WVContacts.choose",{},n,function(e){var t=[{name:e.name,phoneNumber:e.phone,phone:e.phone,email:e.email}];return e.results=t,e})},find:function(t,n){e.callWindVane("WVContacts.find",t,n,function(e){return e.results=e.contacts,e})}},e.geolocation={getCurrentPosition:function(t,n){t=t||{},t.enableHighAcuracy=!!t.enableHighAcuracy,t.address=!!t.address,e.callWindVane("WVLocation.getLocation",t,n,function(e){var t=e.address,n=e.coords;return t&&"object"==typeof t&&(e.city=t.city,e.cityCode=t.cityCode,e.province=t.province,e.address=t.addressLine),n&&(n.longitude=parseFloat(n.longitude),n.latitude=parseFloat(n.latitude),n.accuracy=parseFloat(n.accuracy)),e})},searchLocation:function(t,n){e.callWindVane("WVLocation.searchLocation",t,n)}},e.network={getType:function(t){e.callWindVane("WVNetwork.getNetworkType","",t,function(e){var t=e.network||e.type||"",n={errorCode:0,type:t,isWifi:!1,is2G:!1,is3G:!1,isOnline:!/^(?:none|\s*)$/i.test(t)};return/WIFI/i.test(t)?n.isWifi=!0:/GPRS|EDGE|CDMA/i.test(t)?n.is2G=!0:/UMTS|HSDPA|EVDO/i.test(t)&&(n.is3G=!0),n.isE=n.isG=n.isH=!1,n["is"+n.type.toUpperCase()]=!0,n})}},e.shake=t({name:"shake",watchAPI:"WVMotion.listeningShake",evtName:"motion.shake",optProcessor:function(e){return e=e||{},e.on=!0,e}}),e.blow=t({name:"blow",watchAPI:"WVMotion.listenBlow",clearWatchAPI:"WVMotion.stopListenBlow",evtName:"motion.blow",optProcessor:function(e){return e=e||{},e.on=!0,e}}),e.vibration={vibrate:function(t,n){t=a(t)?{duration:t}:t,e.callWindVane("WVMotion.vibrate",t,n)}},e.pushWindow=function(t,n){i(t)&&(t={url:t}),/^[\/\.]/.test(t.url)&&(t.url=d(t.url)),e.callWindVane("Base.openWindow",t,n)},e.captureScreen=function(t,n){t=t||{},t.inAlbum=t.inAlbum?"true":"false",e.callWindVane("WVScreen.capture",t,n)},e.writeFile=l("WVFile.write"),e.readFile=l("WVFile.read"),e.beep=l("WVNotification.beep");var n=/:\s*"(0|false|true|[1-9]\d*)"/g;e.mtop=function(t,i){t.timer=t.timer||t.timeout,t.param=t.param||t.data;var a=t.isFormatString?function(e){try{var t=JSON.stringify(e).replace(n,":$1");e=JSON.parse(t)}catch(i){}return e}:null;e.callWindVane("MtopWVPlugin.send",t,i,a)}}var f={HY_SUCCESS:0,HY_NO_HANDLER:1,HY_PARAM_ERR:2,HY_UNKNOWN_ERR:3,HY_NO_PERMISSION:4,HY_TIMEOUT:5,HY_FAILED:6,HY_CLOSED:7},d=function(e){var t=document.createElement("a");return t.href=e,e=t.href,t=null,e};t.exports={mixin:u,wrapSuccess:o,wrapError:s,wrapResult:c,createNormalAPI:l}},{}],2:[function(e,t,n){!function(t,n,i){if(t&&t.navigator&&/WindVane[\/\s]([\d\.\_]+)/i.test(t.navigator.userAgent)){var a=e("./base");a.mixin(i),i.callWindVane=function(e,t,n,i,r){e=e.split("."),WindVane.call(e[0],e[1],t,a.wrapSuccess(n,i),a.wrapError(n),r)}}}(window,window.lib||(window.lib={}),window.Ali||(window.Ali={}))},{"./base":1}]},{},[2]);
!function(e,t){function n(e){e=e.split(".");for(var t,n,i=0;i<b.length;i++){if(t=parseInt(e[i],10)||0,n=parseInt(b[i],10)||0,t>n)return 1;if(n>t)return-1}return 0}function i(e,t){for(var n=String(e).split("."),i=String(t).split("."),a=Math.max(n.length,i.length),r=0;a>r;r++){if(n[r]&&!i[r]&&parseInt(n[r])>0||parseInt(n[r])>parseInt(i[r]))return 1;if(i[r]&&!n[r]&&parseInt(i[r])>0||parseInt(n[r])<parseInt(i[r]))return-1}return 0}function a(e){return"string"==typeof e}function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function o(e,t,n,i,a){e=e.split(".");var r=e[0],o=e[1];m&&m.call(r,o,t,n,i,a)}function s(e,t){return(e||t)&&function(n){n=t&&t(n)||n,e&&e(l(n))}}function c(e){return e&&function(t){e(u(t))}}function l(e){return e=e||{},e.errorCode=0,e.errorMessage="",e}function u(e){var t=6,n=a(e)?e:e.ret;if(e){var i=_.indexOf(n);t=i>0?i:t}return{errorCode:t,errorMessage:n,data:e}}function f(e,t){if(t&&e){var n=document.createElement("meta");n.setAttribute("id",e),n.setAttribute("value",t),document.head.appendChild(n)}}var d,p,h=e.navigator.userAgent;if((d=h.match(/AliApp\(TB\/([\d\.]+)\)/))?p=d[1]:(d=h.match(/@([^_@]+)_(iphone|android|ipad|apad)_([\d\.]+)/))&&(p=d[3]),h.match(/WindVane[\/\s]([\d\.\_]+)/)){var m=t.windvane,g=document,v=/iPhone|iPad|iPod/i.test(h),w=/Android/i.test(h),b=h.match(/WindVane[\/\s](\d+)[._](\d+)[._](\d+)/i),b=b?b.slice(1,4):[0,0,0],y=location.host.match(/waptest|wapa/i),y=y&&y[0]||"m",_=["HY_SUCCESS","HY_NO_HANDLER","HY_PARAM_ERR","HY_UNKNOWN_ERR","HY_NO_PERMISSION","HY_TIMEOUT","HY_FAILED","HY_CLOSED"],P=e.Ali=t.Ali=e.Ali||{};P.appinfo={name:"taobao",ver:p||"0.0.0",engine:"windvane",engineVer:b.join(".")},P.call=o,P.setTitle=function(e,t){var n=a(e)?e:e&&e.text,i=w?{title:n}:n;g.title=n,o("WebAppInterface.setCustomPageTitle",i,s(t),c(t)),t&&t(l(null))},P.showTitle=function(e){var t=v?function(t){window.Event&&window.dispatchEvent&&window.dispatchEvent(new Event("resize")),e&&e(t)}:e;o("WebAppInterface.setNaviBarHidden","0",s(t),c(e))},P.hideTitle=function(e,t){t=t||{autoReset:!1},t.hidden="1";var n=v?function(t){window.Event&&window.dispatchEvent&&window.dispatchEvent(new Event("resize")),e&&e(t)}:e,a=i(p,"5.4.0")<0?t.hidden:t;o("WebAppInterface.setNaviBarHidden",a,s(n),c(e))},P.pushWindow=function(e,t){var i=a(e)?e:e&&e.url,r=document.createElement("a");r.href=i,i=r.href,r=null;var l=function(e){t&&t(e),t=null};setTimeout(function(){l({})},e.timeout||1e3),n("4.5.0")<=0?o("Base.openWindow",{url:i},s(l),c(l)):l(u("HY_NO_HANDLER"))},P.popWindow=function(t,n){1===e.history.length||n?o("WVNative.nativeBack",null,s(t),c(t)):(e.history.back(),t&&t(l(null)))},P.login=function(e){for(var t="_tbLoginCallback";window[t];)t+="_";window[t]=function(n){window[t]=null;var i={errorCode:/success/i.test(n)?0:6,errorMessage:n};e(i)},location.href="//login.m.taobao.com/login.htm?wvLoginCallback="+t},P.h5TradePay=function(e,t){var n="http://d."+y+".taobao.com/goAlipay.htm?simplepay=1&needpop=1";for(var i in e)n+="&"+i+"="+encodeURIComponent(e[i]);location.href=n,t&&t(l({payUrl:n}))},P.tradePay=function(e,t){e.orderStr?o("TBWVPayPasswrdValidateHandler.checkPayPasswordAction",{url:e.orderStr},s(function(e){var n={8e3:"\u6b63\u5728\u5904\u7406",6001:"\u7528\u6237\u53d6\u6d88",4e3:"\u652f\u4ed8\u5931\u8d25",6002:"\u7f51\u7edc\u51fa\u9519"};"9000"!==String(e.ResultStatus)&&(e.errorCode=e.ResultStatus||3,e.errorMessage=n[e.ResultStatus]||"\u672a\u77e5\u9519\u8bef"),t(e)}),c(t)):e.tradeNO&&o("WVCookie.readCookies",{url:"http://h5.m.taobao.com"},function(n){e.bizType=e.bizType||"trade";var i=n.value?n.value.cookie2:/cookie2=(.*?);/.test(n)?RegExp.$1:"",a="biz_type="+e.bizType+"&trade_no="+e.tradeNO+"&extern_token="+i,r="https://wappaygw.alipay.com/home/exterfaceAssign.htm?biz_type="+e.bizType+"&trade_no="+e.tradeNO+"&extern_token="+i;location.href="http://d.m.taobao.com/goAlipay.html?signStr="+encodeURIComponent(a)+"&alipayURL="+encodeURIComponent(r)+"&backURL="+encodeURIComponent(e.backUrl||"")+"&unSuccessUrl="+encodeURIComponent(e.unSuccessUrl||"")+"&simplepay=1&needpop=1",t({})},function(){t({errorCode:6,errorMessage:"extern token get failed"})})},P.audio={play:function(e,t){var n=a(e)?e:e&&e.url;o("H5AudioPlayer.play",{voiceUrl:n},s(t),c(t))},stop:function(e,t){o("H5AudioPlayer.stop",null,s(t),c(t))}};var C=function(e){if(r(e)){for(var t=0;t<e.length;t++)e[t]=C(e[0]);return{data:e}}e.eventId||(e.eventId=String(+new Date)),e.sourceId=e.sourceId||"8003";var n=e.startDate,i=e.endDate,a=/[- :]/g;return n&&(e.startTime=n.replace(a,""),e.endTime=i.replace(a,""),delete e.startDate,delete e.endDate),e.link=e.link||location.href,e.alarmOffset&&(e.remind=60*e.alarmOffset),e.description=e.description||"",e};P.calendar={add:function(e,t){e=C(e);var n=r(e.data)?"ByBatch":"";P.callWindVane("TBURLCache.addCalendarPlan"+n,e,t)},remove:function(e,t){e=C(e);var n=r(e.data)?"ByBatch":"";P.callWindVane("TBURLCache.cancelCalendarPlan"+n,e,t)},check:function(e,t){e=C(e);var n=r(e.data)?"ByBatch":"";P.callWindVane("TBURLCache.checkCalendarPlanIsExist"+n,e,t)}},P.share=function(e,t){e=e||{},o("TBSharedModule.showSharedMenu",e,s(t),c(t))},P.setNavShare=function(e){e.title&&f("WV.Meta.Share.Title",e.title),e.image&&f("WV.Meta.Share.Image",e.image),e.text&&f("WV.Meta.Share.Text",e.text),e.url&&f("WV.Meta.Share.Url",e.url)},P.scanCode=function(e,t){o("Scancode.scan",e,s(t),c(t))},P.getUtdid=function(e){o("TBDeviceInfo.getUtdid",{},s(e),c(e))};var A=navigator.geolocation||(navigator.geolocation={});A.getCurrentPosition||(A.getCurrentPosition=P.geolocation.getCurrentPosition)}}(window,window.lib||(window.lib={}));