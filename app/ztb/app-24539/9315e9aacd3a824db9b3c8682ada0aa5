define("upx/abs-mod/content-interact-rich/index",[],function(e,t,n){var o=e("rax"),r=e("npm/@ali/rax-components/index"),i=e("npm/@ali/universal-goldlog/index"),c=e("npm/@ali/universal-user/index"),a=e("npm/@ali/universal-mtop/index"),X=e("npm/@ali/universal-share/index"),l=e("npm/@ali/content-skins/index");n.exports=function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,n){function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return!0===e||"true"===e}Object.defineProperty(t,"__esModule",{value:!0});var X=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),u=n(2),s=n(12),d=o(s),p=n(4),m=o(p),f=n(13),g=o(f),h=n(8),x=o(h),T=n(9),b=o(T),y="//h5.m.taobao.com/social/commentList.htm?",C=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleLike=function(){var e=n.props.data,t=n.state,o=t.didLike,r=t.likeCount;(0,g.default)(Object.assign({},e,n.state)).then(function(){var e=a(o);n.setState({didLike:!e,likeCount:Number(r)+(e?-1:1)})},function(e){return window.alert(e)})},n.handleInput=function(){n.goCommentPage()},n.handleComment=function(){n.goCommentPage()},n.goCommentPage=function(){var e=n.props.data,t=e.targetType,o=e.subTargetType,r=e.contentId,i=e.accountId,c=e.source;window.open(y+"targetType="+t+"&subTargetType="+o+"&targetId="+r+"&accountId="+i),m.default.record("/content.details.content_comment_icon","CLK","account_id="+i+"&content_id="+r+"&source="+c,"H1511971697")},n.handleShare=function(){var e=n.props.data,t=e.contentId,o=e.accountId,r=e.title,i=e.summary,c=e.coverUrl,a=e.contentUrl,X=e.source;(0,x.default)({businessId:"33",title:r,text:i,image:c,url:a,targets:"all"}),m.default.record("/content.details.content_share","CLK","account_id="+o+"&content_id="+t+"&source="+X,"H1505507020")},n.state=n.props.data;var o=e.attrs,c=void 0===o?{}:o;return n.contentSkin=(0,b.default)(c.contentSkin),n}return c(t,e),X(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.data,n=t.didLike,o=t.commentCount,r=t.likeCount;this.setState({didLike:n,commentCount:o,likeCount:r})}},{key:"render",value:function(){var e=this.props.attrs,t=e.placeholder,n=void 0===t?"\u6211\u4e5f\u6709\u8bdd\u8bf4":t,o=e.skin,r=void 0===o?"orange":o,i=e.disableLike,c=e.disableComment,X=e.disableShare,s=e.fixedModel,p=this.state,m=p.likeCount,f=p.commentCount,g=p.didLike;m=parseInt(m),f=parseInt(f);var h=m>999?"999+":m,x=f>999?"999+":f,T=d.default[r];return"orange"===r&&(T.likeDidPic=this.contentSkin.iconLikeDid||T.likeDidPic,T.selectedColor=this.contentSkin.colorPrimary||T.selectedColor),(0,l.createElement)(u.View,{style:[w.container,{backgroundColor:T.backgroundColor},s?P:null]},(0,l.createElement)(u.View,{style:w.textInputBox},(0,l.createElement)(u.TouchableHighlight,{style:[w.textInput,{backgroundColor:T.inputBackgroundColor,borderColor:T.inputBorderColor}],onPress:this.handleInput},(0,l.createElement)(u.View,{style:w.iconBox},(0,l.createElement)(u.Image,{source:{uri:"//gw.alicdn.com/tps/TB1s12UKVXXXXcRXXXXXXXXXXXX-32-32.png"},style:w.icon})),(0,l.createElement)(u.View,null,(0,l.createElement)(u.Text,{style:w.textPlaceholder},n)))),(0,l.createElement)(u.View,{style:w.opts},!i&&(0,l.createElement)(u.TouchableHighlight,{style:w.item,onPress:this.handleLike},(0,l.createElement)(u.View,{style:w.itemPicBox},(0,l.createElement)(u.Image,{source:{uri:a(g)?T.likeDidPic:T.likePic},style:w.pic})),(0,l.createElement)(u.View,{style:w.itemTextBox},(0,l.createElement)(u.Text,{style:[w.itemText,{color:T.itemText},a(g)?{color:T.selectedColor}:null]},h||"\u70b9\u8d5e"))),!c&&(0,l.createElement)(u.TouchableHighlight,{style:w.item,onPress:this.handleComment},(0,l.createElement)(u.View,{style:w.itemPicBox},(0,l.createElement)(u.Image,{source:{uri:T.commentPic},style:w.pic})),(0,l.createElement)(u.View,{style:w.itemTextBox},(0,l.createElement)(u.Text,{style:[w.itemText,{color:T.itemText}]},x||"\u8bc4\u8bba"))),!X&&(0,l.createElement)(u.TouchableHighlight,{style:w.item,onPress:this.handleShare},(0,l.createElement)(u.View,{style:w.itemPicBox},(0,l.createElement)(u.Image,{source:{uri:T.sharePic},style:[w.pic,w.picShare]})),(0,l.createElement)(u.View,{style:w.itemTextBox},(0,l.createElement)(u.Text,{style:[w.itemText,{color:T.itemText}]},"\u5206\u4eab")))))}}]),t}(l.Component);C.disableModuleDataAutoFetch=!1,C.moduleRenderMode="cell",C.getModuleRowHeight=function(e){return 100},C.getModuleCol=function(e){return 1};var P={position:"fixed",left:0,bottom:0,zIndex:3},w={container:{flexDirection:"row",paddingLeft:"24rem",paddingRight:"24rem",height:"98rem",width:"750rem"},textInputBox:{justifyContent:"center"},iconBox:{marginLeft:"16rem",marginRight:"18rem",height:"32rem",overflow:"hidden"},icon:{width:"32rem",height:"32rem"},textInput:{flexDirection:"row",alignItems:"center",borderRadius:"6rem",width:"438rem",height:"62rem",marginRight:"24rem",borderWidth:"1px",borderStyle:"solid"},textPlaceholder:{fontSize:"28rem",color:"#999999"},opts:{flex:1,flexDirection:"row",justifyContent:"space-around",paddingTop:"18rem"},item:{alignItems:"center"},itemTextBox:{height:"24rem",marginTop:"8rem"},itemText:{verticalAlign:"top",fontSize:"18rem",color:"#383D48",lineHeight:"24rem"},itemPicBox:{height:"36rem"},pic:{width:"36rem",height:"36rem"},picShare:{}};t.default=C,e.exports=t.default},function(e,t){e.exports=o},function(e,t){e.exports=r},,function(e,t){e.exports=i},,function(e,t){e.exports=c},function(e,t){e.exports=a},function(e,t){e.exports=X},function(e,t){e.exports=l},,,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={purple:{backgroundColor:"#FCFCFC",likePic:"//gw.alicdn.com/tps/TB1M2vvKVXXXXbGaXXXXXXXXXXX-36-36.png",likeDidPic:"//gw.alicdn.com/tps/TB10ZsXKVXXXXaTXVXXXXXXXXXX-42-42.png",commentPic:"//gw.alicdn.com/tps/TB1lerPKVXXXXbuXpXXXXXXXXXX-36-36.png",sharePic:"//gw.alicdn.com/tps/TB1YVvCKVXXXXaWXVXXXXXXXXXX-31-36.png",selectedColor:"#FF4466",inputBackgroundColor:"#f4f4f4",inputBorderColor:"transparent",itemText:"#383D48"},orange:{backgroundColor:"#FCFCFC",likePic:"https://gw.alicdn.com/tps/TB1qU5rPFXXXXaPXVXXXXXXXXXX-32-32.png",likeDidPic:"https://gw.alicdn.com/tps/TB12TONPFXXXXbVXpXXXXXXXXXX-32-32.png",commentPic:"https://gw.alicdn.com/tps/TB18rSjPFXXXXaFapXXXXXXXXXX-32-32.png",sharePic:"https://gw.alicdn.com/tps/TB1GiS0PFXXXXbzXXXXXXXXXXXX-32-32.png",selectedColor:"#eb4f38",inputBackgroundColor:"#f4f4f4",inputBorderColor:"transparent",itemText:"#383D48"},blank:{backgroundColor:"#000000",likePic:"//gw.alicdn.com/tps/TB1W8CYOFXXXXXoXFXXXXXXXXXX-64-64.png",likeDidPic:"//gw.alicdn.com/tps/TB1rKeTLXXXXXXbXFXXXXXXXXXX-32-32.png",commentPic:"//gw.alicdn.com/tps/TB1FenqHVXXXXcqXFXXXXXXXXXX-80-80.png",sharePic:"//gw.alicdn.com/tps/TB1L7UZJXXXXXb1XFXXXXXXXXXX-80-80.png",selectedColor:"#eb4f38",inputBackgroundColor:"#2f2f2f",inputBorderColor:"transparent",itemText:"#ffffff"},blue:{backgroundColor:"#FFFFFF",likePic:"https://gw.alicdn.com/tps/TB13IFgPXXXXXaUaXXXXXXXXXXX-54-54.png",likeDidPic:"https://gw.alicdn.com/tps/TB1xiNwPXXXXXXlXVXXXXXXXXXX-54-54.png",commentPic:"https://gw.alicdn.com/tps/TB1OCdvPXXXXXcTXFXXXXXXXXXX-56-53.png",sharePic:"https://gw.alicdn.com/tps/TB1_7w6OVXXXXXyaVXXXXXXXXXX-54-54.png",favorDidPic:"https://gw.alicdn.com/tps/TB1IhJwPXXXXXaJXFXXXXXXXXXX-54-54.png",favorPic:"https://gw.alicdn.com/tps/TB1R2pJPXXXXXbuXpXXXXXXXXXX-54-53.png",inputBackgroundColor:"#f4f4f4",inputBorderColor:"#CDCDCD",selectedColor:"#00ACFC",itemText:"#333333"}},e.exports=t.default},function(e,t,n){function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.contentId,n=e.targetType,o=e.subTargetType,r=e.accountId;return new Promise(function(e,i){l.default.getUserInfo(function(c){if("false"===c.isLogin||!1===c.isLogin)return void l.default.login();var a=Object.assign({},m);a=Object.assign(a,{targetId:t,interactType:1}),r&&(a.accountId=r),n&&(a.targetType=n),o&&(a.subType=o),s.default.request({api:d,v:"1.0",ecode:0,isSec:0,data:a},function(){return e()},function(e){return i(e)})})})}function i(e){var t=e.contentId,n=e.targetType,o=e.subTargetType;return new Promise(function(e,r){l.default.getUserInfo(function(i){if("false"===i.isLogin||!1===i.isLogin)return void l.default.login();var c=Object.assign({},m);c=Object.assign(c,{targetId:t,interactType:1}),n&&(c.targetType=n),o&&(c.subType=o),s.default.request({api:p,v:"1.0",ecode:0,isSec:0,data:c},function(){return e()},function(e){return r(e)})})})}Object.defineProperty(t,"__esModule",{value:!0});var c=n(4),a=o(c),X=n(6),l=o(X),u=n(7),s=o(u),d="mtop.cybertron.interact.interact.add",p="mtop.cybertron.interact.interact.remove",m={opiFavourCount:!0,opiFavourStatus:!0,type:0,targetType:"5",subType:"0",targetId:"",accountId:"-1"};t.default=function(e){var t=e.contentId,n=(e.targetType,e.subTargetType,e.accountId),o=e.didLike,c=e.source;if(!0===o||"true"===o)return i(e);var X=r(e);return a.default.record("/content.details.content_zan","CLK","account_id="+n+"&content_id="+t+"&source="+c,"H1484266067"),X},e.exports=t.default}])});