!function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};e.m=t,e.c=n,e.p="/build/",e(0)}([function(t,e,n){function o(){return this instanceof o?this.init():new o}n(36),n(2),n(24);var i=n(3),r=n(34),a=n(37),s=n(38),c=n(39),l=n(40);i.initDateFormat(),i.augment(o,{init:function u(){i.checkAndGoLogin(),this.setConfig(),this.initCondition(),this.bindEvent(),this.load(!0),this.initScrollMonitor()},setConfig:function p(){var t=new Date,e=t.getFullYear(),n=t.getMonth();i.mix(this,{day:t.getDate(),currentEnd:t,currentStart:new Date(e,n,1,0,0,0),lastStart:new Date(e,n-1,1,0,0,0),lastEnd:new Date(e,n,0,23,59,59),beforeLastStart:new Date(e,n-2,1,0,0,0),beforeLastEnd:new Date(e,n-1,0,23,59,59),param:{tabType:2,pageNum:1,needMonthDetails:!1},totalPage:0,dateOptionWrap:$(".J_DateOptiosn"),recordOptionWrap:$(".J_RecordOptiosn"),mainWrap:$(".J_Main"),loadingWrapper:$(".J_LoadingWrap"),isLoading:!1}),this.param.gmtBegin=this.beforeLastStart.getTime(),this.param.gmtEnd=this.currentEnd.getTime(),this.optionEnum={record:this.recordOptionWrap,date:this.dateOptionWrap},this.monthDetailEnum=[{start:this.currentStart,end:this.currentEnd,monthText:"\u672c\u6708",items:[],wrapper:"J_Current",amountReturn:"",amountConsume:""},{start:this.lastStart,end:this.lastEnd,monthText:this.lastStart.Format("M\u6708"),items:[],wrapper:"J_Last",amountReturn:"",amountConsume:""},{start:this.beforeLastStart,end:this.beforeLastEnd,monthText:this.beforeLastStart.Format("M\u6708"),items:[],wrapper:"J_BeforeLast",amountReturn:"",amountConsume:""}]},initCondition:function d(){this.dateOptionWrap.html(n(41)({lastText:this.lastStart.Format("yyyy\u5e74M\u6708"),beforeLastText:this.beforeLastStart.Format("yyyy\u5e74M\u6708"),currentEnd:this.currentEnd.getTime(),currentStart:this.currentStart.getTime(),lastStart:this.lastStart.getTime(),lastEnd:this.lastEnd.getTime(),beforeLastStart:this.beforeLastStart.getTime(),beforeLastEnd:this.beforeLastEnd.getTime()})),this.selectdRecordOptionWrap=$(".selected",this.recordOptionWrap),this.selectdDateOptionWrap=$(".selected",this.dateOptionWrap)},bindEvent:function f(){var t=this;$("ul.search").delegate("tap",".J_Condition",function(e){var n=$(e.currentTarget);t.handleOptions(n)}),$(".options").on("tap",function(e){$(e.target).hasClass("options")&&t.hideOptions(t.selectType,t.selectConditionWrap)}),$("ul.options").delegate("tap",".option",function(e){if(!t.isLoading){var n=$(e.currentTarget),o=n.parent(".options");if(o.hasClass("J_RecordOptiosn")){var r=n.attr("data-type");if(t.param.tabType==r)return;i.mix(t.param,{tabType:r,pageNum:1}),t.selectdRecordOptionWrap.removeClass("selected"),t.selectdRecordOptionWrap=n}else if(o.hasClass("J_DateOptiosn")){var a=n.attr("data-begin"),s=n.attr("data-end");if(t.param.gmtBegin==a&&t.param.gmtEnd==s)return;i.mix(t.param,{gmtBegin:a,gmtEnd:s,pageNum:1}),t.selectdDateOptionWrap.removeClass("selected"),t.selectdDateOptionWrap=n}n.addClass("selected"),t.totalPage=0,t.search($(".J_Text",n).text())}})},search:function h(t){var e=this;setTimeout(function(){$(".J_Text",e.selectConditionWrap).text(t),e.hideOptions(e.selectType,e.selectConditionWrap),e.mainWrap.html(""),e.load()},0)},handleOptions:function m(t){var e=t.attr("data-type");e==this.selectType?this.hideOptions(e,t):(this.selectType&&this.hideOptions(this.selectType,this.selectConditionWrap),this.showOptions(e,t))},hideOptions:function g(t,e){var n=this.optionEnum[t];n&&n.hide(),e&&e.removeClass("selected"),this.selectType="",this.selectConditionWrap=null,this.startScroll()},showOptions:function w(t,e){if(!this.isLoading){var n=this.optionEnum[t];n&&n.show(),e&&e.addClass("selected"),this.selectType=t,this.selectConditionWrap=e,this.stopScroll()}},stopScroll:function v(){$(window).on("touchmove",function(t){t.preventDefault()})},startScroll:function _(){$(window).detach("touchmove")},initScrollMonitor:function y(){this.scrollMonitor=new r({node:"body",delay:0,margin:300,scrollToBottom:i.bind(this.scrollToBottom,this)}).run()},scrollToBottom:function b(){this.load()},load:function A(){var t=this,e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];0!=this.totalPage&&this.param.pageNum>this.totalPage||this.isLoading||(this.isLoading=!0,this.showLoading(),i.request({api:"mtop.matrixexchange.user.detail.list",v:"1.0",ecode:"1",data:i.mix(this.param,{needMonthDetails:e})}).then(function(n){var o=n.data;e&&(t.monthDetails=o.coinMonthDetails,t.parseMonthDetails());var i=o.userDetailList;t.totalPage=o.totalPage,t.param.pageNum++,t.render(i),t.param.pageNum>t.totalPage&&2==t.param.pageNum&&i.length<=0?t.showEmpty():t.param.pageNum>t.totalPage?t.showNoMore():t.loadingWrapper.html(""),t.isLoading=!1})["catch"](function(e){t.isLoading=!1,t.showError()}))},parseMonthDetails:function x(){var t=this;i.each(this.monthDetailEnum,function(e,n){var o=t.monthDetails&&t.monthDetails.length>n&&n>0?t.monthDetails[n-1]:{};i.mix(e,o)})},render:function E(t){var e=this;i.each(t,function(t,n){var o=i.parseDate(t.gmtCreate);i.each(e.monthDetailEnum,function(n,r){if(o>=n.start&&o<=n.end){i.mix(t,{date:o.Format("MM-dd"),isSmall:!0}),parseInt(t.amount)>=0&&(t.isPlus=!0,t.amount="+"+t.amount);var a=new Date;a.setHours(0,0,0,0),o.setHours(0,0,0,0);var s=o.getTime();return s==a.getTime()?(t.date="\u4eca\u5929",t.isSmall=!1):s==a.setDate(e.day-1)&&(t.date="\u6628\u5929",t.isSmall=!1),n.items.push(t),!1}})});var n=!0;i.each(this.monthDetailEnum,function(t,o){!t.items||t.items.length<=0||($("."+t.wrapper).length<=0&&(e.mainWrap.append($(a(i.mix(t,{tabType:e.param.tabType,tabIndex:o,tabClass:t.wrapper,isFirst:n})))),n=!1),$(".list","."+t.wrapper).append($(s({data:t.items}))),$(".J_Lazyload").lazyload(),t.items=[])})},showLoading:function S(){this.loadingWrapper.html(c({}))},showError:function T(){this.loadingWrapper.html("\u7cfb\u7edf\u51fa\u9519\u62c9~")},showNoMore:function C(){this.loadingWrapper.html("\u53ea\u4fdd\u5b58\u8fd13\u4e2a\u6708\u7684\u8bb0\u5f55\u54e6\uff5e")},showEmpty:function R(){this.loadingWrapper.html(l({}))}}),new o,t.exports=o},,function(t,e,n){var o=n(3);n(14).setupConfig({delay:10,offsetPageY:800,maxNum:120,autoRemove:!1});var i=window.TJB={URL:{index:o.parseUrl("index3",!0),exchangeRecords:o.parseUrl("exchange-records"),coinDetails:o.parseUrl("coin-details"),exchangeDetail:o.parseUrl("exchange-detail"),myCoin:o.parseUrl("my-coin"),task:o.parseUrl("task"),coinExchange:o.parseUrl("coin-exchange"),category:o.parseUrl("category"),coinRules:"//market.m.taobao.com/markets/taojinbi/jinbibaoxiangzhinan_copy",taoxpInfo:o.parseUrl("taoxp/info"),taoxpDetail:o.parseUrl("taoxp/detail"),taoxpCreate:o.parseUrl("taoxp/create"),taoxpIndex:o.parseUrl("taoxp/index"),wishIndex:o.parseUrl("wish/index"),wishChest:o.parseUrl("wish/chest"),wishDetail:o.parseUrl("wish/detail"),wishHelp:o.parseUrl("wish/help"),wishHit:o.parseUrl("wish/hit"),wishSubmit:o.parseUrl("wish/submit"),wishMy:o.parseUrl("wish/my")},isPre:function r(){return location.origin.indexOf("wapa.taobao.com")>0},placeholder:"data:image/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII="};t.exports=i},function(t,e,n){var o=n(4);n(5),n(12);var i=n(13),r=navigator.userAgent,a=window.lib||{};t.exports=o.merge(o,{now:Date.now||function(){return(new Date).getTime()},isWindVaneSDK:function s(){return!!~r.indexOf("WindVane")},isEmptyArray:function c(t){return!t||!o.isArray(t)||0===t.length},mixBundle:function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];o.each(n,function(e,n){o.mix(t,e,{overwrite:!0,deep:!0})})},getUrlParams:function u(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],e=location.search,n={};if(e.indexOf("?")==-1)return n;var o=e.substr(1),i=o.split("&"),r=void 0;return i.forEach(function(e,o){r=e.split("="),t.indexOf(r[0])!==-1&&r[1]!==undefined&&(n[r[0]]=unescape(r[1]))}),n},getUrlParam:function p(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.location.href,n=encodeURIComponent(t)+"=",o=e.indexOf(n),i=null;if(o>-1){var r=e.indexOf("&",o);r==-1&&(r=e.length),i=decodeURIComponent(e.substring(o+n.length,r))}return i},request:function d(t){var e=this;return new i(function(n,o){a.mtop.request({api:t.api,v:t.v||"1.0",data:t.data,ecode:t.ecode||"0",isSec:t.isSec||0},function(t){n(t)},function(t,n){var i=t&&t.ret;i.join&&(i=i.join(",")),e.checkLoginResult(i,n)?e.goLogin():o(t)})})},checkLoginResult:function f(t,e){return t.indexOf("SESSION_EXPIRED")>-1||t.indexOf("FAIL_SYS_SESSION_EXPIRED")>-1||t.indexOf("SID_INVALID")>-1||t.indexOf("AUTH_REJECT")>-1||t.indexOf("NEED_LOGIN")>-1||1==e||2==e||"1"==e||"2"==e},isLogin:function h(){return a.login.isLogin()},goLogin:function m(){a.login.goLogin()},checkAndGoLogin:function g(){this.isLogin()||this.goLogin()},isTrue:function w(t){return t===!0||"true"===t},sendStatistic:function v(t,e,n,i){t&&i&&window.goldlog&&(o.isObject(n)&&(n=o.param(n)),goldlog.record(t,e,n,i))},sendCode:function _(t,e){t&&((new Image).src="//gm.mmstat.com/"+t+"?"+(e?o.param(e)+"&":"")+"cache="+this.now())},getGuid:function y(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},fromUnicode:function b(t){return unescape(t.replace(/\\u/g,"%u"))},parseUrl:function A(t,e){var n=location.origin,o=e?".html":"/index.html";return~location.href.indexOf("src/p")?n+="/src/p/":~location.href.indexOf("app/tjb/www")?n+="/app/tjb/www/":~location.href.indexOf("app/wish/www")?n+="/app/wish/www/":(n+="/vip/",o=".html"),n+t+o},ellipsis:function x(t,e){return t.length<=e?t:t.slice(0,e)+"..."},initDateFormat:function E(){Date.prototype.format=Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}},setTitle:function S(t){var e=this;t&&(document.title=t,window.WindVane&&WindVane.isAvailable===!0&&window.WindVane.call("WebAppInterface","setCustomPageTitle",t,function(){},function(){}))},openWindow:function T(t){if(window.WindVane&&WindVane.isAvailable===!0){var e={url:t,popBeforeOpen:!1};window.WindVane.call("Base","openWindow",e,function(t){},function(e){location.href=t})}else location.href=t},parseDate:function C(t){var e=t.match(/^(\d+)-(\d+)-(\d+) (\d+)\:(\d+)\:(\d+)$/);return new Date(e[1],e[2]-1,e[3],e[4],e[5],e[6])},htmlEncodeAll:function R(t){return null==t?"":t.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},addUrlParam:function O(t,e){return t+(t.indexOf("?")==-1?"?":"&")+e},arrToObj:function k(t,e){if(!o.isArray(t)||"string"!=typeof e)return t;var n={};return t.forEach(function(t){t[e]&&(n[t[e]]=t)}),n},renderMtopUrl:function N(t){return~location.host.indexOf("waptest.taobao.com")?"//h5.waptest.taobao.com/"+t:~location.host.indexOf("wapa.taobao.com")?"//wapp.wapa.taobao.com/"+t:~location.host.indexOf("m.taobao.com")?"//h5.m.taobao.com/"+t:void 0}})},function(t,e){t.exports=$.__util__},function(t,e,n){n(6),n(7),n(11),t.exports=window.lib.mtop},function(t,e,n){n(7),n(10),t.exports=window.lib.windvane},function(t,e,n){var o,o;(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function n(t,e,i){function r(s,c){if(!e[s]){if(!t[s]){var l="function"==typeof o&&o;if(!c&&l)return o(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=e[s]={exports:{}};t[s][0].call(p.exports,function(e){var n=t[s][1][e];return r(n?n:e)},p,p.exports,n,t,e,i)}return e[s].exports}for(var a="function"==typeof o&&o,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){function n(){}var o=e.exports={};o.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){n.shift()()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),o.title="browser",o.browser=!0,o.env={},o.argv=[],o.on=n,o.addListener=n,o.once=n,o.off=n,o.removeListener=n,o.removeAllListeners=n,o.emit=n,o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(t,n){function o(t){function n(t){return null===l?void p.push(t):void a(function(){var e=l?t.onFulfilled:t.onRejected;if(null===e)return void(l?t.resolve:t.reject)(u);var n;try{n=e(u)}catch(i){return void t.reject(i)}t.resolve(n)})}function o(t){try{if(t===d)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==(void 0===t?"undefined":e(t))||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void r(n.bind(t),o,s)}l=!0,u=t,c()}catch(i){s(i)}}function s(t){l=!1,u=t,c()}function c(){for(var t=0,e=p.length;e>t;t++)n(p[t]);p=null}if("object"!=e(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");var l=null,u=null,p=[],d=this;this.then=function(t,e){return new d.constructor(function(o,r){n(new i(t,e,o,r))})},r(t,o,s)}function i(t,e,n,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=o}function r(t,e,n){var o=!1;try{t(function(t){o||(o=!0,e(t))},function(t){o||(o=!0,n(t))})}catch(r){if(o)return;o=!0,n(r)}}var a=t("asap");n.exports=o},{asap:4}],3:[function(t,n){function o(t){this.then=function(e){return"function"!=typeof e?this:new i(function(n,o){r(function(){try{n(e(t))}catch(r){o(r)}})})}}var i=t("./core.js"),r=t("asap");n.exports=i,o.prototype=i.prototype;var a=new o(!0),s=new o(!1),c=new o(null),l=new o(void 0),u=new o(0),p=new o("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return c;if(void 0===t)return l;if(t===!0)return a;if(t===!1)return s;if(0===t)return u;if(""===t)return p;if("object"==(void 0===t?"undefined":e(t))||"function"==typeof t)try{var n=t.then;if("function"==typeof n)return new i(n.bind(t))}catch(r){return new i(function(t,e){e(r)})}return new o(t)},i.all=function(t){var n=Array.prototype.slice.call(t);return new i(function(t,o){function i(a,s){try{if(s&&("object"==(void 0===s?"undefined":e(s))||"function"==typeof s)){var c=s.then;if("function"==typeof c)return void c.call(s,function(t){i(a,t)},o)}n[a]=s,0==--r&&t(n)}catch(l){o(l)}}if(0===n.length)return t([]);for(var r=n.length,a=0;a<n.length;a++)i(a,n[a])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype["catch"]=function(t){return this.then(null,t)}},{"./core.js":2,asap:4}],4:[function(e,n){(function(e){function o(){for(;r.next;){r=r.next;var t=r.task;r.task=void 0;var e=r.domain;e&&(r.domain=void 0,e.enter());try{t()}catch(i){if(l)throw e&&e.exit(),setTimeout(o,0),e&&e.enter(),i;setTimeout(function(){throw i},0)}e&&e.exit()}s=!1}function i(t){a=a.next={task:t,domain:l&&e.domain,next:null},s||(s=!0,c())}var r={task:void 0,next:null},a=r,s=!1,c=void 0,l=!1;if(void 0!==e&&e.nextTick)l=!0,c=function p(){e.nextTick(o)};else if("function"==typeof t)c="undefined"!=typeof window?t.bind(window,o):function(){t(o)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=o,c=function d(){u.port2.postMessage(0)}}else c=function f(){setTimeout(o,0)};n.exports=i}).call(this,e("_process"))},{_process:1}],5:[function(){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(){(arguments.length?this.then.apply(this,arguments):this).then(null,function(t){setTimeout(function(){throw t},0)})})},{}],6:[function(t){t("asap"),"undefined"==typeof Promise&&(Promise=t("./lib/core.js"),t("./lib/es6-extensions.js")),t("./polyfill-done.js")},{"./lib/core.js":2,"./lib/es6-extensions.js":3,"./polyfill-done.js":5,asap:4}]},{},[6])}).call(e,n(8).setImmediate)},function(t,e,n){(function(t,o){function i(t,e){this._id=t,this._clearFn=e}var r=n(9).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,c={},l=0;e.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function n(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=l++,o=!(arguments.length<2)&&s.call(arguments,1);return c[n]=!0,r(function i(){c[n]&&(o?t.apply(null,o):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof o?o:function(t){delete c[t]}}).call(e,n(8).setImmediate,n(8).clearImmediate)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(p===setTimeout)return setTimeout(t,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(t,0);try{return p(t,0)}catch(e){try{return p.call(null,t,0)}catch(e){return p.call(this,t,0)}}}function r(t){if(d===clearTimeout)return clearTimeout(t);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){h&&m&&(h=!1,m.length?f=m.concat(f):g=-1,f.length&&s())}function s(){if(!h){var t=i(a);h=!0;for(var e=f.length;e;){for(m=f,f=[];++g<e;)m&&m[g].run();g=-1,e=f.length}m=null,h=!1,r(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u=t.exports={},p,d;!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(t){p=n}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(t){d=o}}();var f=[],h=!1,m,g=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new c(t,e)),1!==f.length||h||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=l,u.addListener=l,u.once=l,u.off=l,u.removeListener=l,u.removeAllListeners=l,u.emit=l,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(t,e){function o(t,e){t=t.toString().split("."),e=e.toString().split(".");for(var n=0;n<t.length||n<e.length;n++){var o=parseInt(t[n],10),i=parseInt(e[n],10);if(window.isNaN(o)&&(o=0),window.isNaN(i)&&(i=0),o<i)return-1;if(o>i)return 1}return 0}var i=t.Promise,r=t.document,a=t.navigator.userAgent,s=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(a)||/Windows\sNT\s[\d\.]+/i.test(a),c=s&&t.WindVane_Win_Private&&t.WindVane_Win_Private.call,l=/iPhone|iPad|iPod/i.test(a),u=/Android/i.test(a),p=a.match(/WindVane[\/\s](\d+[._]\d+[._]\d+)/),d=Object.prototype.hasOwnProperty,f=e.windvane=t.WindVane||(t.WindVane={}),h=(t.WindVane_Native,Math.floor(65536*Math.random())),m=1,g=[],w=3,v="hybrid",_="wv_hybrid",y="iframe_",b="param_",A="chunk_",x=6e5,E=6e5,S=6e4;p=p?(p[1]||"0.0.0").replace(/\_/g,"."):"0.0.0";var T={isAvailable:1===o(p,"0"),call:function O(t,e,n,o,r,a){var s,c;"number"==typeof arguments[arguments.length-1]&&(a=arguments[arguments.length-1]),"function"!=typeof o&&(o=null),"function"!=typeof r&&(r=null),i&&(c={},c.promise=new i(function(t,e){c.resolve=t,c.reject=e})),s=C.getSid();var l={success:o,failure:r,deferred:c};if(a>0&&(l.timeout=setTimeout(function(){T.onFailure(s,{ret:"HY_TIMEOUT"})},a)),C.registerCall(s,l),C.registerGC(s,a),T.isAvailable?C.callMethod(t,e,n,s):T.onFailure(s,{ret:"HY_NOT_IN_WINDVANE"}),c)return c.promise},fireEvent:function k(t,e,n){var o=r.createEvent("HTMLEvents");o.initEvent(t,!1,!0),o.param=C.parseData(e||C.getData(n)),r.dispatchEvent(o)},getParam:function N(t){return C.getParam(t)},setData:function I(t,e){C.setData(t,e)},onSuccess:function L(t,e){C.onComplete(t,e,"success")},onFailure:function D(t,e){C.onComplete(t,e,"failure")}},C={params:{},chunks:{},calls:{},getSid:function j(){return(h+m++)%65536+""},buildParam:function U(t){return t&&"object"==(void 0===t?"undefined":n(t))?JSON.stringify(t):t||""},getParam:function W(t){return this.params[b+t]||""},setParam:function q(t,e){this.params[b+t]=e},parseData:function P(t){var e;if(t&&"string"==typeof t)try{e=JSON.parse(t)}catch(t){e={ret:["WV_ERR::PARAM_PARSE_ERROR"]}}else e=t||{};return e},setData:function M(){this.chunks[A+sid]=this.chunks[A+sid]||[],this.chunks[A+sid].push(chunk)},getData:function J(t){return this.chunks[A+t]?this.chunks[A+t].join(""):""},registerCall:function F(t,e){this.calls[t]=e},unregisterCall:function V(t){var e={};return this.calls[t]&&(e=this.calls[t],delete this.calls[t]),e},useIframe:function B(t,e){var n=y+t,o=g.pop();o||(o=r.createElement("iframe"),o.setAttribute("frameborder","0"),o.style.cssText="width:0;height:0;border:0;display:none;"),o.setAttribute("id",n),o.setAttribute("src",e),o.parentNode||setTimeout(function(){r.body.appendChild(o)},5)},retrieveIframe:function H(t){var e=y+t,n=r.querySelector("#"+e);g.length>=3?r.body.removeChild(n):g.indexOf(n)<0&&g.push(n)},callMethod:function $(e,n,o,i){if(o=C.buildParam(o),s)c?t.WindVane_Win_Private.call(e,n,i,o):this.onComplete(i,{ret:"HY_NO_HANDLER_ON_WP"},"failure");else{var r="hybrid://"+e+":"+i+"/"+n+"?"+o;if(l)this.setParam(i,o),this.useIframe(i,r);else if(u){var a="wv_hybrid:";window.prompt(r,"wv_hybrid:")}else this.onComplete(i,{ret:"HY_NOT_SUPPORT_DEVICE"},"failure")}},registerGC:function Y(t,e){var n=this,o=Math.max(e||0,6e5),i=Math.max(e||0,6e4),r=Math.max(e||0,6e5);setTimeout(function(){n.unregisterCall(t)},o),l?setTimeout(function(){n.params[b+t]&&delete n.params[b+t]},i):u&&setTimeout(function(){n.chunks[A+t]&&delete n.chunks[A+t]},r)},onComplete:function Q(t,e,n){var o=this.unregisterCall(t),i=o.success,r=o.failure,a=o.deferred,s=o.timeout;s&&clearTimeout(s),e=e?e:this.getData(t),e=this.parseData(e);var c=e.ret;"string"==typeof c&&(e=e.value||e,e.ret||(e.ret=[c])),"success"===n?(i&&i(e),a&&a.resolve(e)):"failure"===n&&(r&&r(e),a&&a.reject(e)),l?(this.retrieveIframe(t),this.params[b+t]&&delete this.params[b+t]):u&&this.chunks[A+t]&&delete this.chunks[A+t]}};for(var R in T)d.call(f,R)||(f[R]=T[R])}(window,window.lib||(window.lib={})),t.exports=window.lib.windvane},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),!function(t,e){function o(){var t={},e=new m(function(e,n){t.resolve=e,t.reject=n});return t.promise=e,t}function i(t,e){for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}function r(t){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(t)}function a(t){var e=[];for(var n in t)t[n]&&e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")}function s(t){return t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1)}function c(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,o,i,r,a;return i=2147483648&t,r=2147483648&e,n=1073741824&t,o=1073741824&e,a=(1073741823&t)+(1073741823&e),n&o?2147483648^a^i^r:n|o?1073741824&a?3221225472^a^i^r:1073741824^a^i^r:a^i^r}function o(t,e,n){return t&e|~t&n}function i(t,e,n){return t&n|e&~n}function r(t,e,n){return t^e^n}function a(t,e,n){return e^(t|~n)}function s(t,i,r,a,s,c,l){return t=n(t,n(n(o(i,r,a),s),l)),n(e(t,c),i)}function c(t,o,r,a,s,c,l){return t=n(t,n(n(i(o,r,a),s),l)),n(e(t,c),o)}function l(t,o,i,a,s,c,l){return t=n(t,n(n(r(o,i,a),s),l)),n(e(t,c),o)}function u(t,o,i,r,s,c,l){return t=n(t,n(n(a(o,i,r),s),l)),n(e(t,c),o)}function p(t){for(var e,n=t.length,o=n+8,i=(o-o%64)/64,r=16*(i+1),a=new Array(r-1),s=0,c=0;n>c;)e=(c-c%4)/4,s=c%4*8,a[e]=a[e]|t.charCodeAt(c)<<s,c++;return e=(c-c%4)/4,s=c%4*8,a[e]=a[e]|128<<s,a[r-2]=n<<3,a[r-1]=n>>>29,a}function d(t){var e,n,o="",i="";for(n=0;3>=n;n++)e=t>>>8*n&255,i="0"+e.toString(16),o+=i.substr(i.length-2,2);return o}function f(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);128>o?e+=String.fromCharCode(o):o>127&&2048>o?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e}var h,m,g,w,v,_,y,b,A,x=[],E=7,S=12,T=17,C=22,R=5,O=9,k=14,N=20,I=4,L=11,D=16,j=23,U=6,W=10,q=15,P=21;for(t=f(t),x=p(t),_=1732584193,y=4023233417,b=2562383102,A=271733878,h=0;h<x.length;h+=16)m=_,g=y,w=b,v=A,_=s(_,y,b,A,x[h+0],7,3614090360),A=s(A,_,y,b,x[h+1],12,3905402710),b=s(b,A,_,y,x[h+2],17,606105819),y=s(y,b,A,_,x[h+3],22,3250441966),_=s(_,y,b,A,x[h+4],7,4118548399),A=s(A,_,y,b,x[h+5],12,1200080426),b=s(b,A,_,y,x[h+6],17,2821735955),y=s(y,b,A,_,x[h+7],22,4249261313),_=s(_,y,b,A,x[h+8],7,1770035416),A=s(A,_,y,b,x[h+9],12,2336552879),b=s(b,A,_,y,x[h+10],17,4294925233),y=s(y,b,A,_,x[h+11],22,2304563134),_=s(_,y,b,A,x[h+12],7,1804603682),A=s(A,_,y,b,x[h+13],12,4254626195),b=s(b,A,_,y,x[h+14],17,2792965006),y=s(y,b,A,_,x[h+15],22,1236535329),_=c(_,y,b,A,x[h+1],5,4129170786),A=c(A,_,y,b,x[h+6],9,3225465664),b=c(b,A,_,y,x[h+11],14,643717713),y=c(y,b,A,_,x[h+0],20,3921069994),_=c(_,y,b,A,x[h+5],5,3593408605),A=c(A,_,y,b,x[h+10],9,38016083),b=c(b,A,_,y,x[h+15],14,3634488961),y=c(y,b,A,_,x[h+4],20,3889429448),_=c(_,y,b,A,x[h+9],5,568446438),A=c(A,_,y,b,x[h+14],9,3275163606),b=c(b,A,_,y,x[h+3],14,4107603335),y=c(y,b,A,_,x[h+8],20,1163531501),_=c(_,y,b,A,x[h+13],5,2850285829),A=c(A,_,y,b,x[h+2],9,4243563512),b=c(b,A,_,y,x[h+7],14,1735328473),y=c(y,b,A,_,x[h+12],20,2368359562),_=l(_,y,b,A,x[h+5],4,4294588738),A=l(A,_,y,b,x[h+8],11,2272392833),b=l(b,A,_,y,x[h+11],16,1839030562),y=l(y,b,A,_,x[h+14],23,4259657740),_=l(_,y,b,A,x[h+1],4,2763975236),A=l(A,_,y,b,x[h+4],11,1272893353),b=l(b,A,_,y,x[h+7],16,4139469664),y=l(y,b,A,_,x[h+10],23,3200236656),_=l(_,y,b,A,x[h+13],4,681279174),A=l(A,_,y,b,x[h+0],11,3936430074),b=l(b,A,_,y,x[h+3],16,3572445317),y=l(y,b,A,_,x[h+6],23,76029189),_=l(_,y,b,A,x[h+9],4,3654602809),A=l(A,_,y,b,x[h+12],11,3873151461),b=l(b,A,_,y,x[h+15],16,530742520),y=l(y,b,A,_,x[h+2],23,3299628645),_=u(_,y,b,A,x[h+0],6,4096336452),A=u(A,_,y,b,x[h+7],10,1126891415),b=u(b,A,_,y,x[h+14],15,2878612391),y=u(y,b,A,_,x[h+5],21,4237533241),_=u(_,y,b,A,x[h+12],6,1700485571),A=u(A,_,y,b,x[h+3],10,2399980690),b=u(b,A,_,y,x[h+10],15,4293915773),y=u(y,b,A,_,x[h+1],21,2240044497),_=u(_,y,b,A,x[h+8],6,1873313359),A=u(A,_,y,b,x[h+15],10,4264355552),b=u(b,A,_,y,x[h+6],15,2734768916),y=u(y,b,A,_,x[h+13],21,1309151649),_=u(_,y,b,A,x[h+4],6,4149444226),A=u(A,_,y,b,x[h+11],10,3174756917),b=u(b,A,_,y,x[h+2],15,718787259),y=u(y,b,A,_,x[h+9],21,3951481745),_=n(_,m),y=n(y,g),b=n(b,w),A=n(A,v);return(d(_)+d(y)+d(b)+d(A)).toLowerCase()}function l(t,e,n){var o=n||{};document.cookie=t.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+e.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(o.domain?";domain="+o.domain:"")+(o.path?";path="+o.path:"")+(o.secure?";secure":"")+(o.httponly?";HttpOnly":"")}function u(t){var e=new RegExp("(?:^|;\\s*)"+t+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return e?e[1]:void 0}function p(t,e,n){var o=new Date;o.setTime(o.getTime()-864e5);var i="/";document.cookie=t+"=;path=/;domain=."+e+";expires="+o.toGMTString(),document.cookie=t+"=;path=/;domain=."+n+"."+e+";expires="+o.toGMTString()}function d(){var e=t.location.hostname;if(!e){var n=t.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(e=n)}var o=["taobao.net","taobao.com","tmall.com","tmall.hk","etao.com","alibaba-inc.com"],i=new RegExp("([^.]*?)\\.?((?:"+o.join(")|(?:").replace(/\./g,"\\.")+"))","i"),r=e.match(i)||[],a=r[2]||"taobao.com",s=r[1]||"m";"taobao.net"!==a||"x"!==s&&"waptest"!==s&&"daily"!==s?"taobao.net"===a&&"demo"===s?s="demo":"alibaba-inc.com"===a&&"zebra"===s?s="zebra":"waptest"!==s&&"wapa"!==s&&"m"!==s&&(s="m"):s="waptest";var c="etao.com"===a?"apie":"api";c="taobao.com"===a?"acs":c,_.mainDomain=a,_.subDomain=s,_.prefix=c}function f(){var e=t.navigator.userAgent,n=e.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(_.WindVaneVersion=n[1]);var o=e.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);o&&(_.AliAppName=o[1],_.AliAppVersion=o[2])}function h(t){this.id=++A,this.params=i(t||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==n(this.params.data)&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=y.slice(0)}var m=t.Promise;if(!m){var g="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Promise\uff0c\u8bf7\u5728windows\u5bf9\u8c61\u4e0a\u6302\u8f7dPromise\u5bf9\u8c61\u53ef\u53c2\u8003\uff08http://gitlab.alibaba-inc.com/mtb/lib-es6polyfill/tree/master\uff09\u4e2d\u7684\u89e3\u51b3\u65b9\u6848";throw e.mtop={ERROR:g},new Error(g)}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var w,v=m.resolve();try{w=t.localStorage,w.setItem("@private","false")}catch(k){w=!1}var _={useAlipayJSBridge:!1},y=[],b={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};d(),f();var A=0,x="2.3.16";h.prototype.use=function(t){if(!t)throw new Error("middleware is undefined");return this.middlewares.push(t),this},h.prototype.__processRequestMethod=function(t){var e=this.params,n=this.options;"get"===e.type&&"jsonp"===e.dataType?n.getJSONP=!0:"get"===e.type&&"originaljsonp"===e.dataType?n.getOriginalJSONP=!0:"get"===e.type&&"json"===e.dataType?n.getJSON=!0:"post"===e.type&&(n.postJSON=!0),t()},h.prototype.__processRequestType=function(t){var n=this,o=this.options;if(_.H5Request===!0&&(o.H5Request=!0),_.WindVaneRequest===!0&&(o.WindVaneRequest=!0),o.H5Request===!1&&o.WindVaneRequest===!0){if(!e.windvane||parseFloat(o.WindVaneVersion)<5.4)throw new Error("WINDVANE_NOT_FOUND::\u7f3a\u5c11WindVane\u73af\u5883")}else o.H5Request===!0?o.WindVaneRequest=!1:"undefined"==typeof o.WindVaneRequest&&"undefined"==typeof o.H5Request&&(e.windvane&&parseFloat(o.WindVaneVersion)>=5.4?o.WindVaneRequest=!0:o.H5Request=!0);return t?t().then(function(){var t=o.retJson.ret;return t instanceof Array&&(t=t.join(",")),o.WindVaneRequest===!0&&(!t||t.indexOf("HY_FAILED")>-1||t.indexOf("HY_NO_HANDLER")>-1||t.indexOf("HY_CLOSED")>-1||t.indexOf("HY_EXCEPTION")>-1||t.indexOf("HY_NO_PERMISSION")>-1)?(_.H5Request=!0,
n.__sequence([n.__processRequestType,n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])):void 0}):void 0};var E="_m_h5_c",S="_m_h5_tk",T="_m_h5_tk_enc";h.prototype.__getTokenFromAlipay=function(){var e=o(),n=this.options,i=(t.navigator.userAgent,!!location.protocol.match(/^https?\:$/)),r="AP"===n.AliAppName&&parseFloat(n.AliAppVersion)>=8.2;return n.useAlipayJSBridge===!0&&!i&&r&&t.AlipayJSBridge&&t.AlipayJSBridge.call?t.AlipayJSBridge.call("getMtopToken",function(t){t&&t.token&&(n.token=t.token),e.resolve()},function(){e.resolve()}):e.resolve(),e.promise},h.prototype.__getTokenFromCookie=function(){var t=this.options;return t.token=t.token||u(S),t.token&&(t.token=t.token.split("_")[0]),m.resolve()},h.prototype.__processToken=function(t){var e=this,n=this.options;return this.params,n.token&&delete n.token,n.WindVaneRequest!==!0?v.then(function(){return e.__getTokenFromAlipay()}).then(function(){return e.__getTokenFromCookie()}).then(t).then(function(){var t=n.retJson,o=t.ret;if(o instanceof Array&&(o=o.join(",")),o.indexOf("TOKEN_EMPTY")>-1||n.CDR===!0&&o.indexOf("ILLEGAL_ACCESS")>-1||o.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes)return e.__sequence([e.__processToken,e.__processRequestUrl,e.__processUnitPrefix,e.middlewares,e.__processRequest]);n.maxRetryTimes>0&&(p(E,n.pageDomain,"*"),p(S,n.mainDomain,n.subDomain),p("_m_h5_tk_enc",n.mainDomain,n.subDomain)),t.retType=b.TOKEN_EXPIRED}}):void t()},h.prototype.__processRequestUrl=function(e){var n=this.params,o=this.options;if(o.hostSetting&&o.hostSetting[t.location.hostname]){var i=o.hostSetting[t.location.hostname];i.prefix&&(o.prefix=i.prefix),i.subDomain&&(o.subDomain=i.subDomain),i.mainDomain&&(o.mainDomain=i.mainDomain)}if(o.H5Request===!0){var r="//"+(o.prefix?o.prefix+".":"")+(o.subDomain?o.subDomain+".":"")+o.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",a=n.appKey||("waptest"===o.subDomain?"4272":"12574478"),s=(new Date).getTime(),l=c(o.token+"&"+s+"&"+a+"&"+n.data),u={jsv:"2.3.16",appKey:a,t:s,sign:l},p={data:n.data,ua:n.ua};Object.keys(n).forEach(function(t){"undefined"==typeof u[t]&&"undefined"==typeof p[t]&&(u[t]=n[t])}),o.getJSONP?u.type="jsonp":o.getOriginalJSONP?u.type="originaljsonp":(o.getJSON||o.postJSON)&&(u.type="originaljson"),o.querystring=u,o.postdata=p,o.path=r}e()},h.prototype.__processUnitPrefix=function(e){var n=this.params,o=this.options;if(o.disabledUnit===!0)return void e();if(w&&o.H5Request===!0){var i=n.api,a=!1,s=u("_m_user_unitinfo_"),c=w.getItem("unitinfo");s&&s.split("|")[0].indexOf("center")<0&&c&&c.indexOf(i.toLowerCase())>=0&&(a=s.split("|")[1]),o.h5UnitPrefix?o.path=o.path.replace(/^\/\//,"//"+o.h5UnitPrefix):a&&o.path&&(o.useAcsUnit===!0||o.path.indexOf("taobao.com")>-1&&"acs"===o.prefix?o.path=o.path.replace(/^\/\//,"//"+a):o.path=o.path.replace(/^\/\//,"//"+a+".")),e().then(function(){if(w){var e=u("_m_unitapi_v_"),n=w.getItem("unitinfo");if(e){var i=n?JSON.parse(n):{};if(!n||e!==i.version){var a=!1,s="//h5."+o.subDomain+".taobao.com/js/mtop/unit/"+e+"/unitApi.js",c=document.createElement("script");c.src=s,c.async=!0;var l=function p(){a||(a=!0,c.onload=c.onerror=null,c.parentNode&&c.parentNode.removeChild(c))};c.onerror=function(){l()},t.jsonp_unitapi||(t.jsonp_unitapi=function(t){l(),w.setItem("unitinfo",JSON.stringify(t))}),r(c)}}}})}else e()};var C=0;h.prototype.__requestJSONP=function(t){function e(t){if(u&&clearTimeout(u),p.parentNode&&p.parentNode.removeChild(p),"TIMEOUT"===t)window[l]=function(){window[l]=void 0;try{delete window[l]}catch(t){}};else{window[l]=void 0;try{delete window[l]}catch(e){}}}var n=o(),i=this.params,s=this.options,c=i.timeout||2e4,l="mtopjsonp"+ ++C,u=setTimeout(function(){t("TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),e("TIMEOUT")},c);s.querystring.callback=l;var p=document.createElement("script");return p.src=s.path+"?"+a(s.querystring)+"&"+a(s.postdata),p.async=!0,p.onerror=function(){e("ABORT"),t("ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")},window[l]=function(){s.results=Array.prototype.slice.call(arguments),e(),n.resolve()},r(p),n.promise},h.prototype.__requestJSON=function(e){function n(t){d&&clearTimeout(d),"TIMEOUT"===t&&l.abort()}var i=o(),r=this.params,c=this.options,l=new t.XMLHttpRequest,p=r.timeout||2e4,d=setTimeout(function(){e("TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),n("TIMEOUT")},p);c.pageDomain=c.pageDomain||s(t.location.hostname),c.mainDomain!=c.pageDomain&&(c.maxRetryTimes=3,c.CDR=!0,u(E)&&(c.querystring.c=decodeURIComponent(u(E)))),l.onreadystatechange=function(){if(4==l.readyState){var t,o,r=l.status;if(r>=200&&300>r||304==r){n(),t=l.responseText,o=l.getAllResponseHeaders()||"";try{t=/^\s*$/.test(t)?{}:JSON.parse(t),t.responseHeaders=o,c.results=[t],i.resolve()}catch(s){e("PARSE_JSON_ERROR::\u89e3\u6790JSON\u5931\u8d25")}}else n("ABORT"),e("ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")}};var f,h,m=c.path+"?"+a(c.querystring);if(c.getJSON?(f="GET",m+="&"+a(c.postdata)):c.postJSON&&(f="POST",h=a(c.postdata)),l.open(f,m,!0),l.withCredentials=!0,l.setRequestHeader("Accept","application/json"),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.headers)for(var g in r.headers)l.setRequestHeader(g,r.headers[g]);return l.send(h),i.promise},h.prototype.__requestWindVane=function(t){function n(t){l.results=[t],s.resolve()}var i,r,a,s=o(),c=this.params,l=this.options,u=c.data,p=c.api,d=c.v,f=l.postJSON?1:0,h=l.getJSON||l.postJSON?"originaljson":"",m="https"===location.protocol?1:0,g=c.isSec||0,w=c.sessionOption||"AutoLoginOnly";if("undefined"==typeof c.ecode)throw new Error("UNEXCEPT_PARAM_ECODE::\u7f3a\u5c11ecode\u53c2\u6570");return i=parseInt(c.ecode),a="undefined"!=typeof c.timer?parseInt(c.timer):"undefined"!=typeof c.timeout?parseInt(c.timeout):2e4,r=2*a,c.needLogin===!0&&"undefined"==typeof c.sessionOption&&(w="AutoLoginAndManualLogin"),"undefined"!=typeof c.secType&&"undefined"==typeof c.isSec&&(g=c.secType),e.windvane.call("MtopWVPlugin","send",{api:p,v:d,post:String(f),type:h,isHttps:String(m),ecode:String(i),isSec:String(g),param:JSON.parse(u),timer:a,sessionOption:w,ext_headers:{referer:location.href}},n,n,r),s.promise},h.prototype.__processRequest=function(t,e){var n=this;return v.then(function(){var t=n.options;if(t.H5Request&&(t.getJSONP||t.getOriginalJSONP))return n.__requestJSONP(e);if(t.H5Request&&(t.getJSON||t.postJSON))return n.__requestJSON(e);if(t.WindVaneRequest)return n.__requestWindVane(e);throw new Error("UNEXCEPT_REQUEST::\u9519\u8bef\u7684\u8bf7\u6c42\u7c7b\u578b")}).then(t).then(function(){var t=n.options,e=(n.params,t.results[0]),o=e&&e.ret||[];e.ret=o,o instanceof Array&&(o=o.join(","));var i=e.c;if(t.CDR&&i){var r=i.split(";");l(E,i,{domain:t.pageDomain,path:"/"}),l(S,r[0],{domain:t.pageDomain,path:"/"})}o.indexOf("SUCCESS")>-1?e.retType=b.SUCCESS:e.retType=b.ERROR,t.retJson=e})},h.prototype.__sequence=function(t){function e(t){if(t instanceof Array)t.forEach(e);else{var a,s=o(),c=o();i.push(function(){return s=o(),a=t.call(n,function(t){return s.resolve(t),c.promise},function(t){return s.reject(t),c.promise}),a&&(a=a["catch"](function(t){s.reject(t)})),s.promise}),r.push(function(t){return c.resolve(t),a})}}var n=this,i=[],r=[];t.forEach(e);for(var a,s=v;a=i.shift();)s=s.then(a);for(;a=r.pop();)s=s.then(a);return s};var R=function N(t){t()},O=function I(t){t()};h.prototype.request=function(t){var e=this;this.options=i(t||{},_);var n=m.resolve([R,O]).then(function(t){var n=t[0],o=t[1];return e.__sequence([n,e.__processRequestMethod,e.__processRequestType,e.__processToken,e.__processRequestUrl,e.__processUnitPrefix,e.middlewares,e.__processRequest,o])}).then(function(){var t=e.options.retJson;return t.retType!==b.SUCCESS?m.reject(t):e.options.successCallback?void e.options.successCallback(t):m.resolve(t)})["catch"](function(t){var n;return t instanceof Error?(console.error(t.stack),n={ret:[t.message],stack:[t.stack],retJson:b.ERROR}):n="string"==typeof t?{ret:[t],retJson:b.ERROR}:void 0!==t?t:e.options.retJson,e.options.failureCallback?void e.options.failureCallback(n):m.reject(n)});return this.__processRequestType(),e.options.H5Request&&(e.constructor.__firstProcessor||(e.constructor.__firstProcessor=n),R=function o(t){e.constructor.__firstProcessor.then(t)["catch"](t)}),n},e.mtop=function(t){return new h(t)},e.mtop.request=function(t,e,n){var o={H5Request:t.H5Request,WindVaneRequest:t.WindVaneRequest,LoginRequest:t.LoginRequest,AntiCreep:t.AntiCreep,AntiFlood:t.AntiFlood,successCallback:e,failureCallback:n||e};return new h(t).request(o)},e.mtop.H5Request=function(t,e,n){var o={H5Request:!0,successCallback:e,failureCallback:n||e};return new h(t).request(o)},e.mtop.middlewares=y,e.mtop.config=_,e.mtop.RESPONSE_TYPE=b,e.mtop.CLASS=h}(window,window.lib||(window.lib={})),function(t,e){function n(t){return t.preventDefault(),!1}function o(e,o){var i=this,r=t.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/r,l=Math.max(s.height,window.innerHeight)/r;a.style.cssText=["-webkit-transform:scale("+r+") translateZ(0)","-ms-transform:scale("+r+") translateZ(0)","transform:scale("+r+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+l+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var u=document.createElement("div");u.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),u.innerText=e;var p=document.createElement("a");p.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),p.innerText="\u5173\u95ed";var d=document.createElement("iframe");d.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),u.appendChild(p),a.appendChild(u),a.appendChild(d),document.body.appendChild(a),d.src=o,p.addEventListener("click",function(){i.hide();var t=document.createEvent("HTMLEvents");t.initEvent("close",!1,!1),a.dispatchEvent(t)},!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-s.top),a.parentNode&&a.parentNode.removeChild(a)}}function i(t){var n=this,o=this.options,i=this.params;return t().then(function(){var t=o.retJson,r=t.ret;if(r instanceof Array&&(r=r.join(",")),(r.indexOf("SESSION_EXPIRED")>-1||r.indexOf("SID_INVALID")>-1||r.indexOf("AUTH_REJECT")>-1||r.indexOf("NEED_LOGIN")>-1)&&(t.retType=u.SESSION_EXPIRED,!o.WindVaneRequest&&(l.LoginRequest===!0||o.LoginRequest===!0||i.needLogin===!0))){if(!e.login)throw new Error("LOGIN_NOT_FOUND::\u7f3a\u5c11lib.login");if(o.CDR!==!0)return e.login.goLoginAsync().then(function(t){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})["catch"](function(t){throw"CANCEL"===t?new Error("LOGIN_CANCEL::\u7528\u6237\u53d6\u6d88\u767b\u5f55"):new Error("LOGIN_FAILURE::\u7528\u6237\u767b\u5f55\u5931\u8d25")});e.login.goLogin()}})}function r(t){var e=this.options;return this.params,e.H5Request!==!0||l.AntiFlood!==!0&&e.AntiFlood!==!0?void t():t().then(function(){var t=e.retJson,n=t.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&t.data.url&&(e.AntiFloodReferer?location.href=t.data.url.replace(/(http_referer=).+/,"$1"+e.AntiFloodReferer):location.href=t.data.url)})}function a(e){var n=this,i=this.options,r=this.params;return r.forceAntiCreep!==!0&&i.H5Request!==!0||l.AntiCreep!==!0&&i.AntiCreep!==!0?void e():e().then(function(){var e=i.retJson,a=e.ret;return a instanceof Array&&(a=a.join(",")),a.indexOf("RGV587_ERROR::SM")>-1&&e.data.url?new s(function(i,a){function s(){u.removeEventListener("close",s),t.removeEventListener("message",c),a("USER_INPUT_CANCEL::\u7528\u6237\u53d6\u6d88\u8f93\u5165")}function c(e){var o;try{o=JSON.parse(e.data)||{}}catch(l){}if(o&&"child"===o.type){u.removeEventListener("close",s),t.removeEventListener("message",c),u.hide();var l;try{"string"==typeof(l=JSON.parse(decodeURIComponent(o.content)))&&(l=JSON.parse(l));for(var p in l)r[p]=l[p];n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(i)}catch(l){a("USER_INPUT_FAILURE::\u7528\u6237\u8f93\u5165\u5931\u8d25")}}}var l=e.data.url,u=new o("",l);u.addEventListener("close",s,!1),t.addEventListener("message",c,!1),u.show()}):void 0})}if(!e||!e.mtop||e.mtop.ERROR)throw new Error("Mtop \u521d\u59cb\u5316\u5931\u8d25\uff01\u8bf7\u53c2\u8003Mtop\u6587\u6863http://gitlab.alibaba-inc.com/mtb/lib-mtop");var s=t.Promise,c=e.mtop.CLASS,l=e.mtop.config,u=e.mtop.RESPONSE_TYPE;e.mtop.middlewares.push(i),e.mtop.loginRequest=function(t,e,n){var o={LoginRequest:!0,H5Request:!0,successCallback:e,failureCallback:n||e};return new c(t).request(o)},e.mtop.antiFloodRequest=function(t,e,n){var o={AntiFlood:!0,successCallback:e,failureCallback:n||e};return new c(t).request(o)},e.mtop.middlewares.push(r),e.mtop.antiCreepRequest=function(t,e,n){var o={AntiCreep:!0,successCallback:e,failureCallback:n||e};return new c(t).request(o)},e.mtop.middlewares.push(a)}(window,window.lib||(window.lib={})),t.exports=window.lib.mtop},function(t,e){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(t,e,n){function o(t){var e=new RegExp("(?:^|;\\s*)"+t+"\\=([^;]+)(?:;\\s*|$)").exec(b.cookie);return e?e[1]:n}function i(t){return t.preventDefault(),!1}function r(e,n){var o=this,r=t.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/r,l=Math.max(s.height,window.innerHeight)/r;a.style.cssText=["-webkit-transform:scale("+r+") translateZ(0)","-ms-transform:scale("+r+") translateZ(0)","transform:scale("+r+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+l+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var u=document.createElement("div");u.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),u.innerText=e;var p=document.createElement("a");p.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),p.innerText="\u5173\u95ed";var d=document.createElement("iframe");d.style.cssText=["width:100%","height:"+window.innerHeight/r+"px","border:0","overflow:hidden"].join(";"),u.appendChild(p),a.appendChild(u),a.appendChild(d),b.body.appendChild(a),d.src=n,p.addEventListener("click",function(){o.hide();var t=b.createEvent("HTMLEvents");t.initEvent("close",!1,!1),a.dispatchEvent(t)},!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",i,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",i),window.scrollTo(0,-s.top),b.body.removeChild(a)}}function a(t){if(!t||"function"!=typeof t||!e.mtop){return!!this.getUserNick()}e.mtop.request({api:"mtop.user.getUserSimple",v:"1.0",data:{isSec:0},H5Request:!0},function(o){o.retType===e.mtop.RESPONSE_TYPE.SUCCESS?t(!0,o):o.retType===e.mtop.RESPONSE_TYPE.SESSION_EXPIRED?t(!1,o):t(n,o)})}function s(t){var e;return y&&(e={},e.promise=new y(function(t,n){e.resolve=t,e.reject=n})),this.isLogin(function(n,o){t&&t(n,o),n===!0?e&&e.resolve(o):e&&e.reject(o)}),e?e.promise:void 0}function c(t){if(!t||"function"!=typeof t){var e="",i=o("_w_tb_nick"),r=o("_nk_")||o("snk"),a=o("sn");return i&&i.length>0&&"null"!=i?e=decodeURIComponent(i):r&&r.length>0&&"null"!=r?e=unescape(unescape(r).replace(/\\u/g,"%u")):a&&a.length>0&&"null"!=a&&(e=decodeURIComponent(a)),e=e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}this.isLogin(function(e,o){t(e===!0&&o&&o.data&&o.data.nick?o.data.nick:e===!1?"":n)})}function l(t){var e;return y&&(e={},e.promise=new y(function(t,n){e.resolve=t,e.reject=n})),this.getUserNick(function(n){t&&t(n),n?e&&e.resolve(n):e&&e.reject()}),e?e.promise:void 0}function u(t,n){var o="//"+I+"."+L.subDomain+"."+k+"/"+L[(t||"login")+"Name"];if(n){var i=[];for(var r in n)i.push(r+"="+encodeURIComponent(n[r]));o+="?"+i.join("&")}var a=e.login.config.loginUrlParams;if(a){var s=[];for(var c in a)s.push(c+"="+encodeURIComponent(a[c]));o+=/\?/.test(o)?"&"+s.join("&"):"?"+i.join("&")}return o}function p(t,e){e?location.replace(t):location.href=t}function d(e,n,o){function i(e){l.removeEventListener("close",i),t.removeEventListener("message",a),o("CANCEL")}function a(e){var n=e.data||{};n&&"child"===n.type&&n.content.indexOf("SUCCESS")>-1?(l.removeEventListener("close",i),t.removeEventListener("message",a),l.hide(),o("SUCCESS")):o("FAILURE")}var s=location.protocol+"//h5."+L.subDomain+".taobao.com/"+("waptest"===L.subDomain?"src":"other")+"/"+e+"end.html?origin="+encodeURIComponent(location.protocol+"//"+location.hostname),c=u(e,{ttid:"h5@iframe",redirectURL:s}),l=new r(n.title||"\u60a8\u9700\u8981\u767b\u5f55\u624d\u80fd\u7ee7\u7eed\u8bbf\u95ee",c);l.addEventListener("close",i,!1),t.addEventListener("message",a,!1),l.show()}function f(e,n,o){var i=u(e,{wvLoginCallback:"wvLoginCallback"});t.wvLoginCallback=function(e){delete t.wvLoginCallback,o(e.indexOf(":SUCCESS")>-1?"SUCCESS":e.indexOf(":CANCEL")>-1?"CANCEL":"FAILURE")},p(i)}function h(t,e,n){if("function"==typeof e?(n=e,e=null):"string"==typeof e&&(e={redirectUrl:e}),e=e||{},n&&T)f(t,e,n);else if(n&&!S&&"login"===t)d(t,e,n);else{var o=u(t,{redirectURL:e.redirectUrl||location.href});p(o,e.replace)}}function m(t,e,n){var o;return y&&(o={},o.promise=new y(function(t,e){o.resolve=t,o.reject=e})),h(t,e,function(t){n&&n(t),"SUCCESS"===t?o&&o.resolve(t):o&&o.reject(t)}),o?o.promise:void 0}function g(t){h("login",t)}function w(t){return m("login",t)}function v(t){h("logout",t)}function _(t){return m("logout",t)}var y=t.Promise,b=t.document,A=t.navigator.userAgent,x=location.hostname,E=(t.location.search,A.match(/WindVane[\/\s]([\d\.\_]+)/)),S=A.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i),T=!!(S&&"TB"===S[1]&&E&&parseFloat(E[1])>5.2),C=["taobao.net","taobao.com"],R=new RegExp("([^.]*?)\\.?((?:"+C.join(")|(?:").replace(/\./g,"\\.")+"))","i"),O=x.match(R)||[],k=function(){return(O[2]||"taobao.com").match(/\.?taobao\.net$/)?"taobao.net":"taobao.com"}(),N=function(){var t=k,e=O[1]||"m";return"taobao.net"===t&&(e="waptest"),"m"!=e&&"wapa"!=e&&"waptest"!=e&&(e="m"),e}(),I="login";e.login=e.login||{};var L={loginName:"login.htm",logoutName:"logout.htm",subDomain:N};e.login.config=L,e.login.isLogin=a,e.login.isLoginAsync=s,e.login.getUserNick=c,e.login.getUserNickAsync=l,e.login.generateUrl=u,e.login.goLogin=g,e.login.goLoginAsync=w,e.login.goLogout=v,e.login.goLogoutAsync=_}(window,window.lib||(window.lib={})),t.exports=window.lib.login},function(t,e){t.exports=$.__promise__},function(t,e,n){function o(t,e){for(var n in e)e[n]!=undefined&&(t[n]=e[n])}function i(t){if(r(t),"object"===g(i.instance))return l(),i.instance;s(function(){l(),d()}),i.instance=this}function r(t){N=N.concat(a(t))}function a(t){var e=[];return[].forEach.call(t,function(n,o){-1===N.indexOf(n)&&-1===I.indexOf(n)&&e.push(t[o])}),e}function s(t){function e(){0===--n&&t&&t()}if(!c()&&!J.autoWebp)return void(t&&t());var n=0;c()&&(n++,y.getNetwork(function(t,n){O=t,e()})),J.autoWebp&&(n+=2,v.isSupport(function(t){C=t,e()}),v.isSupport(function(t){R=t,e()},"alpha"))}function c(){return J.enableIOSWifiLoad&&window.WindVane&&1==window.WindVane.isAvailable}function l(t){t=t||0;for(var e=N.length,n=J.enableIOSWifiLoad&&F&&"WIFI"==O,o=[],i=0;i<e;i++){var r=N[i],a=$(N[i]);if(n||J.stop||a.inView(J.offsetY,t)){var s=a.attr("data-bestsrc");if(s||I.indexOf(r)!==-1)I.indexOf(r)===-1&&I.push(r);else{var c=a.attr("data-srcset")||a.attr("data-src");if(c){I.push(r);var l=new A({src:a.attr("src"),srcset:c});s=x.getBestImage(l).src;var p=s.substr(-4,4);if(s.indexOf("cdn.")!=-1){if(".png"===p&&R||".jpg"===p&&C){var d=a.attr("data-webpsuffix");s+=d?d:k}var f=a.attr("data-network");if(".jpg"===p&&"close"!=f){f=a.attr("data-network"),f=f&&f.replace(/\s/g,""),f=f?f:"Q50s150,Q30s150",function(t,e,n){y.weld(t,e,function(t){u(n,t)})}(s,f,a);continue}}u(a,s)}}}else o.push(r)}N=o}function u(t,e){if(J.autoAnim)if(p(t),"img"==t[0].tagName.toLowerCase())t.on("load",function(){t.css("opacity",1)});else{var n="_lazyLoadImgRef"+Math.random();window[n]=$(new Image),window[n].on("load",function(){t.css("opacity",1),t.css({"background-image":"url("+e+")","background-repeat":"no-repeat","background-position":"center center","background-size":"cover"}),delete window[n]}),window[n].attr("src",e)}t.attr("data-lazyimg",t.attr("src")),t.attr("src",e),t.attr("data-bestsrc",e)}function p(t){t.css({"-webkit-transition":"opacity .35s",transition:"opacity .35s",opacity:0})}function d(){L||(L=!0,J.el.on("scroll",function(t){N.length>0&&(j=J.el.scrollTop()),D||S(function(){l(),D=!1}),D=!0}),J.el.on("resize",function(t){j=J.el.scrollTop(),q=J.el.height(),l()}),F&&J.el.on("touchend",function(t){W={y:(t.changedTouches?t.changedTouches[0]:t).pageY,time:(new Date).getTime()},W.y-U.y>5&&h()}).on("touchstart",function(t){U={y:(t.touches?t.touches[0]:t).pageY,time:(new Date).getTime()},h(q)}),window.MutationObserver&&J.observeDomChanges&&(P=new MutationObserver(function(t){f(t)}),P.observe(J.observeWrapper,M)))}function f(t){var e,n,o,i;t.forEach(function(t){e=t.removedNodes,e.forEach(function(t){"img"==t.tagName.toLowerCase()&&(n=$(t),o=n.attr("data-bestsrc")?I:N,(i=o.indexOf(t))>-1&&o.splice(i,1))})})}function h(t){l(t||m())}function m(){var t=W.y-U.y,e=W.time-U.time;e=e||1;var n=t/e,o=.005;return.5*n*(n/.005)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w=n(10),v=n(15),_=n(16),y=new _,b=n(17),A=n(18),x=new b,E=n(19),S=window.requestAnimationFrame,T=window.cancelAnimationFrame,C=!1,R=!1,O="",k="_.webp",N=[],I=[],L=!1,D=!1,j,U={},W={},q=0,P,M={subtree:!0,childList:!0,attributes:!1},J={offsetY:0,maxNum:120,autoWebp:!0,autoAnim:!1,el:$(window),enableIOSWifiLoad:!1,observeDomChanges:!1,observeWrapper:document,stop:!1},F=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);o($.fn,{inView:function V(t,e){t=t||0,e=e||0;var n=j+e,o=$(this).offset(),i=J.el[0]!=window?this[0].offsetTop:o.top,r=i+(o.height||$(this).height());return i>=n-t&&i<=n+q+t||r>=n-t&&r<=n+q+t},lazyload:function B(t){t=t||{},t.el&&(t.el=$(t.el)),o(J,t),x.compute(),q=x.h,$(J.el)[0]!=window&&(J.el=$(J.el),q=J.el.height()),j=J.el.scrollTop(),new i(this.slice(0))}}),t.exports={setupConfig:function H(t){o(J,t)},destroy:function Y(){N=[],I=[]}}},function(t,e){function n(t,e){if("function"==typeof t){var n=new Image;n.onload=function(){var i=n.width>0&&n.height>0;o(i,e),t(i)},n.onerror=function(){o(!1,e),t(!1)},n.src="data:image/webp;base64,"+r[e]}}function o(t,e){if(window.localStorage&&"function"==typeof window.localStorage.setItem)try{window.localStorage.setItem("webpsupport-"+e,t)}catch(n){}}function i(t,e){if("function"==typeof t)if(e=e||"lossy",window.navigator.userAgent.match(/windows|win32/i)||a&&window.navigator.userAgent.match(/UCBrowser/i))t(!1);else if(window.chrome||window.opera)t(!0);else{var o=window.localStorage&&window.localStorage.getItem("webpsupport-"+e);o?t("true"==o):n(t,e)}}var r={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},a=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),s=!!navigator.userAgent.match(/windvane/i),c={};c.isSupport=i,t.exports=c},function(t,e,n){function o(t){if("object"===r(o.instance))return o.instance;this._init(t),o.instance=this}function i(t,e){for(var n in e)e[n]!=undefined&&(t[n]=e[n])}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(10),s=window.navigator.userAgent,c={network:["Q50s100","Q30s100"],enableDomainMerge:!0,mergeDomain:"gw.alicdn.com",enableRemoveScheme:!0,strongNet:["WIFI"]},l=/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.com)\/(.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i,u=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i;i(o.prototype,{network:null,poll:[],callback:!1,weld:function p(t,e,n){var o=this;if(navigator.userAgent.indexOf("WindVane")!==-1&&navigator.userAgent.indexOf("tae_sdk")===-1&&window.WindVane&&!this.callback){if(this.poll.push(arguments),this.poll.length>1)return;return void this._getNetwork()}n&&n(this._getWeldUrl(t,e))},_getNetwork:function d(){var t=this;if(this.isWeakNet!==undefined&&null!==this.isWeakNet)return void this._getInfoCallback();this.getNetwork(function(e,n){t._getInfoCallback.call(t)})},getNetwork:function f(t){function e(){0===--o&&(n.isWeakNet=null===c||c===undefined?n.config.strongNet.indexOf(r)==-1:c,t(r,c))}var n=this,o=1,i=/AliApp\(TB\/([\d\.]+)\)/.test(s),r,c;i&&(o++,a.call("TBWeakNetStatus","getStatus",{},function(t){c=t.WeakNetStatus===!0||"true"===t.WeakNetStatus,e()},function(t){e()})),a.call("WVNetwork","getNetworkType",{},function(t){r=t.type,e()},function(t){e()})},weldImg:function h(t){var e=t,n=this,o,i;if(e.length){[].forEach.call(e,function(t,e){if("IMG"==t.tagName){if(o=t.getAttribute("data-network"),!(i=t.getAttribute("data-src")))return;n.weld(i,o,function(e){e&&(t.src=e)})}})}},_init:function m(t){i(this.config={},c,t||{})},_getWeldUrl:function g(t,e){t=this.config.enableRemoveScheme?t.replace(/(http|https):/gi,""):t;var n=t.match(/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.com)\/(.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i);if(!n||~n[2].indexOf("gif"))return t;this.config.enableDomainMerge&&(t=t.replace(n[1],this.config.mergeDomain));var o=this._getQualitySuffix(e),i=n[2].match(/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i);return i?(t=t.replace(i[0],""),t+="_"+(i[1]||"")+(i[2]||"")+(i[3]||o)+i[4]+(i[5]||"")):t.match(/_\.webp$/)?t=t.replace(/_\.webp$/,"_"+o+".jpg_.webp"):t+="_"+o+".jpg",t},_getQualitySuffix:function w(t){var e=this._parseSuffix(t);return this.isWeakNet?e[1]:e[0]},_parseSuffix:function v(t){var e=this.config.network,n;return"[object String]"===Object.prototype.toString.call(t)&&(n=t.split(",")),"[object Array]"===Object.prototype.toString.call(t)&&(n=t),n&&n[0]&&(e[0]=n[0]),n&&n[1]&&(e[1]=n[1]),e},_getInfoCallback:function _(){var t=this,e=this.poll;this.callback=!0,this.poll=[],Array.prototype.forEach.call(e,function(e,n){t.weld.apply(t,e)})}}),t.exports=o},function(t,e){function n(){this.w=null,this.h=null,this.x=null}n.prototype.compute=function(){this.w=window.innerWidth||document.documentElement.clientWidth,this.h=window.innerHeight||document.documentElement.clientHeight,this.x=window.devicePixelRatio},n.prototype.setForTesting=function(t){this.w=t.w,this.h=t.h,this.x=t.x},n.prototype.getBestImage=function(t){var e=t.imageCandidates.slice(0),n=this._getBestCandidateIf(e,function(t,e){return t.w>e.w});this._removeCandidatesIf(e,function(t){return function(e){return e.w<t.w}}(this)),0===e.length&&(e=[n]);var o=this._getBestCandidateIf(e,function(t,e){return t.h>e.h});this._removeCandidatesIf(e,function(t){return function(e){return e.h<t.h}}(this)),0===e.length&&(e=[o]);var i=this._getBestCandidateIf(e,function(t,e){return t.x>e.x});this._removeCandidatesIf(e,function(t){return function(e){return e.x<t.x}}(this)),0===e.length&&(e=[i]);var r=this._getBestCandidateIf(e,function(t,e){return t.w<e.w});this._removeCandidatesIf(e,function(t,e){return t.w>r.w});var a=this._getBestCandidateIf(e,function(t,e){return t.h<e.h});this._removeCandidatesIf(e,function(t,e){return t.h>r.h});var s=this._getBestCandidateIf(e,function(t,e){return t.x<e.x});return this._removeCandidatesIf(e,function(t,e){return t.x>s.x}),e[0]},n.prototype._getBestCandidateIf=function(t,e){for(var n=t[0],o=0;o<t.length;o++){var i=t[o];e(i,n)&&(n=i)}return n},n.prototype._removeCandidatesIf=function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n])&&t.splice(n,1)}return t},n.prototype.getBestImage2=function(t){for(var e=null,n=t.imageCandidates,o=0;o<n.length;o++){var i=n[o];if((e?e.x:0)<=i.x&&i.x<=this.x){if(null===e){e=i;continue}this.w<=i.w&&i.w<=e.w&&(e=i)}}return e},t.exports=n},function(t,e){function n(t){this.imageCandidates=[],this.srcValue=t.src,this.srcsetValue=t.srcset,this.isValid=!0,this.error="",this._parse(this.srcsetValue),this.isValid||console.log("error","Error: "+this.error)}function o(t){this.src=t.src,this.w=t.w||Infinity,this.h=t.h||Infinity,this.x=t.x||1}var i=/^[0-9]+$/;n.prototype._parse=function(){for(var t=this.srcsetValue,e=0,n=[],i,r;""!==t;){for(;" "===t.charAt(0);)t=t.slice(1);if((e=t.indexOf(" "))!==-1){if(""===(i=t.slice(0,e)))break;t=t.slice(e+1),e=t.indexOf(","),e===-1?(r=t,t=""):(r=t.slice(0,e),t=t.slice(e+1)),n.push({url:i,descriptors:r})}else n.push({url:t,descriptors:""}),t=""}for(var a=0,s=n.length;a<s;a++){var c=n[a],l=this._parseDescriptors(c.descriptors);this._addCandidate(new o({src:c.url,x:l.x,w:l.w,h:l.h}))}this.srcValue&&this._addCandidate(new o({src:this.srcValue}))},n.prototype._addCandidate=function(t){for(var e=0;e<this.imageCandidates.length;e++){var n=this.imageCandidates[e];if(n.x==t.x&&n.w==t.w&&n.h==t.h)return}this.imageCandidates.push(t)},n.prototype._parseDescriptors=function(t){for(var e=t.split(/\s/),n={},o=0;o<e.length;o++){var i=e[o];if(i.length>0){var r=i[i.length-1],a=i.substring(0,i.length-1),s=parseInt(a,10),c=parseFloat(a);a.match(/^[0-9]+$/)&&"w"===r?n[r]=s:a.match(/^[0-9]+$/)&&"h"==r?n[r]=s:isNaN(c)||"x"!=r?(this.error="Invalid srcset descriptor found in "+i+".",this.isValid=!1):n[r]=c}}return n},t.exports=n},function(t,e,n){t.exports=n(20)},function(t,e){for(var n=window,o=0,i="RequestAnimationFrame",r="CancelAnimationFrame",a=["ms","moz","webkit","o"],s=0;s<a.length&&!n.requestAnimationFrame;++s)n.requestAnimationFrame=n[a[s]+"RequestAnimationFrame"],n.cancelAnimationFrame=n[a[s]+r]||n[a[s]+r];n.requestAnimationFrame||(n.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),r=Math.max(0,16-(i-o)),a=n.setTimeout(function(){t(i+r)},r);return o=i+r,a}),n.cancelAnimationFrame||(n.cancelAnimationFrame=function(t){n.clearTimeout(t)})},,,,function(t,e,n){n(25)},function(t,e){},,,,,,,,,function(t,e,n){function o(t){return this instanceof o?(i.mixBundle(this,{node:window,delay:15,margin:10,scrollToBottom:null},t),this.init.apply(this),this):new Error('please use "new ScrollMonitor()"')}var i=n(3);i.mix(o.prototype,{init:function r(){return i.mix(this,{_scrollTimeout:null,_scrollNode:$(this.node),afterScrollBind:i.bind(this._afterScroll,this)}),this},run:function a(){return this._bindScroll(),this},stop:function s(){return clearTimeout(this._scrollTimeout),this._lastScroll=null,
this._detachScroll(),this},_bindScroll:function c(){return $(window).on("scroll",this.afterScrollBind),this},_detachScroll:function l(){return $(window).off("scroll",this.afterScrollBind),this},_afterScroll:function u(){var t=this;return clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){t._triggerScroll()},this._delay),this},_triggerScroll:function p(){var t=this._getScrollInfo(),e=this._lastScroll;if(this._lastScroll=t,!(t.scrollTop<0||t.scrollHeight-t.viewportHeight<t.scrollTop))return t.atBottom&&(!e||!e.atBottom||t.scrollHeight>e.scrollHeight)&&this.scrollToBottom(),this},_getScrollInfo:function d(){var t=$(window).height(),e=this._scrollNode.scrollTop(),n=e+t,o=this._scrollNode[0].scrollHeight;return{atBottom:n>=o-this.margin,viewportHeight:t,scrollHeight:o,scrollTop:e,scrollBottom:n}}}),t.exports=o},,function(t,e){},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<article class="detail '+(null==(__t=tabClass)?"":__t)+'">\n  <!-- <p class="title">'+(null==(__t=monthText)?"":__t),1!=tabType&&""!=amountReturn&&(__p+='<span class="get">\u83b7\u53d6<i class="get-num">'+(null==(__t=amountReturn)?"":__t)+"</i>\u91d1\u5e01</span>"),0!=tabType&&""!=amountConsume&&(__p+='<span class="use">\u4f7f\u7528<i class="use-num">'+(null==(__t=Math.abs(Number(amountConsume)))?"":__t)+"</i>\u91d1\u5e01</span>"),__p+='</p> -->\n  <p class="title">\n    '+(null==(__t=monthText)?"":__t)+"\n    ",isFirst&&(__p+='    \n      <a class="link" href="//market.m.taobao.com/markets/taojinbi/jinbifafangshuoming" target="_blank">\n        <span>\u91d1\u5e01\u53d1\u653e\u8bf4\u660e</span><i class="icon-help iconfont">&#xe601;</i>\n      </a>\n    '),__p+='\n  </p>\n  <ul class="list"></ul>\n</article>';return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)$.each(data,function(t,e){__p+='\n  <li class="item">\n    <p class="date',t.isSmall&&(__p+=" date-small"),__p+='">'+(null==(__t=t.date)?"":__t)+'</p>\n    <div class="img-wrap">\n      <img class="img J_Lazyload" data-src="'+(null==(__t=t.picUrl)?"":__t)+"_40x40.jpg 1x, "+(null==(__t=t.picUrl)?"":__t)+"_75x75.jpg 2x, "+(null==(__t=t.picUrl)?"":__t)+'_90x90.jpg 3x" alt="" src="'+(null==(__t=TJB.placeholder)?"":__t)+'">\n    </div>\n    <div class="info-wrap">\n      <p class="name">'+(null==(__t=t.ruleCodeName)?"":__t)+'</p>\n      <p class="info">'+(null==(__t=t.comment)?"":__t)+'</p>\n    </div>\n    <p class="coin-balance',__p+=t.isPlus?" coin-plus":" coin-minus",__p+='">'+(null==(__t=t.amount)?"":__t)+"</p>\n  </li>\n"});return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div id="J_Loading" class="km-loading">\n  <span class="loading-img"></span>\n  <span class="loading-text">\u6b63\u5728\u52a0\u8f7d\u4e2d</span>\n</div>';return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="empty-img">\u4eb2\uff0c\u4f60\u7684\u8bb0\u5f55\u4e3a\u7a7a\u54e6\uff01</div>\n';return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<li class="option selected" data-begin="'+(null==(__t=beforeLastStart)?"":__t)+'" data-end="'+(null==(__t=currentEnd)?"":__t)+'">\n  <span class="J_Text">\u8fd13\u4e2a\u6708</span>\n  <i class="iconfont">&#xe600;</i>\n</li>\n<li class="option" data-begin="'+(null==(__t=currentStart)?"":__t)+'" data-end="'+(null==(__t=currentEnd)?"":__t)+'">\n  <span class="J_Text">\u672c\u6708</span>\n  <i class="iconfont">&#xe600;</i>\n</li>\n<li class="option" data-begin="'+(null==(__t=lastStart)?"":__t)+'" data-end="'+(null==(__t=lastEnd)?"":__t)+'">\n  <span class="J_Text">'+(null==(__t=lastText)?"":__t)+'</span>\n  <i class="iconfont">&#xe600;</i>\n</li>\n<li class="option" data-begin="'+(null==(__t=beforeLastStart)?"":__t)+'" data-end="'+(null==(__t=beforeLastEnd)?"":__t)+'">\n  <span class="J_Text">'+(null==(__t=beforeLastText)?"":__t)+'</span>\n  <i class="iconfont">&#xe600;</i>\n</li>';return __p}}]);