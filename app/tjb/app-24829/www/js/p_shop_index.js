!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};e.m=t,e.c=n,e.p="/build/",e(0)}({0:function(t,e,n){n(147),n(2),n(148).init(),n(152).init(),n(154).init()},2:function(t,e,n){var i=n(3);n(14).setupConfig({delay:10,offsetPageY:800,maxNum:120,autoRemove:!1});var o=window.TJB={URL:{index:i.parseUrl("index3",!0),exchangeRecords:i.parseUrl("exchange-records"),coinDetails:i.parseUrl("coin-details"),exchangeDetail:i.parseUrl("exchange-detail"),myCoin:i.parseUrl("my-coin"),task:i.parseUrl("task"),coinExchange:i.parseUrl("coin-exchange"),category:i.parseUrl("category"),coinRules:"//market.m.taobao.com/markets/taojinbi/jinbibaoxiangzhinan_copy",taoxpInfo:i.parseUrl("taoxp/info"),taoxpDetail:i.parseUrl("taoxp/detail"),taoxpCreate:i.parseUrl("taoxp/create"),taoxpIndex:i.parseUrl("taoxp/index"),wishIndex:i.parseUrl("wish/index"),wishChest:i.parseUrl("wish/chest"),wishDetail:i.parseUrl("wish/detail"),wishHelp:i.parseUrl("wish/help"),wishHit:i.parseUrl("wish/hit"),wishSubmit:i.parseUrl("wish/submit"),wishMy:i.parseUrl("wish/my")},isPre:function r(){return location.origin.indexOf("wapa.taobao.com")>0},placeholder:"data:image/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII="};t.exports=o},3:function(t,e,n){var i=n(4);n(5),n(12);var o=n(13),r=navigator.userAgent,a=window.lib||{};t.exports=i.merge(i,{now:Date.now||function(){return(new Date).getTime()},isWindVaneSDK:function s(){return!!~r.indexOf("WindVane")},isEmptyArray:function c(t){return!t||!i.isArray(t)||0===t.length},mixBundle:function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];i.each(n,function(e,n){i.mix(t,e,{overwrite:!0,deep:!0})})},getUrlParams:function u(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],e=location.search,n={};if(e.indexOf("?")==-1)return n;var i=e.substr(1),o=i.split("&"),r=void 0;return o.forEach(function(e,i){r=e.split("="),t.indexOf(r[0])!==-1&&r[1]!==undefined&&(n[r[0]]=unescape(r[1]))}),n},getUrlParam:function d(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.location.href,n=encodeURIComponent(t)+"=",i=e.indexOf(n),o=null;if(i>-1){var r=e.indexOf("&",i);r==-1&&(r=e.length),o=decodeURIComponent(e.substring(i+n.length,r))}return o},request:function p(t){var e=this;return new o(function(n,i){a.mtop.request({api:t.api,v:t.v||"1.0",data:t.data,ecode:t.ecode||"0",isSec:t.isSec||0},function(t){n(t)},function(t,n){var o=t&&t.ret;o.join&&(o=o.join(",")),e.checkLoginResult(o,n)?e.goLogin():i(t)})})},checkLoginResult:function f(t,e){return t.indexOf("SESSION_EXPIRED")>-1||t.indexOf("FAIL_SYS_SESSION_EXPIRED")>-1||t.indexOf("SID_INVALID")>-1||t.indexOf("AUTH_REJECT")>-1||t.indexOf("NEED_LOGIN")>-1||1==e||2==e||"1"==e||"2"==e},isLogin:function h(){return a.login.isLogin()},goLogin:function m(){a.login.goLogin()},checkAndGoLogin:function g(){this.isLogin()||this.goLogin()},isTrue:function _(t){return t===!0||"true"===t},sendStatistic:function v(t,e,n,o){t&&o&&window.goldlog&&(i.isObject(n)&&(n=i.param(n)),goldlog.record(t,e,n,o))},sendCode:function w(t,e){t&&((new Image).src="//gm.mmstat.com/"+t+"?"+(e?i.param(e)+"&":"")+"cache="+this.now())},getGuid:function y(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},fromUnicode:function b(t){return unescape(t.replace(/\\u/g,"%u"))},parseUrl:function A(t,e){var n=location.origin,i=e?".html":"/index.html";return~location.href.indexOf("src/p")?n+="/src/p/":~location.href.indexOf("app/tjb/www")?n+="/app/tjb/www/":~location.href.indexOf("app/wish/www")?n+="/app/wish/www/":(n+="/vip/",i=".html"),n+t+i},ellipsis:function x(t,e){return t.length<=e?t:t.slice(0,e)+"..."},initDateFormat:function E(){Date.prototype.format=Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}},setTitle:function S(t){var e=this;t&&(document.title=t,window.WindVane&&WindVane.isAvailable===!0&&window.WindVane.call("WebAppInterface","setCustomPageTitle",t,function(){},function(){}))},openWindow:function T(t){if(window.WindVane&&WindVane.isAvailable===!0){var e={url:t,popBeforeOpen:!1};window.WindVane.call("Base","openWindow",e,function(t){},function(e){location.href=t})}else location.href=t},parseDate:function C(t){var e=t.match(/^(\d+)-(\d+)-(\d+) (\d+)\:(\d+)\:(\d+)$/);return new Date(e[1],e[2]-1,e[3],e[4],e[5],e[6])},htmlEncodeAll:function R(t){return null==t?"":t.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},addUrlParam:function k(t,e){return t+(t.indexOf("?")==-1?"?":"&")+e},arrToObj:function I(t,e){if(!i.isArray(t)||"string"!=typeof e)return t;var n={};return t.forEach(function(t){t[e]&&(n[t[e]]=t)}),n},renderMtopUrl:function O(t){return~location.host.indexOf("waptest.taobao.com")?"//h5.waptest.taobao.com/"+t:~location.host.indexOf("wapa.taobao.com")?"//wapp.wapa.taobao.com/"+t:~location.host.indexOf("m.taobao.com")?"//h5.m.taobao.com/"+t:void 0}})},4:function(t,e){t.exports=$.__util__},5:function(t,e,n){n(6),n(7),n(11),t.exports=window.lib.mtop},6:function(t,e,n){n(7),n(10),t.exports=window.lib.windvane},7:function(t,e,n){var i,i;(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function n(t,e,o){function r(s,c){if(!e[s]){if(!t[s]){var l="function"==typeof i&&i;if(!c&&l)return i(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=e[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return r(n?n:e)},d,d.exports,n,t,e,o)}return e[s].exports}for(var a="function"==typeof i&&i,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e){function n(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){n.shift()()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=n,i.addListener=n,i.once=n,i.off=n,i.removeListener=n,i.removeAllListeners=n,i.emit=n,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(t,n){function i(t){function n(t){return null===l?void d.push(t):void a(function(){var e=l?t.onFulfilled:t.onRejected;if(null===e)return void(l?t.resolve:t.reject)(u);var n;try{n=e(u)}catch(o){return void t.reject(o)}t.resolve(n)})}function i(t){try{if(t===p)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==(void 0===t?"undefined":e(t))||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void r(n.bind(t),i,s)}l=!0,u=t,c()}catch(o){s(o)}}function s(t){l=!1,u=t,c()}function c(){for(var t=0,e=d.length;e>t;t++)n(d[t]);d=null}if("object"!=e(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");var l=null,u=null,d=[],p=this;this.then=function(t,e){return new p.constructor(function(i,r){n(new o(t,e,i,r))})},r(t,i,s)}function o(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function r(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(r){if(i)return;i=!0,n(r)}}var a=t("asap");n.exports=i},{asap:4}],3:[function(t,n){function i(t){this.then=function(e){return"function"!=typeof e?this:new o(function(n,i){r(function(){try{n(e(t))}catch(r){i(r)}})})}}var o=t("./core.js"),r=t("asap");n.exports=o,i.prototype=o.prototype;var a=new i(!0),s=new i(!1),c=new i(null),l=new i(void 0),u=new i(0),d=new i("");o.resolve=function(t){if(t instanceof o)return t;if(null===t)return c;if(void 0===t)return l;if(t===!0)return a;if(t===!1)return s;if(0===t)return u;if(""===t)return d;if("object"==(void 0===t?"undefined":e(t))||"function"==typeof t)try{var n=t.then;if("function"==typeof n)return new o(n.bind(t))}catch(r){return new o(function(t,e){e(r)})}return new i(t)},o.all=function(t){var n=Array.prototype.slice.call(t);return new o(function(t,i){function o(a,s){try{if(s&&("object"==(void 0===s?"undefined":e(s))||"function"==typeof s)){var c=s.then;if("function"==typeof c)return void c.call(s,function(t){o(a,t)},i)}n[a]=s,0==--r&&t(n)}catch(l){i(l)}}if(0===n.length)return t([]);for(var r=n.length,a=0;a<n.length;a++)o(a,n[a])})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){t.forEach(function(t){o.resolve(t).then(e,n)})})},o.prototype["catch"]=function(t){return this.then(null,t)}},{"./core.js":2,asap:4}],4:[function(e,n){(function(e){function i(){for(;r.next;){r=r.next;var t=r.task;r.task=void 0;var e=r.domain;e&&(r.domain=void 0,e.enter());try{t()}catch(o){if(l)throw e&&e.exit(),setTimeout(i,0),e&&e.enter(),o;setTimeout(function(){throw o},0)}e&&e.exit()}s=!1}function o(t){a=a.next={task:t,domain:l&&e.domain,next:null},s||(s=!0,c())}var r={task:void 0,next:null},a=r,s=!1,c=void 0,l=!1;if(void 0!==e&&e.nextTick)l=!0,c=function d(){e.nextTick(i)};else if("function"==typeof t)c="undefined"!=typeof window?t.bind(window,i):function(){t(i)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=i,c=function p(){u.port2.postMessage(0)}}else c=function f(){setTimeout(i,0)};n.exports=o}).call(this,e("_process"))},{_process:1}],5:[function(){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(){(arguments.length?this.then.apply(this,arguments):this).then(null,function(t){setTimeout(function(){throw t},0)})})},{}],6:[function(t){t("asap"),"undefined"==typeof Promise&&(Promise=t("./lib/core.js"),t("./lib/es6-extensions.js")),t("./polyfill-done.js")},{"./lib/core.js":2,"./lib/es6-extensions.js":3,"./polyfill-done.js":5,asap:4}]},{},[6])}).call(e,n(8).setImmediate)},8:function(t,e,n){(function(t,i){function o(t,e){this._id=t,this._clearFn=e}var r=n(9).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,c={},l=0;e.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function n(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=l++,i=!(arguments.length<2)&&s.call(arguments,1);return c[n]=!0,r(function o(){c[n]&&(i?t.apply(null,i):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof i?i:function(t){delete c[t]}}).call(e,n(8).setImmediate,n(8).clearImmediate)},9:function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(d===setTimeout)return setTimeout(t,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(t,0);try{return d(t,0)}catch(e){try{return d.call(null,t,0)}catch(e){return d.call(this,t,0)}}}function r(t){if(p===clearTimeout)return clearTimeout(t);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function a(){h&&m&&(h=!1,m.length?f=m.concat(f):g=-1,f.length&&s())}function s(){if(!h){var t=o(a);h=!0;for(var e=f.length;e;){for(m=f,f=[];++g<e;)m&&m[g].run();g=-1,e=f.length}m=null,h=!1,r(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u=t.exports={},d,p;!function(){try{d="function"==typeof setTimeout?setTimeout:n}catch(t){d=n}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(t){p=i}}();var f=[],h=!1,m,g=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new c(t,e)),1!==f.length||h||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=l,u.addListener=l,u.once=l,u.off=l,u.removeListener=l,u.removeAllListeners=l,u.emit=l,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},10:function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(t,e){function i(t,e){t=t.toString().split("."),e=e.toString().split(".");for(var n=0;n<t.length||n<e.length;n++){var i=parseInt(t[n],10),o=parseInt(e[n],10);if(window.isNaN(i)&&(i=0),window.isNaN(o)&&(o=0),i<o)return-1;if(i>o)return 1}return 0}var o=t.Promise,r=t.document,a=t.navigator.userAgent,s=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(a)||/Windows\sNT\s[\d\.]+/i.test(a),c=s&&t.WindVane_Win_Private&&t.WindVane_Win_Private.call,l=/iPhone|iPad|iPod/i.test(a),u=/Android/i.test(a),d=a.match(/WindVane[\/\s](\d+[._]\d+[._]\d+)/),p=Object.prototype.hasOwnProperty,f=e.windvane=t.WindVane||(t.WindVane={}),h=(t.WindVane_Native,Math.floor(65536*Math.random())),m=1,g=[],_=3,v="hybrid",w="wv_hybrid",y="iframe_",b="param_",A="chunk_",x=6e5,E=6e5,S=6e4;d=d?(d[1]||"0.0.0").replace(/\_/g,"."):"0.0.0";var T={isAvailable:1===i(d,"0"),call:function k(t,e,n,i,r,a){var s,c;"number"==typeof arguments[arguments.length-1]&&(a=arguments[arguments.length-1]),"function"!=typeof i&&(i=null),"function"!=typeof r&&(r=null),o&&(c={},c.promise=new o(function(t,e){c.resolve=t,c.reject=e})),s=C.getSid();var l={success:i,failure:r,deferred:c};if(a>0&&(l.timeout=setTimeout(function(){T.onFailure(s,{ret:"HY_TIMEOUT"})},a)),C.registerCall(s,l),C.registerGC(s,a),T.isAvailable?C.callMethod(t,e,n,s):T.onFailure(s,{ret:"HY_NOT_IN_WINDVANE"}),c)return c.promise},fireEvent:function I(t,e,n){var i=r.createEvent("HTMLEvents");i.initEvent(t,!1,!0),i.param=C.parseData(e||C.getData(n)),r.dispatchEvent(i)},getParam:function O(t){return C.getParam(t)},setData:function D(t,e){C.setData(t,e)},onSuccess:function N(t,e){C.onComplete(t,e,"success")},onFailure:function j(t,e){C.onComplete(t,e,"failure")}},C={params:{},chunks:{},calls:{},getSid:function U(){return(h+m++)%65536+""},buildParam:function L(t){return t&&"object"==(void 0===t?"undefined":n(t))?JSON.stringify(t):t||""},getParam:function q(t){return this.params[b+t]||""},setParam:function $(t,e){this.params[b+t]=e},parseData:function P(t){var e;if(t&&"string"==typeof t)try{e=JSON.parse(t)}catch(t){e={ret:["WV_ERR::PARAM_PARSE_ERROR"]}}else e=t||{};return e},setData:function V(){this.chunks[A+sid]=this.chunks[A+sid]||[],this.chunks[A+sid].push(chunk)},getData:function W(t){return this.chunks[A+t]?this.chunks[A+t].join(""):""},registerCall:function J(t,e){this.calls[t]=e},unregisterCall:function M(t){var e={};return this.calls[t]&&(e=this.calls[t],delete this.calls[t]),e},useIframe:function H(t,e){var n=y+t,i=g.pop();i||(i=r.createElement("iframe"),i.setAttribute("frameborder","0"),i.style.cssText="width:0;height:0;border:0;display:none;"),i.setAttribute("id",n),i.setAttribute("src",e),i.parentNode||setTimeout(function(){r.body.appendChild(i)},5)},retrieveIframe:function B(t){var e=y+t,n=r.querySelector("#"+e);g.length>=3?r.body.removeChild(n):g.indexOf(n)<0&&g.push(n)},callMethod:function F(e,n,i,o){if(i=C.buildParam(i),s)c?t.WindVane_Win_Private.call(e,n,o,i):this.onComplete(o,{ret:"HY_NO_HANDLER_ON_WP"},"failure");else{var r="hybrid://"+e+":"+o+"/"+n+"?"+i;if(l)this.setParam(o,i),this.useIframe(o,r);else if(u){var a="wv_hybrid:";window.prompt(r,"wv_hybrid:")}else this.onComplete(o,{ret:"HY_NOT_SUPPORT_DEVICE"},"failure")}},registerGC:function X(t,e){var n=this,i=Math.max(e||0,6e5),o=Math.max(e||0,6e4),r=Math.max(e||0,6e5);setTimeout(function(){n.unregisterCall(t)},i),l?setTimeout(function(){n.params[b+t]&&delete n.params[b+t]},o):u&&setTimeout(function(){n.chunks[A+t]&&delete n.chunks[A+t]},r)},onComplete:function Q(t,e,n){var i=this.unregisterCall(t),o=i.success,r=i.failure,a=i.deferred,s=i.timeout;s&&clearTimeout(s),e=e?e:this.getData(t),e=this.parseData(e);var c=e.ret;"string"==typeof c&&(e=e.value||e,e.ret||(e.ret=[c])),"success"===n?(o&&o(e),a&&a.resolve(e)):"failure"===n&&(r&&r(e),a&&a.reject(e)),l?(this.retrieveIframe(t),this.params[b+t]&&delete this.params[b+t]):u&&this.chunks[A+t]&&delete this.chunks[A+t]}};for(var R in T)p.call(f,R)||(f[R]=T[R])}(window,window.lib||(window.lib={})),t.exports=window.lib.windvane},11:function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),!function(t,e){function i(){var t={},e=new m(function(e,n){t.resolve=e,t.reject=n});return t.promise=e,t}function o(t,e){for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}function r(t){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(t)}function a(t){var e=[];for(var n in t)t[n]&&e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")}function s(t){return t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1)}function c(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,i,o,r,a;return o=2147483648&t,r=2147483648&e,n=1073741824&t,i=1073741824&e,a=(1073741823&t)+(1073741823&e),n&i?2147483648^a^o^r:n|i?1073741824&a?3221225472^a^o^r:1073741824^a^o^r:a^o^r}function i(t,e,n){return t&e|~t&n}function o(t,e,n){return t&n|e&~n}function r(t,e,n){return t^e^n}function a(t,e,n){return e^(t|~n)}function s(t,o,r,a,s,c,l){return t=n(t,n(n(i(o,r,a),s),l)),n(e(t,c),o)}function c(t,i,r,a,s,c,l){return t=n(t,n(n(o(i,r,a),s),l)),n(e(t,c),i)}function l(t,i,o,a,s,c,l){return t=n(t,n(n(r(i,o,a),s),l)),n(e(t,c),i)}function u(t,i,o,r,s,c,l){return t=n(t,n(n(a(i,o,r),s),l)),n(e(t,c),i)}function d(t){for(var e,n=t.length,i=n+8,o=(i-i%64)/64,r=16*(o+1),a=new Array(r-1),s=0,c=0;n>c;)e=(c-c%4)/4,s=c%4*8,a[e]=a[e]|t.charCodeAt(c)<<s,c++;return e=(c-c%4)/4,s=c%4*8,a[e]=a[e]|128<<s,a[r-2]=n<<3,a[r-1]=n>>>29,a}function p(t){var e,n,i="",o="";for(n=0;3>=n;n++)e=t>>>8*n&255,o="0"+e.toString(16),i+=o.substr(o.length-2,2);return i}function f(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e+=String.fromCharCode(i):i>127&&2048>i?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e}var h,m,g,_,v,w,y,b,A,x=[],E=7,S=12,T=17,C=22,R=5,k=9,I=14,O=20,D=4,N=11,j=16,U=23,L=6,q=10,$=15,P=21;for(t=f(t),x=d(t),w=1732584193,y=4023233417,b=2562383102,A=271733878,h=0;h<x.length;h+=16)m=w,g=y,_=b,v=A,w=s(w,y,b,A,x[h+0],7,3614090360),A=s(A,w,y,b,x[h+1],12,3905402710),b=s(b,A,w,y,x[h+2],17,606105819),y=s(y,b,A,w,x[h+3],22,3250441966),w=s(w,y,b,A,x[h+4],7,4118548399),A=s(A,w,y,b,x[h+5],12,1200080426),b=s(b,A,w,y,x[h+6],17,2821735955),y=s(y,b,A,w,x[h+7],22,4249261313),w=s(w,y,b,A,x[h+8],7,1770035416),A=s(A,w,y,b,x[h+9],12,2336552879),b=s(b,A,w,y,x[h+10],17,4294925233),y=s(y,b,A,w,x[h+11],22,2304563134),w=s(w,y,b,A,x[h+12],7,1804603682),A=s(A,w,y,b,x[h+13],12,4254626195),b=s(b,A,w,y,x[h+14],17,2792965006),y=s(y,b,A,w,x[h+15],22,1236535329),w=c(w,y,b,A,x[h+1],5,4129170786),A=c(A,w,y,b,x[h+6],9,3225465664),b=c(b,A,w,y,x[h+11],14,643717713),y=c(y,b,A,w,x[h+0],20,3921069994),w=c(w,y,b,A,x[h+5],5,3593408605),A=c(A,w,y,b,x[h+10],9,38016083),b=c(b,A,w,y,x[h+15],14,3634488961),y=c(y,b,A,w,x[h+4],20,3889429448),w=c(w,y,b,A,x[h+9],5,568446438),A=c(A,w,y,b,x[h+14],9,3275163606),b=c(b,A,w,y,x[h+3],14,4107603335),y=c(y,b,A,w,x[h+8],20,1163531501),w=c(w,y,b,A,x[h+13],5,2850285829),A=c(A,w,y,b,x[h+2],9,4243563512),b=c(b,A,w,y,x[h+7],14,1735328473),y=c(y,b,A,w,x[h+12],20,2368359562),w=l(w,y,b,A,x[h+5],4,4294588738),A=l(A,w,y,b,x[h+8],11,2272392833),b=l(b,A,w,y,x[h+11],16,1839030562),y=l(y,b,A,w,x[h+14],23,4259657740),w=l(w,y,b,A,x[h+1],4,2763975236),A=l(A,w,y,b,x[h+4],11,1272893353),b=l(b,A,w,y,x[h+7],16,4139469664),y=l(y,b,A,w,x[h+10],23,3200236656),w=l(w,y,b,A,x[h+13],4,681279174),A=l(A,w,y,b,x[h+0],11,3936430074),b=l(b,A,w,y,x[h+3],16,3572445317),y=l(y,b,A,w,x[h+6],23,76029189),w=l(w,y,b,A,x[h+9],4,3654602809),A=l(A,w,y,b,x[h+12],11,3873151461),b=l(b,A,w,y,x[h+15],16,530742520),y=l(y,b,A,w,x[h+2],23,3299628645),w=u(w,y,b,A,x[h+0],6,4096336452),A=u(A,w,y,b,x[h+7],10,1126891415),b=u(b,A,w,y,x[h+14],15,2878612391),y=u(y,b,A,w,x[h+5],21,4237533241),w=u(w,y,b,A,x[h+12],6,1700485571),A=u(A,w,y,b,x[h+3],10,2399980690),b=u(b,A,w,y,x[h+10],15,4293915773),y=u(y,b,A,w,x[h+1],21,2240044497),w=u(w,y,b,A,x[h+8],6,1873313359),A=u(A,w,y,b,x[h+15],10,4264355552),b=u(b,A,w,y,x[h+6],15,2734768916),y=u(y,b,A,w,x[h+13],21,1309151649),w=u(w,y,b,A,x[h+4],6,4149444226),A=u(A,w,y,b,x[h+11],10,3174756917),b=u(b,A,w,y,x[h+2],15,718787259),y=u(y,b,A,w,x[h+9],21,3951481745),w=n(w,m),y=n(y,g),b=n(b,_),A=n(A,v);return(p(w)+p(y)+p(b)+p(A)).toLowerCase()}function l(t,e,n){var i=n||{};document.cookie=t.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+e.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(i.domain?";domain="+i.domain:"")+(i.path?";path="+i.path:"")+(i.secure?";secure":"")+(i.httponly?";HttpOnly":"")}function u(t){var e=new RegExp("(?:^|;\\s*)"+t+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return e?e[1]:void 0}function d(t,e,n){var i=new Date;i.setTime(i.getTime()-864e5);var o="/";document.cookie=t+"=;path=/;domain=."+e+";expires="+i.toGMTString(),document.cookie=t+"=;path=/;domain=."+n+"."+e+";expires="+i.toGMTString()}function p(){var e=t.location.hostname;if(!e){var n=t.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(e=n)}var i=["taobao.net","taobao.com","tmall.com","tmall.hk","etao.com","alibaba-inc.com"],o=new RegExp("([^.]*?)\\.?((?:"+i.join(")|(?:").replace(/\./g,"\\.")+"))","i"),r=e.match(o)||[],a=r[2]||"taobao.com",s=r[1]||"m";"taobao.net"!==a||"x"!==s&&"waptest"!==s&&"daily"!==s?"taobao.net"===a&&"demo"===s?s="demo":"alibaba-inc.com"===a&&"zebra"===s?s="zebra":"waptest"!==s&&"wapa"!==s&&"m"!==s&&(s="m"):s="waptest";var c="etao.com"===a?"apie":"api";c="taobao.com"===a?"acs":c,w.mainDomain=a,w.subDomain=s,w.prefix=c}function f(){var e=t.navigator.userAgent,n=e.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(w.WindVaneVersion=n[1]);var i=e.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);i&&(w.AliAppName=i[1],w.AliAppVersion=i[2])}function h(t){this.id=++A,this.params=o(t||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==n(this.params.data)&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=y.slice(0)}var m=t.Promise;if(!m){var g="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Promise\uff0c\u8bf7\u5728windows\u5bf9\u8c61\u4e0a\u6302\u8f7dPromise\u5bf9\u8c61\u53ef\u53c2\u8003\uff08http://gitlab.alibaba-inc.com/mtb/lib-es6polyfill/tree/master\uff09\u4e2d\u7684\u89e3\u51b3\u65b9\u6848";throw e.mtop={ERROR:g},new Error(g)}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var _,v=m.resolve();try{_=t.localStorage,_.setItem("@private","false")}catch(I){_=!1}var w={useAlipayJSBridge:!1},y=[],b={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};p(),f();var A=0,x="2.3.16";h.prototype.use=function(t){if(!t)throw new Error("middleware is undefined");return this.middlewares.push(t),this},h.prototype.__processRequestMethod=function(t){var e=this.params,n=this.options;"get"===e.type&&"jsonp"===e.dataType?n.getJSONP=!0:"get"===e.type&&"originaljsonp"===e.dataType?n.getOriginalJSONP=!0:"get"===e.type&&"json"===e.dataType?n.getJSON=!0:"post"===e.type&&(n.postJSON=!0),t()},h.prototype.__processRequestType=function(t){var n=this,i=this.options;if(w.H5Request===!0&&(i.H5Request=!0),w.WindVaneRequest===!0&&(i.WindVaneRequest=!0),i.H5Request===!1&&i.WindVaneRequest===!0){if(!e.windvane||parseFloat(i.WindVaneVersion)<5.4)throw new Error("WINDVANE_NOT_FOUND::\u7f3a\u5c11WindVane\u73af\u5883")}else i.H5Request===!0?i.WindVaneRequest=!1:"undefined"==typeof i.WindVaneRequest&&"undefined"==typeof i.H5Request&&(e.windvane&&parseFloat(i.WindVaneVersion)>=5.4?i.WindVaneRequest=!0:i.H5Request=!0);return t?t().then(function(){var t=i.retJson.ret;return t instanceof Array&&(t=t.join(",")),i.WindVaneRequest===!0&&(!t||t.indexOf("HY_FAILED")>-1||t.indexOf("HY_NO_HANDLER")>-1||t.indexOf("HY_CLOSED")>-1||t.indexOf("HY_EXCEPTION")>-1||t.indexOf("HY_NO_PERMISSION")>-1)?(w.H5Request=!0,n.__sequence([n.__processRequestType,n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])):void 0}):void 0};var E="_m_h5_c",S="_m_h5_tk",T="_m_h5_tk_enc";h.prototype.__getTokenFromAlipay=function(){var e=i(),n=this.options,o=(t.navigator.userAgent,!!location.protocol.match(/^https?\:$/)),r="AP"===n.AliAppName&&parseFloat(n.AliAppVersion)>=8.2;return n.useAlipayJSBridge===!0&&!o&&r&&t.AlipayJSBridge&&t.AlipayJSBridge.call?t.AlipayJSBridge.call("getMtopToken",function(t){t&&t.token&&(n.token=t.token),e.resolve()},function(){e.resolve()}):e.resolve(),e.promise},h.prototype.__getTokenFromCookie=function(){var t=this.options;return t.token=t.token||u(S),t.token&&(t.token=t.token.split("_")[0]),m.resolve()},h.prototype.__processToken=function(t){var e=this,n=this.options;return this.params,n.token&&delete n.token,n.WindVaneRequest!==!0?v.then(function(){return e.__getTokenFromAlipay()}).then(function(){return e.__getTokenFromCookie()}).then(t).then(function(){var t=n.retJson,i=t.ret;if(i instanceof Array&&(i=i.join(",")),i.indexOf("TOKEN_EMPTY")>-1||n.CDR===!0&&i.indexOf("ILLEGAL_ACCESS")>-1||i.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes)return e.__sequence([e.__processToken,e.__processRequestUrl,e.__processUnitPrefix,e.middlewares,e.__processRequest]);n.maxRetryTimes>0&&(d(E,n.pageDomain,"*"),d(S,n.mainDomain,n.subDomain),d("_m_h5_tk_enc",n.mainDomain,n.subDomain)),t.retType=b.TOKEN_EXPIRED}}):void t()},h.prototype.__processRequestUrl=function(e){var n=this.params,i=this.options;if(i.hostSetting&&i.hostSetting[t.location.hostname]){var o=i.hostSetting[t.location.hostname];o.prefix&&(i.prefix=o.prefix),o.subDomain&&(i.subDomain=o.subDomain),o.mainDomain&&(i.mainDomain=o.mainDomain)}if(i.H5Request===!0){var r="//"+(i.prefix?i.prefix+".":"")+(i.subDomain?i.subDomain+".":"")+i.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",a=n.appKey||("waptest"===i.subDomain?"4272":"12574478"),s=(new Date).getTime(),l=c(i.token+"&"+s+"&"+a+"&"+n.data),u={jsv:"2.3.16",appKey:a,t:s,sign:l},d={data:n.data,ua:n.ua};Object.keys(n).forEach(function(t){"undefined"==typeof u[t]&&"undefined"==typeof d[t]&&(u[t]=n[t])}),i.getJSONP?u.type="jsonp":i.getOriginalJSONP?u.type="originaljsonp":(i.getJSON||i.postJSON)&&(u.type="originaljson"),i.querystring=u,i.postdata=d,i.path=r}e()},h.prototype.__processUnitPrefix=function(e){var n=this.params,i=this.options;if(i.disabledUnit===!0)return void e();if(_&&i.H5Request===!0){var o=n.api,a=!1,s=u("_m_user_unitinfo_"),c=_.getItem("unitinfo");s&&s.split("|")[0].indexOf("center")<0&&c&&c.indexOf(o.toLowerCase())>=0&&(a=s.split("|")[1]),i.h5UnitPrefix?i.path=i.path.replace(/^\/\//,"//"+i.h5UnitPrefix):a&&i.path&&(i.useAcsUnit===!0||i.path.indexOf("taobao.com")>-1&&"acs"===i.prefix?i.path=i.path.replace(/^\/\//,"//"+a):i.path=i.path.replace(/^\/\//,"//"+a+".")),e().then(function(){if(_){var e=u("_m_unitapi_v_"),n=_.getItem("unitinfo");if(e){var o=n?JSON.parse(n):{};if(!n||e!==o.version){var a=!1,s="//h5."+i.subDomain+".taobao.com/js/mtop/unit/"+e+"/unitApi.js",c=document.createElement("script");c.src=s,c.async=!0;var l=function d(){a||(a=!0,c.onload=c.onerror=null,c.parentNode&&c.parentNode.removeChild(c))};c.onerror=function(){l()},t.jsonp_unitapi||(t.jsonp_unitapi=function(t){l(),_.setItem("unitinfo",JSON.stringify(t))}),r(c)}}}})}else e()};var C=0;h.prototype.__requestJSONP=function(t){function e(t){if(u&&clearTimeout(u),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===t)window[l]=function(){window[l]=void 0;try{delete window[l]}catch(t){}};else{window[l]=void 0;try{delete window[l]}catch(e){}}}var n=i(),o=this.params,s=this.options,c=o.timeout||2e4,l="mtopjsonp"+ ++C,u=setTimeout(function(){t("TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),e("TIMEOUT")},c);s.querystring.callback=l;var d=document.createElement("script");return d.src=s.path+"?"+a(s.querystring)+"&"+a(s.postdata),d.async=!0,d.onerror=function(){e("ABORT"),t("ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")},window[l]=function(){s.results=Array.prototype.slice.call(arguments),e(),n.resolve()},r(d),n.promise},h.prototype.__requestJSON=function(e){function n(t){p&&clearTimeout(p),"TIMEOUT"===t&&l.abort()}var o=i(),r=this.params,c=this.options,l=new t.XMLHttpRequest,d=r.timeout||2e4,p=setTimeout(function(){e("TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),n("TIMEOUT")},d);c.pageDomain=c.pageDomain||s(t.location.hostname),c.mainDomain!=c.pageDomain&&(c.maxRetryTimes=3,c.CDR=!0,u(E)&&(c.querystring.c=decodeURIComponent(u(E)))),l.onreadystatechange=function(){if(4==l.readyState){var t,i,r=l.status;if(r>=200&&300>r||304==r){n(),t=l.responseText,i=l.getAllResponseHeaders()||"";try{t=/^\s*$/.test(t)?{}:JSON.parse(t),t.responseHeaders=i,c.results=[t],o.resolve()}catch(s){e("PARSE_JSON_ERROR::\u89e3\u6790JSON\u5931\u8d25")}}else n("ABORT"),e("ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")}};var f,h,m=c.path+"?"+a(c.querystring);if(c.getJSON?(f="GET",m+="&"+a(c.postdata)):c.postJSON&&(f="POST",h=a(c.postdata)),l.open(f,m,!0),l.withCredentials=!0,l.setRequestHeader("Accept","application/json"),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.headers)for(var g in r.headers)l.setRequestHeader(g,r.headers[g]);return l.send(h),o.promise},h.prototype.__requestWindVane=function(t){function n(t){l.results=[t],s.resolve()}var o,r,a,s=i(),c=this.params,l=this.options,u=c.data,d=c.api,p=c.v,f=l.postJSON?1:0,h=l.getJSON||l.postJSON?"originaljson":"",m="https"===location.protocol?1:0,g=c.isSec||0,_=c.sessionOption||"AutoLoginOnly";if("undefined"==typeof c.ecode)throw new Error("UNEXCEPT_PARAM_ECODE::\u7f3a\u5c11ecode\u53c2\u6570");return o=parseInt(c.ecode),
a="undefined"!=typeof c.timer?parseInt(c.timer):"undefined"!=typeof c.timeout?parseInt(c.timeout):2e4,r=2*a,c.needLogin===!0&&"undefined"==typeof c.sessionOption&&(_="AutoLoginAndManualLogin"),"undefined"!=typeof c.secType&&"undefined"==typeof c.isSec&&(g=c.secType),e.windvane.call("MtopWVPlugin","send",{api:d,v:p,post:String(f),type:h,isHttps:String(m),ecode:String(o),isSec:String(g),param:JSON.parse(u),timer:a,sessionOption:_,ext_headers:{referer:location.href}},n,n,r),s.promise},h.prototype.__processRequest=function(t,e){var n=this;return v.then(function(){var t=n.options;if(t.H5Request&&(t.getJSONP||t.getOriginalJSONP))return n.__requestJSONP(e);if(t.H5Request&&(t.getJSON||t.postJSON))return n.__requestJSON(e);if(t.WindVaneRequest)return n.__requestWindVane(e);throw new Error("UNEXCEPT_REQUEST::\u9519\u8bef\u7684\u8bf7\u6c42\u7c7b\u578b")}).then(t).then(function(){var t=n.options,e=(n.params,t.results[0]),i=e&&e.ret||[];e.ret=i,i instanceof Array&&(i=i.join(","));var o=e.c;if(t.CDR&&o){var r=o.split(";");l(E,o,{domain:t.pageDomain,path:"/"}),l(S,r[0],{domain:t.pageDomain,path:"/"})}i.indexOf("SUCCESS")>-1?e.retType=b.SUCCESS:e.retType=b.ERROR,t.retJson=e})},h.prototype.__sequence=function(t){function e(t){if(t instanceof Array)t.forEach(e);else{var a,s=i(),c=i();o.push(function(){return s=i(),a=t.call(n,function(t){return s.resolve(t),c.promise},function(t){return s.reject(t),c.promise}),a&&(a=a["catch"](function(t){s.reject(t)})),s.promise}),r.push(function(t){return c.resolve(t),a})}}var n=this,o=[],r=[];t.forEach(e);for(var a,s=v;a=o.shift();)s=s.then(a);for(;a=r.pop();)s=s.then(a);return s};var R=function O(t){t()},k=function D(t){t()};h.prototype.request=function(t){var e=this;this.options=o(t||{},w);var n=m.resolve([R,k]).then(function(t){var n=t[0],i=t[1];return e.__sequence([n,e.__processRequestMethod,e.__processRequestType,e.__processToken,e.__processRequestUrl,e.__processUnitPrefix,e.middlewares,e.__processRequest,i])}).then(function(){var t=e.options.retJson;return t.retType!==b.SUCCESS?m.reject(t):e.options.successCallback?void e.options.successCallback(t):m.resolve(t)})["catch"](function(t){var n;return t instanceof Error?(console.error(t.stack),n={ret:[t.message],stack:[t.stack],retJson:b.ERROR}):n="string"==typeof t?{ret:[t],retJson:b.ERROR}:void 0!==t?t:e.options.retJson,e.options.failureCallback?void e.options.failureCallback(n):m.reject(n)});return this.__processRequestType(),e.options.H5Request&&(e.constructor.__firstProcessor||(e.constructor.__firstProcessor=n),R=function i(t){e.constructor.__firstProcessor.then(t)["catch"](t)}),n},e.mtop=function(t){return new h(t)},e.mtop.request=function(t,e,n){var i={H5Request:t.H5Request,WindVaneRequest:t.WindVaneRequest,LoginRequest:t.LoginRequest,AntiCreep:t.AntiCreep,AntiFlood:t.AntiFlood,successCallback:e,failureCallback:n||e};return new h(t).request(i)},e.mtop.H5Request=function(t,e,n){var i={H5Request:!0,successCallback:e,failureCallback:n||e};return new h(t).request(i)},e.mtop.middlewares=y,e.mtop.config=w,e.mtop.RESPONSE_TYPE=b,e.mtop.CLASS=h}(window,window.lib||(window.lib={})),function(t,e){function n(t){return t.preventDefault(),!1}function i(e,i){var o=this,r=t.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/r,l=Math.max(s.height,window.innerHeight)/r;a.style.cssText=["-webkit-transform:scale("+r+") translateZ(0)","-ms-transform:scale("+r+") translateZ(0)","transform:scale("+r+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+l+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var u=document.createElement("div");u.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),u.innerText=e;var d=document.createElement("a");d.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),d.innerText="\u5173\u95ed";var p=document.createElement("iframe");p.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),u.appendChild(d),a.appendChild(u),a.appendChild(p),document.body.appendChild(a),p.src=i,d.addEventListener("click",function(){o.hide();var t=document.createEvent("HTMLEvents");t.initEvent("close",!1,!1),a.dispatchEvent(t)},!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-s.top),a.parentNode&&a.parentNode.removeChild(a)}}function o(t){var n=this,i=this.options,o=this.params;return t().then(function(){var t=i.retJson,r=t.ret;if(r instanceof Array&&(r=r.join(",")),(r.indexOf("SESSION_EXPIRED")>-1||r.indexOf("SID_INVALID")>-1||r.indexOf("AUTH_REJECT")>-1||r.indexOf("NEED_LOGIN")>-1)&&(t.retType=u.SESSION_EXPIRED,!i.WindVaneRequest&&(l.LoginRequest===!0||i.LoginRequest===!0||o.needLogin===!0))){if(!e.login)throw new Error("LOGIN_NOT_FOUND::\u7f3a\u5c11lib.login");if(i.CDR!==!0)return e.login.goLoginAsync().then(function(t){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})["catch"](function(t){throw"CANCEL"===t?new Error("LOGIN_CANCEL::\u7528\u6237\u53d6\u6d88\u767b\u5f55"):new Error("LOGIN_FAILURE::\u7528\u6237\u767b\u5f55\u5931\u8d25")});e.login.goLogin()}})}function r(t){var e=this.options;return this.params,e.H5Request!==!0||l.AntiFlood!==!0&&e.AntiFlood!==!0?void t():t().then(function(){var t=e.retJson,n=t.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&t.data.url&&(e.AntiFloodReferer?location.href=t.data.url.replace(/(http_referer=).+/,"$1"+e.AntiFloodReferer):location.href=t.data.url)})}function a(e){var n=this,o=this.options,r=this.params;return r.forceAntiCreep!==!0&&o.H5Request!==!0||l.AntiCreep!==!0&&o.AntiCreep!==!0?void e():e().then(function(){var e=o.retJson,a=e.ret;return a instanceof Array&&(a=a.join(",")),a.indexOf("RGV587_ERROR::SM")>-1&&e.data.url?new s(function(o,a){function s(){u.removeEventListener("close",s),t.removeEventListener("message",c),a("USER_INPUT_CANCEL::\u7528\u6237\u53d6\u6d88\u8f93\u5165")}function c(e){var i;try{i=JSON.parse(e.data)||{}}catch(l){}if(i&&"child"===i.type){u.removeEventListener("close",s),t.removeEventListener("message",c),u.hide();var l;try{"string"==typeof(l=JSON.parse(decodeURIComponent(i.content)))&&(l=JSON.parse(l));for(var d in l)r[d]=l[d];n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(l){a("USER_INPUT_FAILURE::\u7528\u6237\u8f93\u5165\u5931\u8d25")}}}var l=e.data.url,u=new i("",l);u.addEventListener("close",s,!1),t.addEventListener("message",c,!1),u.show()}):void 0})}if(!e||!e.mtop||e.mtop.ERROR)throw new Error("Mtop \u521d\u59cb\u5316\u5931\u8d25\uff01\u8bf7\u53c2\u8003Mtop\u6587\u6863http://gitlab.alibaba-inc.com/mtb/lib-mtop");var s=t.Promise,c=e.mtop.CLASS,l=e.mtop.config,u=e.mtop.RESPONSE_TYPE;e.mtop.middlewares.push(o),e.mtop.loginRequest=function(t,e,n){var i={LoginRequest:!0,H5Request:!0,successCallback:e,failureCallback:n||e};return new c(t).request(i)},e.mtop.antiFloodRequest=function(t,e,n){var i={AntiFlood:!0,successCallback:e,failureCallback:n||e};return new c(t).request(i)},e.mtop.middlewares.push(r),e.mtop.antiCreepRequest=function(t,e,n){var i={AntiCreep:!0,successCallback:e,failureCallback:n||e};return new c(t).request(i)},e.mtop.middlewares.push(a)}(window,window.lib||(window.lib={})),t.exports=window.lib.mtop},12:function(t,e){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(t,e,n){function i(t){var e=new RegExp("(?:^|;\\s*)"+t+"\\=([^;]+)(?:;\\s*|$)").exec(b.cookie);return e?e[1]:n}function o(t){return t.preventDefault(),!1}function r(e,n){var i=this,r=t.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/r,l=Math.max(s.height,window.innerHeight)/r;a.style.cssText=["-webkit-transform:scale("+r+") translateZ(0)","-ms-transform:scale("+r+") translateZ(0)","transform:scale("+r+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+l+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var u=document.createElement("div");u.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),u.innerText=e;var d=document.createElement("a");d.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),d.innerText="\u5173\u95ed";var p=document.createElement("iframe");p.style.cssText=["width:100%","height:"+window.innerHeight/r+"px","border:0","overflow:hidden"].join(";"),u.appendChild(d),a.appendChild(u),a.appendChild(p),b.body.appendChild(a),p.src=n,d.addEventListener("click",function(){i.hide();var t=b.createEvent("HTMLEvents");t.initEvent("close",!1,!1),a.dispatchEvent(t)},!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",o,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",o),window.scrollTo(0,-s.top),b.body.removeChild(a)}}function a(t){if(!t||"function"!=typeof t||!e.mtop){return!!this.getUserNick()}e.mtop.request({api:"mtop.user.getUserSimple",v:"1.0",data:{isSec:0},H5Request:!0},function(i){i.retType===e.mtop.RESPONSE_TYPE.SUCCESS?t(!0,i):i.retType===e.mtop.RESPONSE_TYPE.SESSION_EXPIRED?t(!1,i):t(n,i)})}function s(t){var e;return y&&(e={},e.promise=new y(function(t,n){e.resolve=t,e.reject=n})),this.isLogin(function(n,i){t&&t(n,i),n===!0?e&&e.resolve(i):e&&e.reject(i)}),e?e.promise:void 0}function c(t){if(!t||"function"!=typeof t){var e="",o=i("_w_tb_nick"),r=i("_nk_")||i("snk"),a=i("sn");return o&&o.length>0&&"null"!=o?e=decodeURIComponent(o):r&&r.length>0&&"null"!=r?e=unescape(unescape(r).replace(/\\u/g,"%u")):a&&a.length>0&&"null"!=a&&(e=decodeURIComponent(a)),e=e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}this.isLogin(function(e,i){t(e===!0&&i&&i.data&&i.data.nick?i.data.nick:e===!1?"":n)})}function l(t){var e;return y&&(e={},e.promise=new y(function(t,n){e.resolve=t,e.reject=n})),this.getUserNick(function(n){t&&t(n),n?e&&e.resolve(n):e&&e.reject()}),e?e.promise:void 0}function u(t,n){var i="//"+D+"."+N.subDomain+"."+I+"/"+N[(t||"login")+"Name"];if(n){var o=[];for(var r in n)o.push(r+"="+encodeURIComponent(n[r]));i+="?"+o.join("&")}var a=e.login.config.loginUrlParams;if(a){var s=[];for(var c in a)s.push(c+"="+encodeURIComponent(a[c]));i+=/\?/.test(i)?"&"+s.join("&"):"?"+o.join("&")}return i}function d(t,e){e?location.replace(t):location.href=t}function p(e,n,i){function o(e){l.removeEventListener("close",o),t.removeEventListener("message",a),i("CANCEL")}function a(e){var n=e.data||{};n&&"child"===n.type&&n.content.indexOf("SUCCESS")>-1?(l.removeEventListener("close",o),t.removeEventListener("message",a),l.hide(),i("SUCCESS")):i("FAILURE")}var s=location.protocol+"//h5."+N.subDomain+".taobao.com/"+("waptest"===N.subDomain?"src":"other")+"/"+e+"end.html?origin="+encodeURIComponent(location.protocol+"//"+location.hostname),c=u(e,{ttid:"h5@iframe",redirectURL:s}),l=new r(n.title||"\u60a8\u9700\u8981\u767b\u5f55\u624d\u80fd\u7ee7\u7eed\u8bbf\u95ee",c);l.addEventListener("close",o,!1),t.addEventListener("message",a,!1),l.show()}function f(e,n,i){var o=u(e,{wvLoginCallback:"wvLoginCallback"});t.wvLoginCallback=function(e){delete t.wvLoginCallback,i(e.indexOf(":SUCCESS")>-1?"SUCCESS":e.indexOf(":CANCEL")>-1?"CANCEL":"FAILURE")},d(o)}function h(t,e,n){if("function"==typeof e?(n=e,e=null):"string"==typeof e&&(e={redirectUrl:e}),e=e||{},n&&T)f(t,e,n);else if(n&&!S&&"login"===t)p(t,e,n);else{var i=u(t,{redirectURL:e.redirectUrl||location.href});d(i,e.replace)}}function m(t,e,n){var i;return y&&(i={},i.promise=new y(function(t,e){i.resolve=t,i.reject=e})),h(t,e,function(t){n&&n(t),"SUCCESS"===t?i&&i.resolve(t):i&&i.reject(t)}),i?i.promise:void 0}function g(t){h("login",t)}function _(t){return m("login",t)}function v(t){h("logout",t)}function w(t){return m("logout",t)}var y=t.Promise,b=t.document,A=t.navigator.userAgent,x=location.hostname,E=(t.location.search,A.match(/WindVane[\/\s]([\d\.\_]+)/)),S=A.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i),T=!!(S&&"TB"===S[1]&&E&&parseFloat(E[1])>5.2),C=["taobao.net","taobao.com"],R=new RegExp("([^.]*?)\\.?((?:"+C.join(")|(?:").replace(/\./g,"\\.")+"))","i"),k=x.match(R)||[],I=function(){return(k[2]||"taobao.com").match(/\.?taobao\.net$/)?"taobao.net":"taobao.com"}(),O=function(){var t=I,e=k[1]||"m";return"taobao.net"===t&&(e="waptest"),"m"!=e&&"wapa"!=e&&"waptest"!=e&&(e="m"),e}(),D="login";e.login=e.login||{};var N={loginName:"login.htm",logoutName:"logout.htm",subDomain:O};e.login.config=N,e.login.isLogin=a,e.login.isLoginAsync=s,e.login.getUserNick=c,e.login.getUserNickAsync=l,e.login.generateUrl=u,e.login.goLogin=g,e.login.goLoginAsync=_,e.login.goLogout=v,e.login.goLogoutAsync=w}(window,window.lib||(window.lib={})),t.exports=window.lib.login},13:function(t,e){t.exports=$.__promise__},14:function(t,e,n){function i(t,e){for(var n in e)e[n]!=undefined&&(t[n]=e[n])}function o(t){if(r(t),"object"===g(o.instance))return l(),o.instance;s(function(){l(),p()}),o.instance=this}function r(t){O=O.concat(a(t))}function a(t){var e=[];return[].forEach.call(t,function(n,i){-1===O.indexOf(n)&&-1===D.indexOf(n)&&e.push(t[i])}),e}function s(t){function e(){0===--n&&t&&t()}if(!c()&&!J.autoWebp)return void(t&&t());var n=0;c()&&(n++,y.getNetwork(function(t,n){k=t,e()})),J.autoWebp&&(n+=2,v.isSupport(function(t){C=t,e()}),v.isSupport(function(t){R=t,e()},"alpha"))}function c(){return J.enableIOSWifiLoad&&window.WindVane&&1==window.WindVane.isAvailable}function l(t){t=t||0;for(var e=O.length,n=J.enableIOSWifiLoad&&M&&"WIFI"==k,i=[],o=0;o<e;o++){var r=O[o],a=$(O[o]);if(n||J.stop||a.inView(J.offsetY,t)){var s=a.attr("data-bestsrc");if(s||D.indexOf(r)!==-1)D.indexOf(r)===-1&&D.push(r);else{var c=a.attr("data-srcset")||a.attr("data-src");if(c){D.push(r);var l=new A({src:a.attr("src"),srcset:c});s=x.getBestImage(l).src;var d=s.substr(-4,4);if(s.indexOf("cdn.")!=-1){if(".png"===d&&R||".jpg"===d&&C){var p=a.attr("data-webpsuffix");s+=p?p:I}var f=a.attr("data-network");if(".jpg"===d&&"close"!=f){f=a.attr("data-network"),f=f&&f.replace(/\s/g,""),f=f?f:"Q50s150,Q30s150",function(t,e,n){y.weld(t,e,function(t){u(n,t)})}(s,f,a);continue}}u(a,s)}}}else i.push(r)}O=i}function u(t,e){if(J.autoAnim)if(d(t),"img"==t[0].tagName.toLowerCase())t.on("load",function(){t.css("opacity",1)});else{var n="_lazyLoadImgRef"+Math.random();window[n]=$(new Image),window[n].on("load",function(){t.css("opacity",1),t.css({"background-image":"url("+e+")","background-repeat":"no-repeat","background-position":"center center","background-size":"cover"}),delete window[n]}),window[n].attr("src",e)}t.attr("data-lazyimg",t.attr("src")),t.attr("src",e),t.attr("data-bestsrc",e)}function d(t){t.css({"-webkit-transition":"opacity .35s",transition:"opacity .35s",opacity:0})}function p(){N||(N=!0,J.el.on("scroll",function(t){O.length>0&&(U=J.el.scrollTop()),j||S(function(){l(),j=!1}),j=!0}),J.el.on("resize",function(t){U=J.el.scrollTop(),P=J.el.height(),l()}),M&&J.el.on("touchend",function(t){q={y:(t.changedTouches?t.changedTouches[0]:t).pageY,time:(new Date).getTime()},q.y-L.y>5&&h()}).on("touchstart",function(t){L={y:(t.touches?t.touches[0]:t).pageY,time:(new Date).getTime()},h(P)}),window.MutationObserver&&J.observeDomChanges&&(V=new MutationObserver(function(t){f(t)}),V.observe(J.observeWrapper,W)))}function f(t){var e,n,i,o;t.forEach(function(t){e=t.removedNodes,e.forEach(function(t){"img"==t.tagName.toLowerCase()&&(n=$(t),i=n.attr("data-bestsrc")?D:O,(o=i.indexOf(t))>-1&&i.splice(o,1))})})}function h(t){l(t||m())}function m(){var t=q.y-L.y,e=q.time-L.time;e=e||1;var n=t/e,i=.005;return.5*n*(n/.005)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_=n(10),v=n(15),w=n(16),y=new w,b=n(17),A=n(18),x=new b,E=n(19),S=window.requestAnimationFrame,T=window.cancelAnimationFrame,C=!1,R=!1,k="",I="_.webp",O=[],D=[],N=!1,j=!1,U,L={},q={},P=0,V,W={subtree:!0,childList:!0,attributes:!1},J={offsetY:0,maxNum:120,autoWebp:!0,autoAnim:!1,el:$(window),enableIOSWifiLoad:!1,observeDomChanges:!1,observeWrapper:document,stop:!1},M=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);i($.fn,{inView:function H(t,e){t=t||0,e=e||0;var n=U+e,i=$(this).offset(),o=J.el[0]!=window?this[0].offsetTop:i.top,r=o+(i.height||$(this).height());return o>=n-t&&o<=n+P+t||r>=n-t&&r<=n+P+t},lazyload:function B(t){t=t||{},t.el&&(t.el=$(t.el)),i(J,t),x.compute(),P=x.h,$(J.el)[0]!=window&&(J.el=$(J.el),P=J.el.height()),U=J.el.scrollTop(),new o(this.slice(0))}}),t.exports={setupConfig:function F(t){i(J,t)},destroy:function X(){O=[],D=[]}}},15:function(t,e){function n(t,e){if("function"==typeof t){var n=new Image;n.onload=function(){var o=n.width>0&&n.height>0;i(o,e),t(o)},n.onerror=function(){i(!1,e),t(!1)},n.src="data:image/webp;base64,"+r[e]}}function i(t,e){if(window.localStorage&&"function"==typeof window.localStorage.setItem)try{window.localStorage.setItem("webpsupport-"+e,t)}catch(n){}}function o(t,e){if("function"==typeof t)if(e=e||"lossy",window.navigator.userAgent.match(/windows|win32/i)||a&&window.navigator.userAgent.match(/UCBrowser/i))t(!1);else if(window.chrome||window.opera)t(!0);else{var i=window.localStorage&&window.localStorage.getItem("webpsupport-"+e);i?t("true"==i):n(t,e)}}var r={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},a=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),s=!!navigator.userAgent.match(/windvane/i),c={};c.isSupport=o,t.exports=c},16:function(t,e,n){function i(t){if("object"===r(i.instance))return i.instance;this._init(t),i.instance=this}function o(t,e){for(var n in e)e[n]!=undefined&&(t[n]=e[n])}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(10),s=window.navigator.userAgent,c={network:["Q50s100","Q30s100"],enableDomainMerge:!0,mergeDomain:"gw.alicdn.com",enableRemoveScheme:!0,strongNet:["WIFI"]},l=/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.com)\/(.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i,u=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i;o(i.prototype,{network:null,poll:[],callback:!1,weld:function d(t,e,n){var i=this;if(navigator.userAgent.indexOf("WindVane")!==-1&&navigator.userAgent.indexOf("tae_sdk")===-1&&window.WindVane&&!this.callback){if(this.poll.push(arguments),this.poll.length>1)return;return void this._getNetwork()}n&&n(this._getWeldUrl(t,e))},_getNetwork:function p(){var t=this;if(this.isWeakNet!==undefined&&null!==this.isWeakNet)return void this._getInfoCallback();this.getNetwork(function(e,n){t._getInfoCallback.call(t)})},getNetwork:function f(t){function e(){0===--i&&(n.isWeakNet=null===c||c===undefined?n.config.strongNet.indexOf(r)==-1:c,t(r,c))}var n=this,i=1,o=/AliApp\(TB\/([\d\.]+)\)/.test(s),r,c;o&&(i++,a.call("TBWeakNetStatus","getStatus",{},function(t){c=t.WeakNetStatus===!0||"true"===t.WeakNetStatus,e()},function(t){e()})),a.call("WVNetwork","getNetworkType",{},function(t){r=t.type,e()},function(t){e()})},weldImg:function h(t){var e=t,n=this,i,o;if(e.length){[].forEach.call(e,function(t,e){if("IMG"==t.tagName){if(i=t.getAttribute("data-network"),!(o=t.getAttribute("data-src")))return;n.weld(o,i,function(e){e&&(t.src=e)})}})}},_init:function m(t){o(this.config={},c,t||{})},_getWeldUrl:function g(t,e){t=this.config.enableRemoveScheme?t.replace(/(http|https):/gi,""):t;var n=t.match(/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.com)\/(.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i);if(!n||~n[2].indexOf("gif"))return t;this.config.enableDomainMerge&&(t=t.replace(n[1],this.config.mergeDomain));var i=this._getQualitySuffix(e),o=n[2].match(/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i);return o?(t=t.replace(o[0],""),t+="_"+(o[1]||"")+(o[2]||"")+(o[3]||i)+o[4]+(o[5]||"")):t.match(/_\.webp$/)?t=t.replace(/_\.webp$/,"_"+i+".jpg_.webp"):t+="_"+i+".jpg",t},_getQualitySuffix:function _(t){var e=this._parseSuffix(t);return this.isWeakNet?e[1]:e[0]},_parseSuffix:function v(t){var e=this.config.network,n;return"[object String]"===Object.prototype.toString.call(t)&&(n=t.split(",")),"[object Array]"===Object.prototype.toString.call(t)&&(n=t),n&&n[0]&&(e[0]=n[0]),n&&n[1]&&(e[1]=n[1]),e},_getInfoCallback:function w(){var t=this,e=this.poll;this.callback=!0,this.poll=[],Array.prototype.forEach.call(e,function(e,n){t.weld.apply(t,e)})}}),t.exports=i},17:function(t,e){function n(){this.w=null,this.h=null,this.x=null}n.prototype.compute=function(){this.w=window.innerWidth||document.documentElement.clientWidth,this.h=window.innerHeight||document.documentElement.clientHeight,this.x=window.devicePixelRatio},n.prototype.setForTesting=function(t){this.w=t.w,this.h=t.h,this.x=t.x},n.prototype.getBestImage=function(t){var e=t.imageCandidates.slice(0),n=this._getBestCandidateIf(e,function(t,e){return t.w>e.w});this._removeCandidatesIf(e,function(t){return function(e){return e.w<t.w}}(this)),0===e.length&&(e=[n]);var i=this._getBestCandidateIf(e,function(t,e){return t.h>e.h});this._removeCandidatesIf(e,function(t){return function(e){return e.h<t.h}}(this)),0===e.length&&(e=[i]);var o=this._getBestCandidateIf(e,function(t,e){return t.x>e.x});this._removeCandidatesIf(e,function(t){return function(e){return e.x<t.x}}(this)),0===e.length&&(e=[o]);var r=this._getBestCandidateIf(e,function(t,e){return t.w<e.w});this._removeCandidatesIf(e,function(t,e){return t.w>r.w});var a=this._getBestCandidateIf(e,function(t,e){return t.h<e.h});this._removeCandidatesIf(e,function(t,e){return t.h>r.h});var s=this._getBestCandidateIf(e,function(t,e){return t.x<e.x});return this._removeCandidatesIf(e,function(t,e){return t.x>s.x}),e[0]},n.prototype._getBestCandidateIf=function(t,e){for(var n=t[0],i=0;i<t.length;i++){var o=t[i];e(o,n)&&(n=o)}return n},n.prototype._removeCandidatesIf=function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n])&&t.splice(n,1)}return t},n.prototype.getBestImage2=function(t){for(var e=null,n=t.imageCandidates,i=0;i<n.length;i++){var o=n[i];if((e?e.x:0)<=o.x&&o.x<=this.x){if(null===e){e=o;continue}this.w<=o.w&&o.w<=e.w&&(e=o)}}return e},t.exports=n},18:function(t,e){function n(t){this.imageCandidates=[],this.srcValue=t.src,this.srcsetValue=t.srcset,this.isValid=!0,this.error="",this._parse(this.srcsetValue),this.isValid||console.log("error","Error: "+this.error)}function i(t){this.src=t.src,this.w=t.w||Infinity,this.h=t.h||Infinity,this.x=t.x||1}var o=/^[0-9]+$/;n.prototype._parse=function(){for(var t=this.srcsetValue,e=0,n=[],o,r;""!==t;){for(;" "===t.charAt(0);)t=t.slice(1);if((e=t.indexOf(" "))!==-1){if(""===(o=t.slice(0,e)))break;t=t.slice(e+1),e=t.indexOf(","),e===-1?(r=t,t=""):(r=t.slice(0,e),t=t.slice(e+1)),n.push({url:o,descriptors:r})}else n.push({url:t,descriptors:""}),t=""}for(var a=0,s=n.length;a<s;a++){var c=n[a],l=this._parseDescriptors(c.descriptors);this._addCandidate(new i({src:c.url,x:l.x,w:l.w,h:l.h}))}this.srcValue&&this._addCandidate(new i({src:this.srcValue}))},n.prototype._addCandidate=function(t){for(var e=0;e<this.imageCandidates.length;e++){var n=this.imageCandidates[e];if(n.x==t.x&&n.w==t.w&&n.h==t.h)return}this.imageCandidates.push(t)},n.prototype._parseDescriptors=function(t){for(var e=t.split(/\s/),n={},i=0;i<e.length;i++){var o=e[i];if(o.length>0){var r=o[o.length-1],a=o.substring(0,o.length-1),s=parseInt(a,10),c=parseFloat(a);a.match(/^[0-9]+$/)&&"w"===r?n[r]=s:a.match(/^[0-9]+$/)&&"h"==r?n[r]=s:isNaN(c)||"x"!=r?(this.error="Invalid srcset descriptor found in "+o+".",this.isValid=!1):n[r]=c}}return n},t.exports=n},19:function(t,e,n){t.exports=n(20)},20:function(t,e){for(var n=window,i=0,o="RequestAnimationFrame",r="CancelAnimationFrame",a=["ms","moz","webkit","o"],s=0;s<a.length&&!n.requestAnimationFrame;++s)n.requestAnimationFrame=n[a[s]+"RequestAnimationFrame"],n.cancelAnimationFrame=n[a[s]+r]||n[a[s]+r];n.requestAnimationFrame||(n.requestAnimationFrame=function(t,e){var o=(new Date).getTime(),r=Math.max(0,16-(o-i)),a=n.setTimeout(function(){t(o+r)},r);return i=o+r,a}),n.cancelAnimationFrame||(n.cancelAnimationFrame=function(t){n.clearTimeout(t)})},104:function(t,e,n){function i(t){if(!(this instanceof i))return new i(t);if(t.el=$(t.el),t.el){var e=t.el.attr("data-config");e&&(e=JSON.parse(e.replace(/'/g,'"')),t=$.mix(e,t)),this.config=$.mix({el:"",stopPoint:"",leftTime:0,template:"",varRegular:/\$\{([\-\w]+)\}/g,clock:["d",100,2,"h",24,2,"m",60,2,"s",60,2,"u",10,1],effect:"normal"},t),this._init()}}n(105),$.mix||($.mix=$.extend);var o=n(106),r=n(107);$.mix(i.prototype,{_init:function a(){var t=this,e=t.get("el"),n,i=[];t.hands=i,t.frequency=1e3,t._notify=[],n=t.config.template&&""!=t.config.template?t.config.template:$(e).html();var r=t.get("varRegular");r.lastIndex=0,$(e).html(n.replace(r,function(e,n){"u"!==n&&"s-ext"!==n||(t.frequency=100);var o="";return"s-ext"===n?(i.push({type:"s"}),i.push({type:"u"}),o=t._html("","s","handlet")+t._html(".","","digital")+t._html("","u","handlet")):i.push({type:n}),t._html(o,n,"hand")}));var a=t.get("clock");Array.prototype.forEach.call(i,function(t){var n=t.type,i=100,o;for(t.node=$(".hand-"+n,e),o=a.length-3;o>-1&&n!==a[o];o-=3)i*=a[o+1];t.base=i,t.radix=a[o+1],t.bits=a[o+2]}),t._getLeft(),t._reflow();var s=t._reflow;t._reflow=function(){return s.apply(t,arguments)},o.add(t._reflow,t.frequency),e.show()},_getLeft:function s(){var t=1e3*this.get("leftTime"),e=this.get("stopPoint");!t&&e&&(t=e-(new Date).getTime()),this.left=t-t%this.frequency},_reflow:function c(t){t=t||0;var e=this;return e.left=e.left-e.frequency*t,Array.prototype.forEach.call(e.hands,function(t){t.lastValue=t.value,t.value=Math.floor(e.left/t.base)%t.radix}),e._repaint(),e._notify[e.left]&&Array.prototype.forEach.call(e._notify[e.left],function(t){t.call(e)}),e.left<1&&o.remove(e._reflow),e},_repaint:function l(){r[this.get("effect")].paint.apply(this)},_toDigitals:function u(t,e){t=t<0?0:t;for(var n=[];e--;)n[e]=t%10,t=Math.floor(t/10);return n},_html:function d(t,e,n){switch($.isArray(t)&&(t=t.join("")),n){case"hand":e=n+" hand-"+e;break;case"handlet":e=n+" hand-"+e;break;case"digital":e="."===t?n+" "+n+"-point "+e:n+" "+n+"-"+t+" "+e}return'<b class="'+e+'">'+t+"</b>"},notify:function p(t,e){t*=1e3,t-=t%this.frequency;var n=this._notify[t]||[];return n.push(e),this._notify[t]=n,this}}),$.mix(i.prototype,{get:function f(t){return this.config[t]},set:function h(t,e){this.config[t]=e}}),t.exports=i},105:function(t,e){},106:function(t,e){function n(){for(;o.length;)o.shift()();var t=+new Date-n.nextTime,e=1+Math.floor(t/100);t=100-t%100,n.nextTime+=100*e;var r,a,s,c;for(s=0,c=i.length;s<c;s+=2)r=i[s+1],0===r?i[s](e):(r+=2*e-1,a=Math.floor(r/20),a>0&&i[s](a),i[s+1]=r%20+1);setTimeout(n,t)}var i=[],o=[];n.nextTime=+new Date,n(),t.exports={add:function r(t,e){o.push(function(){i.push(t),i.push(1e3===e?1:0)})},remove:function a(t){o.push(function(){i.indexOf(t)!==-1&&i.splice(i.indexOf(t),2)})}}},107:function(t,e){var n="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",i={normal:{paint:function o(){var t=this,e;Array.prototype.forEach.call(t.hands,function(n){n.lastValue!==n.value&&(e="",Array.prototype.forEach.call(t._toDigitals(n.value,n.bits),function(n){e+=t._html(n,"","digital")}),n.node.html(e))})}},slide:{paint:function r(){var t=this,e,n,o,r;Array.prototype.forEach.call(t.hands,function(i){if(i.lastValue!==i.value){for(e="",n=i.bits,o=t._toDigitals(i.value,n),r=i.lastValue===undefined?o:t._toDigitals(i.lastValue,n);n--;)e=r[n]!==o[n]?t._html([t._html(o[n],"","digital"),t._html(r[n],"","digital")],"slide-wrap")+e:t._html(o[n],"","digital")+e;i.node.html(e)}}),i.slide.afterPaint.apply(t)},afterPaint:function a(){Array.prototype.forEach.call(this.hands,function(t){if(t.lastValue!==t.value&&t.lastValue!==undefined){var e=t.node,n=$(".digital",e).height();e.css("height",n);var i=$(".slide-wrap",e);i.css("top",-n),setTimeout(function(){i.addClass("km-countdown-anim")},0)}})}},flip:{paint:function s(){var t=this,e,n,o;Array.prototype.forEach.call(t.hands,function(i){i.lastValue!==i.value&&(e="",n="",o="",Array.prototype.forEach.call(t._toDigitals(i.value,i.bits),function(e){n+=t._html(e,"","digital")}),i.lastValue===undefined?i.node.html(n):(n=t._html(n,"handlet"),Array.prototype.forEach.call(t._toDigitals(i.lastValue,i.bits),function(e){o+=t._html(e,"","digital")}),e=t._html(o,"handlet mask"),o=t._html(o,"handlet"),i.node.html(n+o+e)))}),i.flip.afterPaint.apply(t)},afterPaint:function c(){var t=this;Array.prototype.forEach.call(this.hands,function(e){if(e.lastValue!==e.value&&e.lastValue!==undefined){var i=e.node,o=$(".handlet",i),r=$(o[0]),a=$(o[1]),s=$(o[2]),c=i.width(),l=i.height(),u=Math.floor(l/2);a.css({clip:"rect("+u+"px, "+c+"px, "+l+"px, 0)"}),s.css({overflow:"hidden",height:u+"px"}),s.off(n,t.callback),t.callback=function(){s.html(r.html()),s.removeClass("km-countdown-anim-part1").css({top:0,height:u+"px",clip:"rect("+u+"px, "+c+"px, "+l+"px, 0)"}),setTimeout(function(){s.css({height:l+"px"}).addClass("km-countdown-anim-part2")},0)},setTimeout(function(){s.css({top:u+"px",height:0}).addClass("km-countdown-anim-part1").on(n,t.callback)},0)}})}}};t.exports=i},138:function(t,e,n){function i(t,e){for(var n in e)e[n]!=undefined&&(t[n]=e[n]);return t}function o(t,e){return'<div class="km-dialog-'+t+'">'+(e||"")+"</div>"}function r(t){var e={};i(e,a),i(e,t),this.options=e,this._correctConfig(),this._init()}n(139),n(10),$.fn.delegate||($.fn.delegate=$.fn.on);var a={autoShow:!1,type:"alert",closeBtn:!0,width:256,height:"auto",title:null,content:null,isCallNative:!0,eventType:"tap",position:null,buttons:null,mask:!0,elStyle:null,elCls:null,afterShow:null,afterHide:null};i(r.prototype,{_Events:[],_correctConfig:function s(){this.options.width=this.options.width*document.documentElement.clientWidth/320,this.options.buttons&&this.options.buttons.length||("alert"===this.options.type&&(this.options.buttons=[{name:"\u786e\u5b9a"}]),"confirm"===this.options.type&&(this.options.buttons=[{name:"\u53d6\u6d88"},{name:"\u786e\u5b9a"}]))},_init:function c(){var t=this,e=t.options;if(t.options.trigger&&(t._triggerHandler=$(t.options.trigger).on(e.eventType,function(e){e.preventDefault(),t.triggerElement=e.target,t.show()})),!this.isCallNative()){var n=e.elCls?" "+e.elCls:"",r='<div class="km-dialog km-dialog-ios7 km-dialog-'+e.type+n+'" style="visibility:hidden;">';e.title&&(r+=o("title",e.title)),
r+=o("content",e.content||""),e.buttons&&e.buttons.length&&(r+='<div class="km-dialog-buttons">',e.buttons.forEach(function(n,i){r+='<span class="km-dialog-button" data-idx='+e.type+i+">"+n.name+"</span>",t._Events[e.type+i]=n.event}),r+="</div>"),r+="</div>",t.container=$(r).appendTo("body").css(i({width:e.width,height:e.height},e.elStyle||{})).delegate(e.eventType,".km-dialog-button",function(e){var n=e.currentTarget||e.target,i=n.getAttribute("data-idx");t._Events[i]&&t._Events[i].call(t,e),t.hide(),e.preventDefault()})[0],t._resizeHandle=$(window).on("resize",function(){t.refresh()}),t.refresh()}this.options.autoShow&&this.show()},_showByNative:function l(){var t=this;switch(t.options.type||"alert"){case"confirm":var e={message:t.options.content,okbutton:t.options.buttons[1].name,canclebutton:t.options.buttons[0].name,_index:10086};window.WindVane.call("WVUIDialog","confirm",e,function(){},function(){t._showByJs()}),t._hasBind||(t.bindWVDialogHandler=$.bind(t.WVDialogHandler,t),document.addEventListener("wv.dialog",t.bindWVDialogHandler,!1),t._hasBind=!0);break;default:var e={message:t.options.content,okbutton:t.options.buttons[0].name};window.WindVane.call("WVUIDialog","alert",e,function(){},function(){t._showByJs()}),t._hasBind||(t.bindWVEventAlertHandler=$.bind(t.WVEventAlertHandler,t),document.addEventListener("WV.Event.Alert",t.bindWVEventAlertHandler,!1),t._hasBind=!0)}},WVDialogHandler:function u(t){var e=this;window.setTimeout(function(){t.param.type==e.options.buttons[1].name?e.options.buttons[1].event&&$.bind(e.options.buttons[1].event,e)():e.options.buttons[0].event&&$.bind(e.options.buttons[0].event,e)()},1)},WVEventAlertHandler:function d(){var t=this;window.setTimeout(function(){t.options.buttons[0].event&&$.bind(t.options.buttons[0].event,t)()},1)},showMask:function p(){var t=$(".km-dialog-mask");t.length?t.show():$('<div class="km-dialog-mask"></div>').appendTo("body")},hideMask:function f(){$(".km-dialog-mask").remove()},isCallNative:function h(){return this.options.isCallNative&&navigator.userAgent.match(/WindVane/)&&"dialog"!==this.options.type},show:function m(){this.isCallNative()?this._showByNative():this._showByJs()},_showByJs:function g(){this.options.mask&&this.showMask.call(this),$(this.container).css("visibility","visible"),this.options.afterShow&&this.options.afterShow()},hide:function _(){this.options.mask&&this.hideMask(),$(".km-dialog").css("visibility","hidden"),this.options.afterHide&&this.options.afterHide()},destroy:function v(){if($(this.container).off(this.options.eventType),$(this.container).remove(),$(window).off({resize:this._resizeHandle}),document.removeEventListener("wv.dialog",this.bindWVDialogHandler,!1),document.removeEventListener("WV.Event.Alert",this.bindWVEventAlertHandler,!1),this.options.trigger){var t={};t.eventType=this._triggerHandler,$(this.options.trigger).off(t)}},title:function w(t){var e=this.container,w=$(".km-dialog-title",e);if(w.length>0)w.html(t);else var w=$(o("title",t)).prependTo(e);this.refresh()},content:function y(t){this.options.content=t,this.isCallNative()||($(".km-dialog-content",this.container).html(t),this.refresh())},refresh:function b(){if(this.options.position)$(this.container).css(this.options.position);else{var t=$(this.container).height();"auto"!==this.options.height&&(t=parseInt(this.options.height)),$(this.container).css({"margin-left":"-"+this.options.width/2+"px","margin-top":"-"+t/2+"px"})}},getContainer:function A(){return this.container}}),$.fn.dialog=function(t){return t.trigger=this,new r(t)},t.exports=r},139:function(t,e){},147:function(t,e){},148:function(t,e,n){var i=n(3),o={data:null,sellerId:i.getUrlParam("seller_id"),init:function r(){i.checkAndGoLogin(),this._buildSignDate()},_buildSignDate:function a(){var t=this;this._parseDate();var e={seller_id:t.sellerId,from:t.dateData[0].date+" 00:00:00",to:t.dateData[6].date+" 24:00:00"},n=i.getUrlParam("rid"),o=i.getUrlParam("pcode");n&&i.mix(e,{rid:n,pcode:o}),i.request({api:"mtop.matrixexchange.wireless.shop.signin.receive",v:"1.0",ecode:"1",data:e}).then(function(e){t.data=e.data,t._handler()})["catch"](function(t){})},_parseDate:function s(){function t(t){switch(t){case 1:return"\u4e00";case 2:return"\u4e8c";case 3:return"\u4e09";case 4:return"\u56db";case 5:return"\u4e94";case 6:return"\u516d";case 0:return"\u4e03"}}for(var e=new Date,n=[],i,o=0;o<7;o++){i=new Date,i.setDate(e.getDate()-(3-o));var r={},a=i.getDay(),s=i.getDate(),c=i.getFullYear(),l=i.getMonth()+1;r.week=t(a),r.day=s,0!=o&&1!=s||(r.yearAndMonth=c+"."+l),r.date=c+"-"+(l<10?"0"+l:l)+"-"+(s<10?"0"+s:s),3==o&&(r.isCurrent=!0),r.isSign=!1,n.push(r)}this.dateData=n},_handler:function c(){var t=this.data,e=t.signinResult.p4pSuccCoins;if(~t.activityStatus||($(".J_date").html('<p class="no-support">\u4eb2\uff0c\u8be5\u5546\u5bb6\u8fd8\u672a\u5f00\u901a\u7b7e\u5230\u9001\u91d1\u5e01\u54e6\uff0c\u8d76\u7d27\u901a\u77e5\u5546\u5bb6\u5f00\u901a\u5427</p>'),"0"!=e&&this._buildP4PAnim()),t.signinResult&&!~t.signinResult.signStatus)return $(".J_date").html('<p class="no-support">'+t.signinResult.msg+"</p>"),void("0"!=e&&this._buildP4PAnim());t.signinDetail&&this._buildDateHead(),!t.signinResult||"1"!=t.signinResult.signStatus&&1!=t.signinResult.signStatus?location.href.indexOf("test-anim")!==-1&&(this.stopScroll(),this._buildAnimDom(),this.run()):(window.scrollTo(0,0),this.stopScroll(),this._buildAnimDom(),this.run()),t.itemElementList&&$.isArray(t.itemElementList)&&t.itemElementList.length>0&&this._buildShopItems(),console.log(t.shopInfo),t.shopInfo&&t.shopInfo.address&&$(".J_GoShop").attr("href","//"+t.shopInfo.address),$(".J_Lazyload").lazyload()},_buildP4PAnim:function l(){window.scrollTo(0,0),this.stopScroll(),this._buildAnimDom(),this.run()},_buildDateHead:function u(){var t=this.data,e=n(149);$.each(this.dateData,function(e,n){$.inArray(e.date,t.signinDetail.detail)&&(e.isSign=!0)}),this.data.shopInfo&&(this.data.shopInfo.title=this.data.shopInfo.title),this.data.dateData=this.dateData,this.data.signStatusInfo="",+t.signinDetail.signContinueDays>0&&(this.data.signStatusInfo+="\u5df2\u8fde\u7eed\u7b7e\u5230"+t.signinDetail.signContinueDays+"\u5929"),+t.activityInfo.signExtAmount>0&&(this.data.signStatusInfo?this.data.signStatusInfo+="\uff0c\u6bcf\u8fde\u7eed\u7b7e\u52305\u5929\u53ef\u989d\u5916\u83b7\u5f97"+t.activityInfo.signExtAmount+"\u4e2a\u6dd8\u91d1\u5e01":this.data.signStatusInfo="\u6bcf\u8fde\u7eed\u7b7e\u52305\u5929\u53ef\u989d\u5916\u83b7\u5f97"+t.activityInfo.signExtAmount+"\u4e2a\u6dd8\u91d1\u5e01"),$(".J_date").html(e({data:this.data})),$(".J_Lazyload").lazyload()},_buildAnimDom:function d(){},stopScroll:function p(){this.preventDefaultBind||(this.preventDefaultBind=i.bind(this._preventDefault,this)),$("body").on("touchstart mousewheel",this.preventDefaultBind)},startScroll:function f(){this.preventDefaultBind||(this.preventDefaultBind=i.bind(this._preventDefault,this)),$("body").off("touchstart mousewheel",this.preventDefaultBind)},run:function h(){var t=this,e="https://gw.alicdn.com/tps/TB1Cq9FJVXXXXahXFXXXXXXXXXX-640-409.gif",i=new Image,o=parseInt(this.data.signinResult.succCoins)+parseInt(this.data.signinResult.p4pSuccCoins),r=+this.data.signinDetail.signContinueDays;r>0&&r%5==0&&(o+=parseInt(this.data.activityInfo.signExtAmount)),i.onload=function(){var i=n(150)({gifUrl:e,addCoinNum:o}),r=$(i),a=r.find(".plus");$(document.body).append(r),setTimeout(function(){a.addClass("inter"),setTimeout(function(){a.addClass("end")},600)},200),setTimeout(function(){r.remove(),t.startScroll()},2e3)},i.src=e},_buildShopItems:function m(){var t=this.data.itemElementList.slice(0,3);if(3===t.length){var e=n(151);$(".J_ShopActivity").html(e({data:t,title:this.data.weitaoContent}))}},_preventDefault:function g(t){return t.preventDefault(),!1}};t.exports=o},149:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=function(t){t=String(t);var e=/[&<>'"]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t=t.replace(/[&<>'"]/g,function(t){return n[t]})},__j=Array.prototype.join;with(obj)__p+='<div class="date-container">\n  ',data.shopInfo&&(__p+='\n  <div class="logo-wrap">\n        <img class="logo J_Lazyload" src="'+(null==(__t=TJB.placeholder)?"":__t)+'" data-src="'+(null==(__t=data.shopInfo.picUrl)?"":__t)+"_40x40.jpg 1x, "+(null==(__t=data.shopInfo.picUrl)?"":__t)+"_80x80.jpg 2x, "+(null==(__t=data.shopInfo.picUrl)?"":__t)+'_90x90.jpg 3x" alt="'+__e(data.shopInfo.nick)+'">\n  </div>\n  <p class="shop-name">'+__e(data.shopInfo.title)+"</p>\n  "),__p+='\n  <ul class="date">\n  ',$.each(data.dateData,function(t,e){__p+='\n    <li class="date-item',t.isCurrent&&(__p+=" current"),__p+='">\n          <p class="day">'+(null==(__t=t.day)?"":__t)+"</p>\n          ",t.isSign&&(__p+='\n              <i class="sign">\u7b7e</i>\n          '),__p+="\n      </li>\n  "}),__p+="\n  </ul>\n</div>\n",data.signStatusInfo&&(__p+='\n  <p class="receive-info J_ReceiveInfo">'+(null==(__t=data.signStatusInfo)?"":__t)+"</p>\n"),__p+="\n";return __p}},150:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="anim2">\n    <img src="'+(null==(__t=gifUrl)?"":__t)+'" alt=""/>\n    <div class="plus">+'+(null==(__t=addCoinNum)?"":__t)+"</div>\n</div>";return __p}},151:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="shop-activity">\n    <div class="header">\n        <span class="main-header">\u5e97\u94fa\u6d3b\u52a8</span>\n        <span class="sub-header">'+(null==(__t=title)?"":__t)+'</span>\n    </div>\n    <ul class="item-wrap">\n    ',$.each(data,function(t,e){__p+='\n        <li class="item">\n            <a href="//h5.m.taobao.com/awp/core/detail.htm?id='+(null==(__t=t.itemId)?"":__t)+"&scm=1247."+(null==(__t=t.itemId)?"":__t)+'.1.1" data-openwindow="true">\n            <img class="pic J_Lazyload" src="'+(null==(__t=TJB.placeholder)?"":__t)+'" data-src="'+(null==(__t=t.path)?"":__t)+"_100x100.jpg 1x, "+(null==(__t=t.path)?"":__t)+"_210x210.jpg 2x, "+(null==(__t=t.path)?"":__t)+'_240x240.jpg 3x" alt="'+(null==(__t=t.title)?"":__t)+'">\n            <!-- <p class="price"><i class="price-symbol">&yen;</i>'+(null==(__t=t.price/100)?"":__t)+"</p> -->\n            </a>\n        </li>\n    "}),__p+="\n    </ul>\n</div>";return __p}},152:function(t,e,n){var i=n(3),o=n(104),r=n(138),a={sellerId:i.getUrlParam("seller_id"),init:function s(){var t=this;this.request(),$(document).delegate("click","i.J_GetShopCoin",function(e){var n=$(e.currentTarget),i=n.attr("data-idx"),o=t.data.list[i];t.getShopCoin(o,function(t){n.html("\u5df2\u9886\u53d6"),n.removeClass("J_GetShopCoin").addClass("btn-end")})})},request:function c(){var t=this;i.request({api:"mtop.matrixexchange.usertask.getlist",v:"1.0",ecode:"1",data:{sellerId:t.sellerId}}).then(function(e){t.data=e.data,t._build()})["catch"](function(t){})},showDialog:function l(t){new r({autoShow:!1,title:"\u63d0\u793a",content:this.message||"",type:"alert",isCallNative:!0,buttons:[{name:"\u786e\u5b9a",event:function e(){location.reload()}}],mask:!0}).show()},getShopCoin:function u(t,e){var n=this;i.request({api:"mtop.matrixexchange.usertask.take",v:"1.0",ecode:"1",data:{buyerId:t.buyerId,sellerId:t.sellerId,outId:t.outId}}).then(function(t){var i=t.data;"true"==i.status?e&&e():(n.message=i.message,n.showDialog())})["catch"](function(t){})},_build:function d(){var t=n(153);this.data.list&&this.data.list.length>0&&($(".J_Comment").html(t({data:this.data})),$(".comment-item").each(function(t,e){var n=$(t).find(".cd");n.html('<span class="iconfont">&#xe615;</span><span class="clock">${h}:${m}:${s}</span>');var i=o({el:n})}),$(".J_Lazyload").lazyload())}};t.exports=a},153:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=function(t){t=String(t);var e=/[&<>'"]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t=t.replace(/[&<>'"]/g,function(t){return n[t]})},__j=Array.prototype.join;with(obj)data.list.length>0&&(__p+='\n<div class="comment-container">\n    <p class="header"><span>\u8bc4\u4ef7\u9001\u91d1\u5e01</span></p>\n    <ul class="comment-list">\n        ',$.each(data.list,function(t,e){__p+='\n        <li class="comment-item">\n            <a href="javascript:void(0)">\n                <img class="J_Lazyload" src="./img/tps_i3_TB1cI9ZGVXXXXbXXFXXaCx9JFXX-1-1.png" data-src="'+(null==(__t=t.picUrl)?"":__t)+"_48x48Q50.jpg 320w,"+(null==(__t=t.picUrl)?"":__t)+"_90x90Q50.jpg 2x,"+(null==(__t=t.picUrl)?"":__t)+"_90x90Q50.jpg 640w,"+(null==(__t=t.picUrl)?"":__t)+"_130x130Q50.jpg 480w 2x,"+(null==(__t=t.picUrl)?"":__t)+'_130x130Q50.jpg 3x" data-network="Q50,Q30s150" alt="'+(null==(__t=t.title)?"":__t)+'" />\n                <p class="title">'+__e(t.shopName)+'</p>\n                <p class="describe">\u8d60\u9001\u60a8'+(null==(__t=t.amount)?"":__t)+'\u6dd8\u91d1\u5e01</p>\n                <p class="cd cd-lite" data-config="{\'leftTime\':'+(null==(__t=t.remainTime/1e3)?"":__t)+'}"></p>\n                <i class="J_GetShopCoin" data-idx="'+(null==(__t=e)?"":__t)+'">\u9886\u53d6</i>\n            </a>\n        </li>\n        '}),__p+="\n    </ul>\n</div>\n"),__p+="\n";return __p}},154:function(t,e,n){var i=n(3),o={sellerId:i.getUrlParam("seller_id"),init:function r(){this.request()},request:function a(){var t=this;i.request({api:"mtop.taobao.geb.enhenced.itemList.get",v:"2.0",data:{ownerId:t.sellerId,pageSize:20,sort:"hotsell"}}).then(function(e){t.data=e.data,t._build()})["catch"](function(t){})},_escape:function s(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},_build:function c(){var t=this,e=n(155);$.each(this.data.list,function(e,n){e.title=t._escape(e.title)}),$(".J_Commodity").html(e({data:this.data})),$(".J_Lazyload").lazyload()}};t.exports=o},155:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=function(t){t=String(t);var e=/[&<>'"]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t=t.replace(/[&<>'"]/g,function(t){return n[t]})},__j=Array.prototype.join;with(obj)data.list.length>0&&(__p+='\n<p class="title"><span>\u5546\u54c1\u7cbe\u9009</span></p>\n<ul class="commodity-list" data-spm="1998319327">\n    ',$.each(data.list,function(t,e){__p+='\n    <li class="item">\n        <a href="//h5.m.taobao.com/awp/core/detail.htm?id='+(null==(__t=t.nid)?"":__t)+"&scm=1247."+(null==(__t=t.nid)?"":__t)+'.1.1" data-openwindow="true">\n            <img class="J_Lazyload" src="'+(null==(__t=TJB.placeholder)?"":__t)+'" data-src="'+(null==(__t=t.imgUrl)?"":__t)+"_145x145Q50s150.jpg 320w,"+(null==(__t=t.imgUrl)?"":__t)+"_290x290Q50s150.jpg 2x,"+(null==(__t=t.imgUrl)?"":__t)+"_290x290Q50s150.jpg 640w,"+(null==(__t=t.imgUrl)?"":__t)+"_430x430Q50s150.jpg 480w 2x,"+(null==(__t=t.imgUrl)?"":__t)+'_430x430Q50s150.jpg 3x" alt="'+(null==(__t=t.title)?"":__t)+'" data-network="Q50s150,Q30s150">\n            <p class="des">'+__e(t.title)+'</p>\n            <div class="bottom">\n                <span class="price"><i>&yen;</i>'+(null==(__t=t.price)?"":__t)+'</span>\n                <span class="sell">'+(null==(__t=t.sold30daysQuantity)?"":__t)+"\u4eba\u5df2\u4e70</span>\n            </div>\n        </a>\n    </li>\n    "}),__p+="\n</ul>\n"),__p+="\n";return __p}}});