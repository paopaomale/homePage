!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};e.m=t,e.c=n,e.p="/build/",e(0)}([function(t,e,n){n(99),n(2),new(n(100)),new(n(119)),new(n(35))(".km-tab-contents","index"),new(n(122))({position:{bottom:1.6*(window.rem||document.documentElement.style.fontSize.match(/\d+/g)[0]),right:12}})},,function(t,e,n){var i=n(3);n(14).setupConfig({delay:10,offsetPageY:800,maxNum:120,autoRemove:!1});var o=window.TJB={URL:{index:i.parseUrl("index3",!0),exchangeRecords:i.parseUrl("exchange-records"),coinDetails:i.parseUrl("coin-details"),exchangeDetail:i.parseUrl("exchange-detail"),myCoin:i.parseUrl("my-coin"),task:i.parseUrl("task"),coinExchange:i.parseUrl("coin-exchange"),category:i.parseUrl("category"),coinRules:"//market.m.taobao.com/markets/taojinbi/jinbibaoxiangzhinan_copy",taoxpInfo:i.parseUrl("taoxp/info"),taoxpDetail:i.parseUrl("taoxp/detail"),taoxpCreate:i.parseUrl("taoxp/create"),taoxpIndex:i.parseUrl("taoxp/index"),wishIndex:i.parseUrl("wish/index"),wishChest:i.parseUrl("wish/chest"),wishDetail:i.parseUrl("wish/detail"),wishHelp:i.parseUrl("wish/help"),wishHit:i.parseUrl("wish/hit"),wishSubmit:i.parseUrl("wish/submit"),wishMy:i.parseUrl("wish/my")},isPre:function a(){return location.origin.indexOf("wapa.taobao.com")>0},placeholder:"data:image/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII="};t.exports=o},function(t,e,n){var i=n(4);n(5),n(12);var o=n(13),a=navigator.userAgent,r=window.lib||{};t.exports=i.merge(i,{now:Date.now||function(){return(new Date).getTime()},isWindVaneSDK:function s(){return!!~a.indexOf("WindVane")},isEmptyArray:function c(t){return!t||!i.isArray(t)||0===t.length},mixBundle:function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];i.each(n,function(e,n){i.mix(t,e,{overwrite:!0,deep:!0})})},getUrlParams:function u(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],e=location.search,n={};if(e.indexOf("?")==-1)return n;var i=e.substr(1),o=i.split("&"),a=void 0;return o.forEach(function(e,i){a=e.split("="),t.indexOf(a[0])!==-1&&a[1]!==undefined&&(n[a[0]]=unescape(a[1]))}),n},getUrlParam:function d(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.location.href,n=encodeURIComponent(t)+"=",i=e.indexOf(n),o=null;if(i>-1){var a=e.indexOf("&",i);a==-1&&(a=e.length),o=decodeURIComponent(e.substring(i+n.length,a))}return o},request:function h(t){var e=this;return new o(function(n,i){r.mtop.request({api:t.api,v:t.v||"1.0",data:t.data,ecode:t.ecode||"0",isSec:t.isSec||0},function(t){n(t)},function(t,n){var o=t&&t.ret;o.join&&(o=o.join(",")),e.checkLoginResult(o,n)?e.goLogin():i(t)})})},checkLoginResult:function p(t,e){return t.indexOf("SESSION_EXPIRED")>-1||t.indexOf("FAIL_SYS_SESSION_EXPIRED")>-1||t.indexOf("SID_INVALID")>-1||t.indexOf("AUTH_REJECT")>-1||t.indexOf("NEED_LOGIN")>-1||1==e||2==e||"1"==e||"2"==e},isLogin:function f(){return r.login.isLogin()},goLogin:function m(){r.login.goLogin()},checkAndGoLogin:function g(){this.isLogin()||this.goLogin()},isTrue:function v(t){return t===!0||"true"===t},sendStatistic:function _(t,e,n,o){t&&o&&window.goldlog&&(i.isObject(n)&&(n=i.param(n)),goldlog.record(t,e,n,o))},sendCode:function w(t,e){t&&((new Image).src="//gm.mmstat.com/"+t+"?"+(e?i.param(e)+"&":"")+"cache="+this.now())},getGuid:function y(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},fromUnicode:function b(t){return unescape(t.replace(/\\u/g,"%u"))},parseUrl:function x(t,e){var n=location.origin,i=e?".html":"/index.html";return~location.href.indexOf("src/p")?n+="/src/p/":~location.href.indexOf("app/tjb/www")?n+="/app/tjb/www/":~location.href.indexOf("app/wish/www")?n+="/app/wish/www/":(n+="/vip/",i=".html"),n+t+i},ellipsis:function T(t,e){return t.length<=e?t:t.slice(0,e)+"..."},initDateFormat:function A(){Date.prototype.format=Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}},setTitle:function E(t){var e=this;t&&(document.title=t,window.WindVane&&WindVane.isAvailable===!0&&window.WindVane.call("WebAppInterface","setCustomPageTitle",t,function(){},function(){}))},openWindow:function C(t){if(window.WindVane&&WindVane.isAvailable===!0){var e={url:t,popBeforeOpen:!1};window.WindVane.call("Base","openWindow",e,function(t){},function(e){location.href=t})}else location.href=t},parseDate:function S(t){var e=t.match(/^(\d+)-(\d+)-(\d+) (\d+)\:(\d+)\:(\d+)$/);return new Date(e[1],e[2]-1,e[3],e[4],e[5],e[6])},htmlEncodeAll:function k(t){return null==t?"":t.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},addUrlParam:function I(t,e){return t+(t.indexOf("?")==-1?"?":"&")+e},arrToObj:function R(t,e){if(!i.isArray(t)||"string"!=typeof e)return t;var n={};return t.forEach(function(t){t[e]&&(n[t[e]]=t)}),n},renderMtopUrl:function L(t){return~location.host.indexOf("waptest.taobao.com")?"//h5.waptest.taobao.com/"+t:~location.host.indexOf("wapa.taobao.com")?"//wapp.wapa.taobao.com/"+t:~location.host.indexOf("m.taobao.com")?"//h5.m.taobao.com/"+t:void 0}})},function(t,e){t.exports=$.__util__},function(t,e,n){n(6),n(7),n(11),t.exports=window.lib.mtop},function(t,e,n){n(7),n(10),t.exports=window.lib.windvane},function(t,e,n){var i,i;(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function n(t,e,o){function a(s,c){if(!e[s]){if(!t[s]){var l="function"==typeof i&&i;if(!c&&l)return i(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=e[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return a(n?n:e)},d,d.exports,n,t,e,o)}return e[s].exports}for(var r="function"==typeof i&&i,s=0;s<o.length;s++)a(o[s]);return a}({1:[function(t,e){function n(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){n.shift()()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=n,i.addListener=n,i.once=n,i.off=n,i.removeListener=n,i.removeAllListeners=n,i.emit=n,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(t,n){function i(t){function n(t){return null===l?void d.push(t):void r(function(){var e=l?t.onFulfilled:t.onRejected;if(null===e)return void(l?t.resolve:t.reject)(u);var n;try{n=e(u)}catch(o){return void t.reject(o)}t.resolve(n)})}function i(t){try{if(t===h)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==(void 0===t?"undefined":e(t))||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void a(n.bind(t),i,s)}l=!0,u=t,c()}catch(o){s(o)}}function s(t){l=!1,u=t,c()}function c(){for(var t=0,e=d.length;e>t;t++)n(d[t]);d=null}if("object"!=e(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");var l=null,u=null,d=[],h=this;this.then=function(t,e){return new h.constructor(function(i,a){n(new o(t,e,i,a))})},a(t,i,s)}function o(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function a(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(a){if(i)return;i=!0,n(a)}}var r=t("asap");n.exports=i},{asap:4}],3:[function(t,n){function i(t){this.then=function(e){return"function"!=typeof e?this:new o(function(n,i){a(function(){try{n(e(t))}catch(a){i(a)}})})}}var o=t("./core.js"),a=t("asap");n.exports=o,i.prototype=o.prototype;var r=new i(!0),s=new i(!1),c=new i(null),l=new i(void 0),u=new i(0),d=new i("");o.resolve=function(t){if(t instanceof o)return t;if(null===t)return c;if(void 0===t)return l;if(t===!0)return r;if(t===!1)return s;if(0===t)return u;if(""===t)return d;if("object"==(void 0===t?"undefined":e(t))||"function"==typeof t)try{var n=t.then;if("function"==typeof n)return new o(n.bind(t))}catch(a){return new o(function(t,e){e(a)})}return new i(t)},o.all=function(t){var n=Array.prototype.slice.call(t);return new o(function(t,i){function o(r,s){try{if(s&&("object"==(void 0===s?"undefined":e(s))||"function"==typeof s)){var c=s.then;if("function"==typeof c)return void c.call(s,function(t){o(r,t)},i)}n[r]=s,0==--a&&t(n)}catch(l){i(l)}}if(0===n.length)return t([]);for(var a=n.length,r=0;r<n.length;r++)o(r,n[r])})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){t.forEach(function(t){o.resolve(t).then(e,n)})})},o.prototype["catch"]=function(t){return this.then(null,t)}},{"./core.js":2,asap:4}],4:[function(e,n){(function(e){function i(){for(;a.next;){a=a.next;var t=a.task;a.task=void 0;var e=a.domain;e&&(a.domain=void 0,e.enter());try{t()}catch(o){if(l)throw e&&e.exit(),setTimeout(i,0),e&&e.enter(),o;setTimeout(function(){throw o},0)}e&&e.exit()}s=!1}function o(t){r=r.next={task:t,domain:l&&e.domain,next:null},s||(s=!0,c())}var a={task:void 0,next:null},r=a,s=!1,c=void 0,l=!1;if(void 0!==e&&e.nextTick)l=!0,c=function d(){e.nextTick(i)};else if("function"==typeof t)c="undefined"!=typeof window?t.bind(window,i):function(){t(i)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=i,c=function h(){u.port2.postMessage(0)}}else c=function p(){setTimeout(i,0)};n.exports=o}).call(this,e("_process"))},{_process:1}],5:[function(){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(){(arguments.length?this.then.apply(this,arguments):this).then(null,function(t){setTimeout(function(){throw t},0)})})},{}],6:[function(t){t("asap"),"undefined"==typeof Promise&&(Promise=t("./lib/core.js"),t("./lib/es6-extensions.js")),t("./polyfill-done.js")},{"./lib/core.js":2,"./lib/es6-extensions.js":3,"./polyfill-done.js":5,asap:4}]},{},[6])}).call(e,n(8).setImmediate)},function(t,e,n){(function(t,i){function o(t,e){this._id=t,this._clearFn=e}var a=n(9).nextTick,r=Function.prototype.apply,s=Array.prototype.slice,c={},l=0;e.setTimeout=function(){return new o(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function n(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=l++,i=!(arguments.length<2)&&s.call(arguments,1);return c[n]=!0,a(function o(){c[n]&&(i?t.apply(null,i):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof i?i:function(t){delete c[t]}}).call(e,n(8).setImmediate,n(8).clearImmediate)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(d===setTimeout)return setTimeout(t,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(t,0);try{return d(t,0)}catch(e){try{return d.call(null,t,0)}catch(e){return d.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function r(){f&&m&&(f=!1,m.length?p=m.concat(p):g=-1,p.length&&s())}function s(){if(!f){var t=o(r);f=!0;for(var e=p.length;e;){for(m=p,p=[];++g<e;)m&&m[g].run();g=-1,e=p.length}m=null,f=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u=t.exports={},d,h;!function(){try{d="function"==typeof setTimeout?setTimeout:n}catch(t){d=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var p=[],f=!1,m,g=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new c(t,e)),1!==p.length||f||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=l,u.addListener=l,u.once=l,u.off=l,u.removeListener=l,u.removeAllListeners=l,u.emit=l,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(t,e){function i(t,e){t=t.toString().split("."),e=e.toString().split(".");for(var n=0;n<t.length||n<e.length;n++){var i=parseInt(t[n],10),o=parseInt(e[n],10);if(window.isNaN(i)&&(i=0),window.isNaN(o)&&(o=0),i<o)return-1;if(i>o)return 1}return 0}var o=t.Promise,a=t.document,r=t.navigator.userAgent,s=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(r)||/Windows\sNT\s[\d\.]+/i.test(r),c=s&&t.WindVane_Win_Private&&t.WindVane_Win_Private.call,l=/iPhone|iPad|iPod/i.test(r),u=/Android/i.test(r),d=r.match(/WindVane[\/\s](\d+[._]\d+[._]\d+)/),h=Object.prototype.hasOwnProperty,p=e.windvane=t.WindVane||(t.WindVane={}),f=(t.WindVane_Native,Math.floor(65536*Math.random())),m=1,g=[],v=3,_="hybrid",w="wv_hybrid",y="iframe_",b="param_",x="chunk_",T=6e5,A=6e5,E=6e4;d=d?(d[1]||"0.0.0").replace(/\_/g,"."):"0.0.0";var C={isAvailable:1===i(d,"0"),call:function I(t,e,n,i,a,r){var s,c;"number"==typeof arguments[arguments.length-1]&&(r=arguments[arguments.length-1]),"function"!=typeof i&&(i=null),"function"!=typeof a&&(a=null),o&&(c={},c.promise=new o(function(t,e){c.resolve=t,c.reject=e})),s=S.getSid();var l={success:i,failure:a,deferred:c};if(r>0&&(l.timeout=setTimeout(function(){C.onFailure(s,{ret:"HY_TIMEOUT"})},r)),S.registerCall(s,l),S.registerGC(s,r),C.isAvailable?S.callMethod(t,e,n,s):C.onFailure(s,{ret:"HY_NOT_IN_WINDVANE"}),c)return c.promise},fireEvent:function R(t,e,n){var i=a.createEvent("HTMLEvents");i.initEvent(t,!1,!0),i.param=S.parseData(e||S.getData(n)),a.dispatchEvent(i)},getParam:function L(t){return S.getParam(t)},setData:function P(t,e){S.setData(t,e)},onSuccess:function O(t,e){S.onComplete(t,e,"success")},onFailure:function N(t,e){S.onComplete(t,e,"failure")}},S={params:{},chunks:{},calls:{},getSid:function j(){return(f+m++)%65536+""},buildParam:function $(t){return t&&"object"==(void 0===t?"undefined":n(t))?JSON.stringify(t):t||""},getParam:function D(t){return this.params[b+t]||""},setParam:function q(t,e){this.params[b+t]=e},parseData:function U(t){var e;if(t&&"string"==typeof t)try{e=JSON.parse(t)}catch(t){e={ret:["WV_ERR::PARAM_PARSE_ERROR"]}}else e=t||{};return e},setData:function M(){this.chunks[x+sid]=this.chunks[x+sid]||[],this.chunks[x+sid].push(chunk)},getData:function W(t){return this.chunks[x+t]?this.chunks[x+t].join(""):""},registerCall:function J(t,e){this.calls[t]=e},unregisterCall:function X(t){var e={};return this.calls[t]&&(e=this.calls[t],delete this.calls[t]),e},useIframe:function F(t,e){var n=y+t,i=g.pop();i||(i=a.createElement("iframe"),i.setAttribute("frameborder","0"),i.style.cssText="width:0;height:0;border:0;display:none;"),i.setAttribute("id",n),i.setAttribute("src",e),i.parentNode||setTimeout(function(){a.body.appendChild(i)},5)},retrieveIframe:function V(t){var e=y+t,n=a.querySelector("#"+e);g.length>=3?a.body.removeChild(n):g.indexOf(n)<0&&g.push(n)},callMethod:function B(e,n,i,o){if(i=S.buildParam(i),s)c?t.WindVane_Win_Private.call(e,n,o,i):this.onComplete(o,{ret:"HY_NO_HANDLER_ON_WP"},"failure");else{var a="hybrid://"+e+":"+o+"/"+n+"?"+i;if(l)this.setParam(o,i),this.useIframe(o,a);else if(u){var r="wv_hybrid:";window.prompt(a,"wv_hybrid:")}else this.onComplete(o,{ret:"HY_NOT_SUPPORT_DEVICE"},"failure")}},registerGC:function H(t,e){var n=this,i=Math.max(e||0,6e5),o=Math.max(e||0,6e4),a=Math.max(e||0,6e5);setTimeout(function(){n.unregisterCall(t)},i),l?setTimeout(function(){n.params[b+t]&&delete n.params[b+t]},o):u&&setTimeout(function(){n.chunks[x+t]&&delete n.chunks[x+t]},a)},onComplete:function z(t,e,n){var i=this.unregisterCall(t),o=i.success,a=i.failure,r=i.deferred,s=i.timeout;s&&clearTimeout(s),e=e?e:this.getData(t),e=this.parseData(e);var c=e.ret;"string"==typeof c&&(e=e.value||e,e.ret||(e.ret=[c])),"success"===n?(o&&o(e),r&&r.resolve(e)):"failure"===n&&(a&&a(e),r&&r.reject(e)),l?(this.retrieveIframe(t),this.params[b+t]&&delete this.params[b+t]):u&&this.chunks[x+t]&&delete this.chunks[x+t]}};for(var k in C)h.call(p,k)||(p[k]=C[k])}(window,window.lib||(window.lib={})),t.exports=window.lib.windvane},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),!function(t,e){function i(){var t={},e=new m(function(e,n){t.resolve=e,t.reject=n});return t.promise=e,t}function o(t,e){for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}function a(t){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(t)}function r(t){var e=[];for(var n in t)t[n]&&e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")}function s(t){return t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1)}function c(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,i,o,a,r;return o=2147483648&t,a=2147483648&e,n=1073741824&t,i=1073741824&e,r=(1073741823&t)+(1073741823&e),n&i?2147483648^r^o^a:n|i?1073741824&r?3221225472^r^o^a:1073741824^r^o^a:r^o^a}function i(t,e,n){return t&e|~t&n}function o(t,e,n){return t&n|e&~n}function a(t,e,n){return t^e^n}function r(t,e,n){return e^(t|~n)}function s(t,o,a,r,s,c,l){return t=n(t,n(n(i(o,a,r),s),l)),n(e(t,c),o)}function c(t,i,a,r,s,c,l){return t=n(t,n(n(o(i,a,r),s),l)),n(e(t,c),i)}function l(t,i,o,r,s,c,l){return t=n(t,n(n(a(i,o,r),s),l)),n(e(t,c),i)}function u(t,i,o,a,s,c,l){return t=n(t,n(n(r(i,o,a),s),l)),n(e(t,c),i)}function d(t){for(var e,n=t.length,i=n+8,o=(i-i%64)/64,a=16*(o+1),r=new Array(a-1),s=0,c=0;n>c;)e=(c-c%4)/4,s=c%4*8,r[e]=r[e]|t.charCodeAt(c)<<s,c++;return e=(c-c%4)/4,s=c%4*8,r[e]=r[e]|128<<s,r[a-2]=n<<3,r[a-1]=n>>>29,r}function h(t){var e,n,i="",o="";for(n=0;3>=n;n++)e=t>>>8*n&255,o="0"+e.toString(16),i+=o.substr(o.length-2,2);return i}function p(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e+=String.fromCharCode(i):i>127&&2048>i?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e}var f,m,g,v,_,w,y,b,x,T=[],A=7,E=12,C=17,S=22,k=5,I=9,R=14,L=20,P=4,O=11,N=16,j=23,$=6,D=10,q=15,U=21;for(t=p(t),T=d(t),w=1732584193,y=4023233417,b=2562383102,x=271733878,f=0;f<T.length;f+=16)m=w,g=y,v=b,_=x,w=s(w,y,b,x,T[f+0],7,3614090360),x=s(x,w,y,b,T[f+1],12,3905402710),b=s(b,x,w,y,T[f+2],17,606105819),y=s(y,b,x,w,T[f+3],22,3250441966),w=s(w,y,b,x,T[f+4],7,4118548399),x=s(x,w,y,b,T[f+5],12,1200080426),b=s(b,x,w,y,T[f+6],17,2821735955),y=s(y,b,x,w,T[f+7],22,4249261313),w=s(w,y,b,x,T[f+8],7,1770035416),x=s(x,w,y,b,T[f+9],12,2336552879),b=s(b,x,w,y,T[f+10],17,4294925233),y=s(y,b,x,w,T[f+11],22,2304563134),w=s(w,y,b,x,T[f+12],7,1804603682),x=s(x,w,y,b,T[f+13],12,4254626195),b=s(b,x,w,y,T[f+14],17,2792965006),y=s(y,b,x,w,T[f+15],22,1236535329),w=c(w,y,b,x,T[f+1],5,4129170786),x=c(x,w,y,b,T[f+6],9,3225465664),b=c(b,x,w,y,T[f+11],14,643717713),y=c(y,b,x,w,T[f+0],20,3921069994),w=c(w,y,b,x,T[f+5],5,3593408605),x=c(x,w,y,b,T[f+10],9,38016083),b=c(b,x,w,y,T[f+15],14,3634488961),y=c(y,b,x,w,T[f+4],20,3889429448),w=c(w,y,b,x,T[f+9],5,568446438),x=c(x,w,y,b,T[f+14],9,3275163606),b=c(b,x,w,y,T[f+3],14,4107603335),y=c(y,b,x,w,T[f+8],20,1163531501),w=c(w,y,b,x,T[f+13],5,2850285829),x=c(x,w,y,b,T[f+2],9,4243563512),b=c(b,x,w,y,T[f+7],14,1735328473),y=c(y,b,x,w,T[f+12],20,2368359562),w=l(w,y,b,x,T[f+5],4,4294588738),x=l(x,w,y,b,T[f+8],11,2272392833),b=l(b,x,w,y,T[f+11],16,1839030562),y=l(y,b,x,w,T[f+14],23,4259657740),w=l(w,y,b,x,T[f+1],4,2763975236),x=l(x,w,y,b,T[f+4],11,1272893353),b=l(b,x,w,y,T[f+7],16,4139469664),y=l(y,b,x,w,T[f+10],23,3200236656),w=l(w,y,b,x,T[f+13],4,681279174),x=l(x,w,y,b,T[f+0],11,3936430074),b=l(b,x,w,y,T[f+3],16,3572445317),y=l(y,b,x,w,T[f+6],23,76029189),w=l(w,y,b,x,T[f+9],4,3654602809),x=l(x,w,y,b,T[f+12],11,3873151461),b=l(b,x,w,y,T[f+15],16,530742520),y=l(y,b,x,w,T[f+2],23,3299628645),w=u(w,y,b,x,T[f+0],6,4096336452),x=u(x,w,y,b,T[f+7],10,1126891415),b=u(b,x,w,y,T[f+14],15,2878612391),y=u(y,b,x,w,T[f+5],21,4237533241),w=u(w,y,b,x,T[f+12],6,1700485571),x=u(x,w,y,b,T[f+3],10,2399980690),b=u(b,x,w,y,T[f+10],15,4293915773),y=u(y,b,x,w,T[f+1],21,2240044497),w=u(w,y,b,x,T[f+8],6,1873313359),x=u(x,w,y,b,T[f+15],10,4264355552),b=u(b,x,w,y,T[f+6],15,2734768916),y=u(y,b,x,w,T[f+13],21,1309151649),w=u(w,y,b,x,T[f+4],6,4149444226),x=u(x,w,y,b,T[f+11],10,3174756917),b=u(b,x,w,y,T[f+2],15,718787259),y=u(y,b,x,w,T[f+9],21,3951481745),w=n(w,m),y=n(y,g),b=n(b,v),x=n(x,_);return(h(w)+h(y)+h(b)+h(x)).toLowerCase()}function l(t,e,n){var i=n||{};document.cookie=t.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+e.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(i.domain?";domain="+i.domain:"")+(i.path?";path="+i.path:"")+(i.secure?";secure":"")+(i.httponly?";HttpOnly":"")}function u(t){var e=new RegExp("(?:^|;\\s*)"+t+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return e?e[1]:void 0}function d(t,e,n){var i=new Date;i.setTime(i.getTime()-864e5);var o="/";document.cookie=t+"=;path=/;domain=."+e+";expires="+i.toGMTString(),document.cookie=t+"=;path=/;domain=."+n+"."+e+";expires="+i.toGMTString()}function h(){var e=t.location.hostname;if(!e){var n=t.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(e=n)}var i=["taobao.net","taobao.com","tmall.com","tmall.hk","etao.com","alibaba-inc.com"],o=new RegExp("([^.]*?)\\.?((?:"+i.join(")|(?:").replace(/\./g,"\\.")+"))","i"),a=e.match(o)||[],r=a[2]||"taobao.com",s=a[1]||"m";"taobao.net"!==r||"x"!==s&&"waptest"!==s&&"daily"!==s?"taobao.net"===r&&"demo"===s?s="demo":"alibaba-inc.com"===r&&"zebra"===s?s="zebra":"waptest"!==s&&"wapa"!==s&&"m"!==s&&(s="m"):s="waptest";var c="etao.com"===r?"apie":"api";c="taobao.com"===r?"acs":c,w.mainDomain=r,w.subDomain=s,w.prefix=c}function p(){var e=t.navigator.userAgent,n=e.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(w.WindVaneVersion=n[1]);var i=e.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);i&&(w.AliAppName=i[1],w.AliAppVersion=i[2])}function f(t){this.id=++x,this.params=o(t||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==n(this.params.data)&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=y.slice(0)}var m=t.Promise;if(!m){var g="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Promise\uff0c\u8bf7\u5728windows\u5bf9\u8c61\u4e0a\u6302\u8f7dPromise\u5bf9\u8c61\u53ef\u53c2\u8003\uff08http://gitlab.alibaba-inc.com/mtb/lib-es6polyfill/tree/master\uff09\u4e2d\u7684\u89e3\u51b3\u65b9\u6848";throw e.mtop={ERROR:g},new Error(g)}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var v,_=m.resolve();try{v=t.localStorage,v.setItem("@private","false")}catch(R){v=!1}var w={useAlipayJSBridge:!1},y=[],b={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};h(),p();var x=0,T="2.3.16";f.prototype.use=function(t){if(!t)throw new Error("middleware is undefined");return this.middlewares.push(t),this},f.prototype.__processRequestMethod=function(t){var e=this.params,n=this.options;"get"===e.type&&"jsonp"===e.dataType?n.getJSONP=!0:"get"===e.type&&"originaljsonp"===e.dataType?n.getOriginalJSONP=!0:"get"===e.type&&"json"===e.dataType?n.getJSON=!0:"post"===e.type&&(n.postJSON=!0),t()},f.prototype.__processRequestType=function(t){var n=this,i=this.options;if(w.H5Request===!0&&(i.H5Request=!0),w.WindVaneRequest===!0&&(i.WindVaneRequest=!0),i.H5Request===!1&&i.WindVaneRequest===!0){if(!e.windvane||parseFloat(i.WindVaneVersion)<5.4)throw new Error("WINDVANE_NOT_FOUND::\u7f3a\u5c11WindVane\u73af\u5883")}else i.H5Request===!0?i.WindVaneRequest=!1:"undefined"==typeof i.WindVaneRequest&&"undefined"==typeof i.H5Request&&(e.windvane&&parseFloat(i.WindVaneVersion)>=5.4?i.WindVaneRequest=!0:i.H5Request=!0);return t?t().then(function(){var t=i.retJson.ret;return t instanceof Array&&(t=t.join(",")),i.WindVaneRequest===!0&&(!t||t.indexOf("HY_FAILED")>-1||t.indexOf("HY_NO_HANDLER")>-1||t.indexOf("HY_CLOSED")>-1||t.indexOf("HY_EXCEPTION")>-1||t.indexOf("HY_NO_PERMISSION")>-1)?(w.H5Request=!0,n.__sequence([n.__processRequestType,n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])):void 0}):void 0};var A="_m_h5_c",E="_m_h5_tk",C="_m_h5_tk_enc";f.prototype.__getTokenFromAlipay=function(){var e=i(),n=this.options,o=(t.navigator.userAgent,!!location.protocol.match(/^https?\:$/)),a="AP"===n.AliAppName&&parseFloat(n.AliAppVersion)>=8.2;return n.useAlipayJSBridge===!0&&!o&&a&&t.AlipayJSBridge&&t.AlipayJSBridge.call?t.AlipayJSBridge.call("getMtopToken",function(t){t&&t.token&&(n.token=t.token),e.resolve()},function(){e.resolve()}):e.resolve(),e.promise},f.prototype.__getTokenFromCookie=function(){var t=this.options;return t.token=t.token||u(E),t.token&&(t.token=t.token.split("_")[0]),m.resolve()},f.prototype.__processToken=function(t){var e=this,n=this.options;return this.params,n.token&&delete n.token,n.WindVaneRequest!==!0?_.then(function(){return e.__getTokenFromAlipay()}).then(function(){return e.__getTokenFromCookie()}).then(t).then(function(){var t=n.retJson,i=t.ret;if(i instanceof Array&&(i=i.join(",")),i.indexOf("TOKEN_EMPTY")>-1||n.CDR===!0&&i.indexOf("ILLEGAL_ACCESS")>-1||i.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes)return e.__sequence([e.__processToken,e.__processRequestUrl,e.__processUnitPrefix,e.middlewares,e.__processRequest]);n.maxRetryTimes>0&&(d(A,n.pageDomain,"*"),d(E,n.mainDomain,n.subDomain),d("_m_h5_tk_enc",n.mainDomain,n.subDomain)),t.retType=b.TOKEN_EXPIRED}}):void t()},f.prototype.__processRequestUrl=function(e){var n=this.params,i=this.options;if(i.hostSetting&&i.hostSetting[t.location.hostname]){var o=i.hostSetting[t.location.hostname];o.prefix&&(i.prefix=o.prefix),o.subDomain&&(i.subDomain=o.subDomain),o.mainDomain&&(i.mainDomain=o.mainDomain)}if(i.H5Request===!0){var a="//"+(i.prefix?i.prefix+".":"")+(i.subDomain?i.subDomain+".":"")+i.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",r=n.appKey||("waptest"===i.subDomain?"4272":"12574478"),s=(new Date).getTime(),l=c(i.token+"&"+s+"&"+r+"&"+n.data),u={jsv:"2.3.16",appKey:r,t:s,sign:l},d={data:n.data,ua:n.ua};Object.keys(n).forEach(function(t){"undefined"==typeof u[t]&&"undefined"==typeof d[t]&&(u[t]=n[t])}),i.getJSONP?u.type="jsonp":i.getOriginalJSONP?u.type="originaljsonp":(i.getJSON||i.postJSON)&&(u.type="originaljson"),i.querystring=u,i.postdata=d,i.path=a}e()},f.prototype.__processUnitPrefix=function(e){var n=this.params,i=this.options;if(i.disabledUnit===!0)return void e();if(v&&i.H5Request===!0){var o=n.api,r=!1,s=u("_m_user_unitinfo_"),c=v.getItem("unitinfo");s&&s.split("|")[0].indexOf("center")<0&&c&&c.indexOf(o.toLowerCase())>=0&&(r=s.split("|")[1]),i.h5UnitPrefix?i.path=i.path.replace(/^\/\//,"//"+i.h5UnitPrefix):r&&i.path&&(i.useAcsUnit===!0||i.path.indexOf("taobao.com")>-1&&"acs"===i.prefix?i.path=i.path.replace(/^\/\//,"//"+r):i.path=i.path.replace(/^\/\//,"//"+r+".")),e().then(function(){if(v){var e=u("_m_unitapi_v_"),n=v.getItem("unitinfo");if(e){var o=n?JSON.parse(n):{};if(!n||e!==o.version){var r=!1,s="//h5."+i.subDomain+".taobao.com/js/mtop/unit/"+e+"/unitApi.js",c=document.createElement("script");c.src=s,c.async=!0;var l=function d(){r||(r=!0,c.onload=c.onerror=null,c.parentNode&&c.parentNode.removeChild(c))};c.onerror=function(){l()},t.jsonp_unitapi||(t.jsonp_unitapi=function(t){l(),v.setItem("unitinfo",JSON.stringify(t))}),a(c)}}}})}else e()};var S=0;f.prototype.__requestJSONP=function(t){function e(t){if(u&&clearTimeout(u),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===t)window[l]=function(){window[l]=void 0;try{delete window[l]}catch(t){}};else{window[l]=void 0;try{delete window[l]}catch(e){}}}var n=i(),o=this.params,s=this.options,c=o.timeout||2e4,l="mtopjsonp"+ ++S,u=setTimeout(function(){t("TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),e("TIMEOUT")},c);s.querystring.callback=l;var d=document.createElement("script");return d.src=s.path+"?"+r(s.querystring)+"&"+r(s.postdata),d.async=!0,d.onerror=function(){e("ABORT"),t("ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")},window[l]=function(){s.results=Array.prototype.slice.call(arguments),e(),n.resolve()},a(d),n.promise},f.prototype.__requestJSON=function(e){function n(t){h&&clearTimeout(h),"TIMEOUT"===t&&l.abort()}var o=i(),a=this.params,c=this.options,l=new t.XMLHttpRequest,d=a.timeout||2e4,h=setTimeout(function(){e("TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),n("TIMEOUT")},d);c.pageDomain=c.pageDomain||s(t.location.hostname),c.mainDomain!=c.pageDomain&&(c.maxRetryTimes=3,c.CDR=!0,u(A)&&(c.querystring.c=decodeURIComponent(u(A)))),l.onreadystatechange=function(){if(4==l.readyState){var t,i,a=l.status;if(a>=200&&300>a||304==a){n(),t=l.responseText,i=l.getAllResponseHeaders()||"";try{t=/^\s*$/.test(t)?{}:JSON.parse(t),t.responseHeaders=i,c.results=[t],o.resolve()}catch(s){e("PARSE_JSON_ERROR::\u89e3\u6790JSON\u5931\u8d25")}}else n("ABORT"),e("ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")}};var p,f,m=c.path+"?"+r(c.querystring);if(c.getJSON?(p="GET",m+="&"+r(c.postdata)):c.postJSON&&(p="POST",f=r(c.postdata)),l.open(p,m,!0),l.withCredentials=!0,l.setRequestHeader("Accept","application/json"),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.headers)for(var g in a.headers)l.setRequestHeader(g,a.headers[g]);return l.send(f),o.promise},f.prototype.__requestWindVane=function(t){function n(t){l.results=[t],s.resolve()}var o,a,r,s=i(),c=this.params,l=this.options,u=c.data,d=c.api,h=c.v,p=l.postJSON?1:0,f=l.getJSON||l.postJSON?"originaljson":"",m="https"===location.protocol?1:0,g=c.isSec||0,v=c.sessionOption||"AutoLoginOnly"
;if("undefined"==typeof c.ecode)throw new Error("UNEXCEPT_PARAM_ECODE::\u7f3a\u5c11ecode\u53c2\u6570");return o=parseInt(c.ecode),r="undefined"!=typeof c.timer?parseInt(c.timer):"undefined"!=typeof c.timeout?parseInt(c.timeout):2e4,a=2*r,c.needLogin===!0&&"undefined"==typeof c.sessionOption&&(v="AutoLoginAndManualLogin"),"undefined"!=typeof c.secType&&"undefined"==typeof c.isSec&&(g=c.secType),e.windvane.call("MtopWVPlugin","send",{api:d,v:h,post:String(p),type:f,isHttps:String(m),ecode:String(o),isSec:String(g),param:JSON.parse(u),timer:r,sessionOption:v,ext_headers:{referer:location.href}},n,n,a),s.promise},f.prototype.__processRequest=function(t,e){var n=this;return _.then(function(){var t=n.options;if(t.H5Request&&(t.getJSONP||t.getOriginalJSONP))return n.__requestJSONP(e);if(t.H5Request&&(t.getJSON||t.postJSON))return n.__requestJSON(e);if(t.WindVaneRequest)return n.__requestWindVane(e);throw new Error("UNEXCEPT_REQUEST::\u9519\u8bef\u7684\u8bf7\u6c42\u7c7b\u578b")}).then(t).then(function(){var t=n.options,e=(n.params,t.results[0]),i=e&&e.ret||[];e.ret=i,i instanceof Array&&(i=i.join(","));var o=e.c;if(t.CDR&&o){var a=o.split(";");l(A,o,{domain:t.pageDomain,path:"/"}),l(E,a[0],{domain:t.pageDomain,path:"/"})}i.indexOf("SUCCESS")>-1?e.retType=b.SUCCESS:e.retType=b.ERROR,t.retJson=e})},f.prototype.__sequence=function(t){function e(t){if(t instanceof Array)t.forEach(e);else{var r,s=i(),c=i();o.push(function(){return s=i(),r=t.call(n,function(t){return s.resolve(t),c.promise},function(t){return s.reject(t),c.promise}),r&&(r=r["catch"](function(t){s.reject(t)})),s.promise}),a.push(function(t){return c.resolve(t),r})}}var n=this,o=[],a=[];t.forEach(e);for(var r,s=_;r=o.shift();)s=s.then(r);for(;r=a.pop();)s=s.then(r);return s};var k=function L(t){t()},I=function P(t){t()};f.prototype.request=function(t){var e=this;this.options=o(t||{},w);var n=m.resolve([k,I]).then(function(t){var n=t[0],i=t[1];return e.__sequence([n,e.__processRequestMethod,e.__processRequestType,e.__processToken,e.__processRequestUrl,e.__processUnitPrefix,e.middlewares,e.__processRequest,i])}).then(function(){var t=e.options.retJson;return t.retType!==b.SUCCESS?m.reject(t):e.options.successCallback?void e.options.successCallback(t):m.resolve(t)})["catch"](function(t){var n;return t instanceof Error?(console.error(t.stack),n={ret:[t.message],stack:[t.stack],retJson:b.ERROR}):n="string"==typeof t?{ret:[t],retJson:b.ERROR}:void 0!==t?t:e.options.retJson,e.options.failureCallback?void e.options.failureCallback(n):m.reject(n)});return this.__processRequestType(),e.options.H5Request&&(e.constructor.__firstProcessor||(e.constructor.__firstProcessor=n),k=function i(t){e.constructor.__firstProcessor.then(t)["catch"](t)}),n},e.mtop=function(t){return new f(t)},e.mtop.request=function(t,e,n){var i={H5Request:t.H5Request,WindVaneRequest:t.WindVaneRequest,LoginRequest:t.LoginRequest,AntiCreep:t.AntiCreep,AntiFlood:t.AntiFlood,successCallback:e,failureCallback:n||e};return new f(t).request(i)},e.mtop.H5Request=function(t,e,n){var i={H5Request:!0,successCallback:e,failureCallback:n||e};return new f(t).request(i)},e.mtop.middlewares=y,e.mtop.config=w,e.mtop.RESPONSE_TYPE=b,e.mtop.CLASS=f}(window,window.lib||(window.lib={})),function(t,e){function n(t){return t.preventDefault(),!1}function i(e,i){var o=this,a=t.dpr||1,r=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/a,l=Math.max(s.height,window.innerHeight)/a;r.style.cssText=["-webkit-transform:scale("+a+") translateZ(0)","-ms-transform:scale("+a+") translateZ(0)","transform:scale("+a+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+l+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var u=document.createElement("div");u.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),u.innerText=e;var d=document.createElement("a");d.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),d.innerText="\u5173\u95ed";var h=document.createElement("iframe");h.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),u.appendChild(d),r.appendChild(u),r.appendChild(h),document.body.appendChild(r),h.src=i,d.addEventListener("click",function(){o.hide();var t=document.createEvent("HTMLEvents");t.initEvent("close",!1,!1),r.dispatchEvent(t)},!1),this.addEventListener=function(){r.addEventListener.apply(r,arguments)},this.removeEventListener=function(){r.removeEventListener.apply(r,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),r.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-s.top),r.parentNode&&r.parentNode.removeChild(r)}}function o(t){var n=this,i=this.options,o=this.params;return t().then(function(){var t=i.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),(a.indexOf("SESSION_EXPIRED")>-1||a.indexOf("SID_INVALID")>-1||a.indexOf("AUTH_REJECT")>-1||a.indexOf("NEED_LOGIN")>-1)&&(t.retType=u.SESSION_EXPIRED,!i.WindVaneRequest&&(l.LoginRequest===!0||i.LoginRequest===!0||o.needLogin===!0))){if(!e.login)throw new Error("LOGIN_NOT_FOUND::\u7f3a\u5c11lib.login");if(i.CDR!==!0)return e.login.goLoginAsync().then(function(t){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})["catch"](function(t){throw"CANCEL"===t?new Error("LOGIN_CANCEL::\u7528\u6237\u53d6\u6d88\u767b\u5f55"):new Error("LOGIN_FAILURE::\u7528\u6237\u767b\u5f55\u5931\u8d25")});e.login.goLogin()}})}function a(t){var e=this.options;return this.params,e.H5Request!==!0||l.AntiFlood!==!0&&e.AntiFlood!==!0?void t():t().then(function(){var t=e.retJson,n=t.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&t.data.url&&(e.AntiFloodReferer?location.href=t.data.url.replace(/(http_referer=).+/,"$1"+e.AntiFloodReferer):location.href=t.data.url)})}function r(e){var n=this,o=this.options,a=this.params;return a.forceAntiCreep!==!0&&o.H5Request!==!0||l.AntiCreep!==!0&&o.AntiCreep!==!0?void e():e().then(function(){var e=o.retJson,r=e.ret;return r instanceof Array&&(r=r.join(",")),r.indexOf("RGV587_ERROR::SM")>-1&&e.data.url?new s(function(o,r){function s(){u.removeEventListener("close",s),t.removeEventListener("message",c),r("USER_INPUT_CANCEL::\u7528\u6237\u53d6\u6d88\u8f93\u5165")}function c(e){var i;try{i=JSON.parse(e.data)||{}}catch(l){}if(i&&"child"===i.type){u.removeEventListener("close",s),t.removeEventListener("message",c),u.hide();var l;try{"string"==typeof(l=JSON.parse(decodeURIComponent(i.content)))&&(l=JSON.parse(l));for(var d in l)a[d]=l[d];n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(l){r("USER_INPUT_FAILURE::\u7528\u6237\u8f93\u5165\u5931\u8d25")}}}var l=e.data.url,u=new i("",l);u.addEventListener("close",s,!1),t.addEventListener("message",c,!1),u.show()}):void 0})}if(!e||!e.mtop||e.mtop.ERROR)throw new Error("Mtop \u521d\u59cb\u5316\u5931\u8d25\uff01\u8bf7\u53c2\u8003Mtop\u6587\u6863http://gitlab.alibaba-inc.com/mtb/lib-mtop");var s=t.Promise,c=e.mtop.CLASS,l=e.mtop.config,u=e.mtop.RESPONSE_TYPE;e.mtop.middlewares.push(o),e.mtop.loginRequest=function(t,e,n){var i={LoginRequest:!0,H5Request:!0,successCallback:e,failureCallback:n||e};return new c(t).request(i)},e.mtop.antiFloodRequest=function(t,e,n){var i={AntiFlood:!0,successCallback:e,failureCallback:n||e};return new c(t).request(i)},e.mtop.middlewares.push(a),e.mtop.antiCreepRequest=function(t,e,n){var i={AntiCreep:!0,successCallback:e,failureCallback:n||e};return new c(t).request(i)},e.mtop.middlewares.push(r)}(window,window.lib||(window.lib={})),t.exports=window.lib.mtop},function(t,e){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(t,e,n){function i(t){var e=new RegExp("(?:^|;\\s*)"+t+"\\=([^;]+)(?:;\\s*|$)").exec(b.cookie);return e?e[1]:n}function o(t){return t.preventDefault(),!1}function a(e,n){var i=this,a=t.dpr||1,r=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/a,l=Math.max(s.height,window.innerHeight)/a;r.style.cssText=["-webkit-transform:scale("+a+") translateZ(0)","-ms-transform:scale("+a+") translateZ(0)","transform:scale("+a+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+l+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var u=document.createElement("div");u.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),u.innerText=e;var d=document.createElement("a");d.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),d.innerText="\u5173\u95ed";var h=document.createElement("iframe");h.style.cssText=["width:100%","height:"+window.innerHeight/a+"px","border:0","overflow:hidden"].join(";"),u.appendChild(d),r.appendChild(u),r.appendChild(h),b.body.appendChild(r),h.src=n,d.addEventListener("click",function(){i.hide();var t=b.createEvent("HTMLEvents");t.initEvent("close",!1,!1),r.dispatchEvent(t)},!1),this.addEventListener=function(){r.addEventListener.apply(r,arguments)},this.removeEventListener=function(){r.removeEventListener.apply(r,arguments)},this.show=function(){document.addEventListener("touchmove",o,!1),r.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",o),window.scrollTo(0,-s.top),b.body.removeChild(r)}}function r(t){if(!t||"function"!=typeof t||!e.mtop){return!!this.getUserNick()}e.mtop.request({api:"mtop.user.getUserSimple",v:"1.0",data:{isSec:0},H5Request:!0},function(i){i.retType===e.mtop.RESPONSE_TYPE.SUCCESS?t(!0,i):i.retType===e.mtop.RESPONSE_TYPE.SESSION_EXPIRED?t(!1,i):t(n,i)})}function s(t){var e;return y&&(e={},e.promise=new y(function(t,n){e.resolve=t,e.reject=n})),this.isLogin(function(n,i){t&&t(n,i),n===!0?e&&e.resolve(i):e&&e.reject(i)}),e?e.promise:void 0}function c(t){if(!t||"function"!=typeof t){var e="",o=i("_w_tb_nick"),a=i("_nk_")||i("snk"),r=i("sn");return o&&o.length>0&&"null"!=o?e=decodeURIComponent(o):a&&a.length>0&&"null"!=a?e=unescape(unescape(a).replace(/\\u/g,"%u")):r&&r.length>0&&"null"!=r&&(e=decodeURIComponent(r)),e=e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}this.isLogin(function(e,i){t(e===!0&&i&&i.data&&i.data.nick?i.data.nick:e===!1?"":n)})}function l(t){var e;return y&&(e={},e.promise=new y(function(t,n){e.resolve=t,e.reject=n})),this.getUserNick(function(n){t&&t(n),n?e&&e.resolve(n):e&&e.reject()}),e?e.promise:void 0}function u(t,n){var i="//"+P+"."+O.subDomain+"."+R+"/"+O[(t||"login")+"Name"];if(n){var o=[];for(var a in n)o.push(a+"="+encodeURIComponent(n[a]));i+="?"+o.join("&")}var r=e.login.config.loginUrlParams;if(r){var s=[];for(var c in r)s.push(c+"="+encodeURIComponent(r[c]));i+=/\?/.test(i)?"&"+s.join("&"):"?"+o.join("&")}return i}function d(t,e){e?location.replace(t):location.href=t}function h(e,n,i){function o(e){l.removeEventListener("close",o),t.removeEventListener("message",r),i("CANCEL")}function r(e){var n=e.data||{};n&&"child"===n.type&&n.content.indexOf("SUCCESS")>-1?(l.removeEventListener("close",o),t.removeEventListener("message",r),l.hide(),i("SUCCESS")):i("FAILURE")}var s=location.protocol+"//h5."+O.subDomain+".taobao.com/"+("waptest"===O.subDomain?"src":"other")+"/"+e+"end.html?origin="+encodeURIComponent(location.protocol+"//"+location.hostname),c=u(e,{ttid:"h5@iframe",redirectURL:s}),l=new a(n.title||"\u60a8\u9700\u8981\u767b\u5f55\u624d\u80fd\u7ee7\u7eed\u8bbf\u95ee",c);l.addEventListener("close",o,!1),t.addEventListener("message",r,!1),l.show()}function p(e,n,i){var o=u(e,{wvLoginCallback:"wvLoginCallback"});t.wvLoginCallback=function(e){delete t.wvLoginCallback,i(e.indexOf(":SUCCESS")>-1?"SUCCESS":e.indexOf(":CANCEL")>-1?"CANCEL":"FAILURE")},d(o)}function f(t,e,n){if("function"==typeof e?(n=e,e=null):"string"==typeof e&&(e={redirectUrl:e}),e=e||{},n&&C)p(t,e,n);else if(n&&!E&&"login"===t)h(t,e,n);else{var i=u(t,{redirectURL:e.redirectUrl||location.href});d(i,e.replace)}}function m(t,e,n){var i;return y&&(i={},i.promise=new y(function(t,e){i.resolve=t,i.reject=e})),f(t,e,function(t){n&&n(t),"SUCCESS"===t?i&&i.resolve(t):i&&i.reject(t)}),i?i.promise:void 0}function g(t){f("login",t)}function v(t){return m("login",t)}function _(t){f("logout",t)}function w(t){return m("logout",t)}var y=t.Promise,b=t.document,x=t.navigator.userAgent,T=location.hostname,A=(t.location.search,x.match(/WindVane[\/\s]([\d\.\_]+)/)),E=x.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i),C=!!(E&&"TB"===E[1]&&A&&parseFloat(A[1])>5.2),S=["taobao.net","taobao.com"],k=new RegExp("([^.]*?)\\.?((?:"+S.join(")|(?:").replace(/\./g,"\\.")+"))","i"),I=T.match(k)||[],R=function(){return(I[2]||"taobao.com").match(/\.?taobao\.net$/)?"taobao.net":"taobao.com"}(),L=function(){var t=R,e=I[1]||"m";return"taobao.net"===t&&(e="waptest"),"m"!=e&&"wapa"!=e&&"waptest"!=e&&(e="m"),e}(),P="login";e.login=e.login||{};var O={loginName:"login.htm",logoutName:"logout.htm",subDomain:L};e.login.config=O,e.login.isLogin=r,e.login.isLoginAsync=s,e.login.getUserNick=c,e.login.getUserNickAsync=l,e.login.generateUrl=u,e.login.goLogin=g,e.login.goLoginAsync=v,e.login.goLogout=_,e.login.goLogoutAsync=w}(window,window.lib||(window.lib={})),t.exports=window.lib.login},function(t,e){t.exports=$.__promise__},function(t,e,n){function i(t,e){for(var n in e)e[n]!=undefined&&(t[n]=e[n])}function o(t){if(a(t),"object"===g(o.instance))return l(),o.instance;s(function(){l(),h()}),o.instance=this}function a(t){L=L.concat(r(t))}function r(t){var e=[];return[].forEach.call(t,function(n,i){-1===L.indexOf(n)&&-1===P.indexOf(n)&&e.push(t[i])}),e}function s(t){function e(){0===--n&&t&&t()}if(!c()&&!J.autoWebp)return void(t&&t());var n=0;c()&&(n++,y.getNetwork(function(t,n){I=t,e()})),J.autoWebp&&(n+=2,_.isSupport(function(t){S=t,e()}),_.isSupport(function(t){k=t,e()},"alpha"))}function c(){return J.enableIOSWifiLoad&&window.WindVane&&1==window.WindVane.isAvailable}function l(t){t=t||0;for(var e=L.length,n=J.enableIOSWifiLoad&&X&&"WIFI"==I,i=[],o=0;o<e;o++){var a=L[o],r=$(L[o]);if(n||J.stop||r.inView(J.offsetY,t)){var s=r.attr("data-bestsrc");if(s||P.indexOf(a)!==-1)P.indexOf(a)===-1&&P.push(a);else{var c=r.attr("data-srcset")||r.attr("data-src");if(c){P.push(a);var l=new x({src:r.attr("src"),srcset:c});s=T.getBestImage(l).src;var d=s.substr(-4,4);if(s.indexOf("cdn.")!=-1){if(".png"===d&&k||".jpg"===d&&S){var h=r.attr("data-webpsuffix");s+=h?h:R}var p=r.attr("data-network");if(".jpg"===d&&"close"!=p){p=r.attr("data-network"),p=p&&p.replace(/\s/g,""),p=p?p:"Q50s150,Q30s150",function(t,e,n){y.weld(t,e,function(t){u(n,t)})}(s,p,r);continue}}u(r,s)}}}else i.push(a)}L=i}function u(t,e){if(J.autoAnim)if(d(t),"img"==t[0].tagName.toLowerCase())t.on("load",function(){t.css("opacity",1)});else{var n="_lazyLoadImgRef"+Math.random();window[n]=$(new Image),window[n].on("load",function(){t.css("opacity",1),t.css({"background-image":"url("+e+")","background-repeat":"no-repeat","background-position":"center center","background-size":"cover"}),delete window[n]}),window[n].attr("src",e)}t.attr("data-lazyimg",t.attr("src")),t.attr("src",e),t.attr("data-bestsrc",e)}function d(t){t.css({"-webkit-transition":"opacity .35s",transition:"opacity .35s",opacity:0})}function h(){O||(O=!0,J.el.on("scroll",function(t){L.length>0&&(j=J.el.scrollTop()),N||E(function(){l(),N=!1}),N=!0}),J.el.on("resize",function(t){j=J.el.scrollTop(),U=J.el.height(),l()}),X&&J.el.on("touchend",function(t){q={y:(t.changedTouches?t.changedTouches[0]:t).pageY,time:(new Date).getTime()},q.y-D.y>5&&f()}).on("touchstart",function(t){D={y:(t.touches?t.touches[0]:t).pageY,time:(new Date).getTime()},f(U)}),window.MutationObserver&&J.observeDomChanges&&(M=new MutationObserver(function(t){p(t)}),M.observe(J.observeWrapper,W)))}function p(t){var e,n,i,o;t.forEach(function(t){e=t.removedNodes,e.forEach(function(t){"img"==t.tagName.toLowerCase()&&(n=$(t),i=n.attr("data-bestsrc")?P:L,(o=i.indexOf(t))>-1&&i.splice(o,1))})})}function f(t){l(t||m())}function m(){var t=q.y-D.y,e=q.time-D.time;e=e||1;var n=t/e,i=.005;return.5*n*(n/.005)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=n(10),_=n(15),w=n(16),y=new w,b=n(17),x=n(18),T=new b,A=n(19),E=window.requestAnimationFrame,C=window.cancelAnimationFrame,S=!1,k=!1,I="",R="_.webp",L=[],P=[],O=!1,N=!1,j,D={},q={},U=0,M,W={subtree:!0,childList:!0,attributes:!1},J={offsetY:0,maxNum:120,autoWebp:!0,autoAnim:!1,el:$(window),enableIOSWifiLoad:!1,observeDomChanges:!1,observeWrapper:document,stop:!1},X=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);i($.fn,{inView:function F(t,e){t=t||0,e=e||0;var n=j+e,i=$(this).offset(),o=J.el[0]!=window?this[0].offsetTop:i.top,a=o+(i.height||$(this).height());return o>=n-t&&o<=n+U+t||a>=n-t&&a<=n+U+t},lazyload:function V(t){t=t||{},t.el&&(t.el=$(t.el)),i(J,t),T.compute(),U=T.h,$(J.el)[0]!=window&&(J.el=$(J.el),U=J.el.height()),j=J.el.scrollTop(),new o(this.slice(0))}}),t.exports={setupConfig:function B(t){i(J,t)},destroy:function H(){L=[],P=[]}}},function(t,e){function n(t,e){if("function"==typeof t){var n=new Image;n.onload=function(){var o=n.width>0&&n.height>0;i(o,e),t(o)},n.onerror=function(){i(!1,e),t(!1)},n.src="data:image/webp;base64,"+a[e]}}function i(t,e){if(window.localStorage&&"function"==typeof window.localStorage.setItem)try{window.localStorage.setItem("webpsupport-"+e,t)}catch(n){}}function o(t,e){if("function"==typeof t)if(e=e||"lossy",window.navigator.userAgent.match(/windows|win32/i)||r&&window.navigator.userAgent.match(/UCBrowser/i))t(!1);else if(window.chrome||window.opera)t(!0);else{var i=window.localStorage&&window.localStorage.getItem("webpsupport-"+e);i?t("true"==i):n(t,e)}}var a={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},r=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),s=!!navigator.userAgent.match(/windvane/i),c={};c.isSupport=o,t.exports=c},function(t,e,n){function i(t){if("object"===a(i.instance))return i.instance;this._init(t),i.instance=this}function o(t,e){for(var n in e)e[n]!=undefined&&(t[n]=e[n])}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(10),s=window.navigator.userAgent,c={network:["Q50s100","Q30s100"],enableDomainMerge:!0,mergeDomain:"gw.alicdn.com",enableRemoveScheme:!0,strongNet:["WIFI"]},l=/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.com)\/(.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i,u=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i;o(i.prototype,{network:null,poll:[],callback:!1,weld:function d(t,e,n){var i=this;if(navigator.userAgent.indexOf("WindVane")!==-1&&navigator.userAgent.indexOf("tae_sdk")===-1&&window.WindVane&&!this.callback){if(this.poll.push(arguments),this.poll.length>1)return;return void this._getNetwork()}n&&n(this._getWeldUrl(t,e))},_getNetwork:function h(){var t=this;if(this.isWeakNet!==undefined&&null!==this.isWeakNet)return void this._getInfoCallback();this.getNetwork(function(e,n){t._getInfoCallback.call(t)})},getNetwork:function p(t){function e(){0===--i&&(n.isWeakNet=null===c||c===undefined?n.config.strongNet.indexOf(a)==-1:c,t(a,c))}var n=this,i=1,o=/AliApp\(TB\/([\d\.]+)\)/.test(s),a,c;o&&(i++,r.call("TBWeakNetStatus","getStatus",{},function(t){c=t.WeakNetStatus===!0||"true"===t.WeakNetStatus,e()},function(t){e()})),r.call("WVNetwork","getNetworkType",{},function(t){a=t.type,e()},function(t){e()})},weldImg:function f(t){var e=t,n=this,i,o;if(e.length){[].forEach.call(e,function(t,e){if("IMG"==t.tagName){if(i=t.getAttribute("data-network"),!(o=t.getAttribute("data-src")))return;n.weld(o,i,function(e){e&&(t.src=e)})}})}},_init:function m(t){o(this.config={},c,t||{})},_getWeldUrl:function g(t,e){t=this.config.enableRemoveScheme?t.replace(/(http|https):/gi,""):t;var n=t.match(/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.com)\/(.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i);if(!n||~n[2].indexOf("gif"))return t;this.config.enableDomainMerge&&(t=t.replace(n[1],this.config.mergeDomain));var i=this._getQualitySuffix(e),o=n[2].match(/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i);return o?(t=t.replace(o[0],""),t+="_"+(o[1]||"")+(o[2]||"")+(o[3]||i)+o[4]+(o[5]||"")):t.match(/_\.webp$/)?t=t.replace(/_\.webp$/,"_"+i+".jpg_.webp"):t+="_"+i+".jpg",t},_getQualitySuffix:function v(t){var e=this._parseSuffix(t);return this.isWeakNet?e[1]:e[0]},_parseSuffix:function _(t){var e=this.config.network,n;return"[object String]"===Object.prototype.toString.call(t)&&(n=t.split(",")),"[object Array]"===Object.prototype.toString.call(t)&&(n=t),n&&n[0]&&(e[0]=n[0]),n&&n[1]&&(e[1]=n[1]),e},_getInfoCallback:function w(){var t=this,e=this.poll;this.callback=!0,this.poll=[],Array.prototype.forEach.call(e,function(e,n){t.weld.apply(t,e)})}}),t.exports=i},function(t,e){function n(){this.w=null,this.h=null,this.x=null}n.prototype.compute=function(){this.w=window.innerWidth||document.documentElement.clientWidth,this.h=window.innerHeight||document.documentElement.clientHeight,this.x=window.devicePixelRatio},n.prototype.setForTesting=function(t){this.w=t.w,this.h=t.h,this.x=t.x},n.prototype.getBestImage=function(t){var e=t.imageCandidates.slice(0),n=this._getBestCandidateIf(e,function(t,e){return t.w>e.w});this._removeCandidatesIf(e,function(t){return function(e){return e.w<t.w}}(this)),0===e.length&&(e=[n]);var i=this._getBestCandidateIf(e,function(t,e){return t.h>e.h});this._removeCandidatesIf(e,function(t){return function(e){return e.h<t.h}}(this)),0===e.length&&(e=[i]);var o=this._getBestCandidateIf(e,function(t,e){return t.x>e.x});this._removeCandidatesIf(e,function(t){return function(e){return e.x<t.x}}(this)),0===e.length&&(e=[o]);var a=this._getBestCandidateIf(e,function(t,e){return t.w<e.w});this._removeCandidatesIf(e,function(t,e){return t.w>a.w});var r=this._getBestCandidateIf(e,function(t,e){return t.h<e.h});this._removeCandidatesIf(e,function(t,e){return t.h>a.h});var s=this._getBestCandidateIf(e,function(t,e){return t.x<e.x});return this._removeCandidatesIf(e,function(t,e){return t.x>s.x}),e[0]},n.prototype._getBestCandidateIf=function(t,e){for(var n=t[0],i=0;i<t.length;i++){var o=t[i];e(o,n)&&(n=o)}return n},n.prototype._removeCandidatesIf=function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n])&&t.splice(n,1)}return t},n.prototype.getBestImage2=function(t){for(var e=null,n=t.imageCandidates,i=0;i<n.length;i++){var o=n[i];if((e?e.x:0)<=o.x&&o.x<=this.x){if(null===e){e=o;continue}this.w<=o.w&&o.w<=e.w&&(e=o)}}return e},t.exports=n},function(t,e){function n(t){this.imageCandidates=[],this.srcValue=t.src,this.srcsetValue=t.srcset,this.isValid=!0,this.error="",this._parse(this.srcsetValue),this.isValid||console.log("error","Error: "+this.error)}function i(t){this.src=t.src,this.w=t.w||Infinity,this.h=t.h||Infinity,this.x=t.x||1}var o=/^[0-9]+$/;n.prototype._parse=function(){for(var t=this.srcsetValue,e=0,n=[],o,a;""!==t;){for(;" "===t.charAt(0);)t=t.slice(1);if((e=t.indexOf(" "))!==-1){if(""===(o=t.slice(0,e)))break;t=t.slice(e+1),e=t.indexOf(","),e===-1?(a=t,t=""):(a=t.slice(0,e),t=t.slice(e+1)),n.push({url:o,descriptors:a})}else n.push({url:t,descriptors:""}),t=""}for(var r=0,s=n.length;r<s;r++){var c=n[r],l=this._parseDescriptors(c.descriptors);this._addCandidate(new i({src:c.url,x:l.x,w:l.w,h:l.h}))}this.srcValue&&this._addCandidate(new i({src:this.srcValue}))},n.prototype._addCandidate=function(t){for(var e=0;e<this.imageCandidates.length;e++){var n=this.imageCandidates[e];if(n.x==t.x&&n.w==t.w&&n.h==t.h)return}this.imageCandidates.push(t)},n.prototype._parseDescriptors=function(t){for(var e=t.split(/\s/),n={},i=0;i<e.length;i++){var o=e[i];if(o.length>0){var a=o[o.length-1],r=o.substring(0,o.length-1),s=parseInt(r,10),c=parseFloat(r);r.match(/^[0-9]+$/)&&"w"===a?n[a]=s:r.match(/^[0-9]+$/)&&"h"==a?n[a]=s:isNaN(c)||"x"!=a?(this.error="Invalid srcset descriptor found in "+o+".",this.isValid=!1):n[a]=c}}return n},t.exports=n},function(t,e,n){t.exports=n(20)},function(t,e){for(var n=window,i=0,o="RequestAnimationFrame",a="CancelAnimationFrame",r=["ms","moz","webkit","o"],s=0;s<r.length&&!n.requestAnimationFrame;++s)n.requestAnimationFrame=n[r[s]+"RequestAnimationFrame"],n.cancelAnimationFrame=n[r[s]+a]||n[r[s]+a];n.requestAnimationFrame||(n.requestAnimationFrame=function(t,e){var o=(new Date).getTime(),a=Math.max(0,16-(o-i)),r=n.setTimeout(function(){t(o+a)},a);return i=o+a,r}),n.cancelAnimationFrame||(n.cancelAnimationFrame=function(t){n.clearTimeout(t)})},,function(t,e,n){function i(t,e,n){return this instanceof i?this.init(t,e,n):new i(t,e,n)}n(23),n(24);var o=n(26),a=n(4),r=n(27),s=n(14),c=function l(){return'<div id="J_Loading" class="km-loading"><span class="loading-img"></span><span class="loading-text">\u6b63\u5728\u52a0\u8f7d\u4e2d</span></div>'};a.augment(i,{init:function u(t,e,n){if(!e)throw new Error("please pase blockId");if(!t)throw new Error("please pase wrapper");this.wrapper=$(t),this.setConfig(e,n),this.initLog()},setConfig:function d(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.mixBundle(this,{isLoading:!1,pageNum:0,param:{blockId:t,startRow:0,viewId:this.getGuid(),pageSize:30,appId:""},totalItem:0,pageLimit:!1,commodityWrapper:".J_CommodityWrap",loadingWrapper:".J_LoadingWrap",loadingTmpl:c,isCloseLog:!1,lazyloadQuery:".J_Lazyload",commodityTmpl:null,goldlogConfig:{}},this.config,e),this.loadingWrapper=$(this.loadingWrapper,this.wrapper),this.commodityWrapper=$(this.commodityWrapper,this.wrapper),!this.commodityTmpl)throw new Error("please pase commodity template");if(!this.isCloseLog&&(a.isEmptyObject(this.goldlogConfig)||!this.goldlogConfig.logkey||!this.goldlogConfig.chksum))throw new Error("please pase goldlog config with logkey and chksum");if(!this.param.appId)throw new Error("please pase appId")},initLog:function h(){this.isCloseLog||(this.logEntity=new o(this.wrapper,a.merge({appId:this.param.appId,blockId:this.param.blockId},this.goldlogConfig)))},load:function p(t){var e=this;0!=this.param.startRow&&this.param.startRow>=this.totalItem||this.pageLimit!==!1&&this.pageNum>=this.pageLimit||this.isLoading||(this.isLoading=!0,this.showState("loading"),r.request({api:"mtop.taobao.tejia.fantomas.items",v:"1.0",data:a.mix(this.param,{requestId:this.getGuid()})}).then(function(n){e.isLoading=!1;var i=n.data,o=i.summary,a=i.data;if("SUCCESS"!=o)return e.showState("error"),void(t&&t(!1));e.pageNum++;var r=e.parseData(a),s=r.startRow,c=r.totalItem,l=c===undefined?0:c,u=r.data,d=r.clientInfo,h=d===undefined?{}:d;if(e.param.startRow=Number(s)+e.param.pageSize,e.totalItem=Number(l||0),u.length<=0)return e.showState("noMore"),void(t&&t(!1));e.commodityWrapper.append($(e.commodityTmpl({data:u,pageNum:e.pageNum,pvid:h.pvid,scm:h.scm,requestId:e.param.requestId,fromUnicode:e.fromUnicode,ellipsis:e.ellipsis}))),$(e.lazyloadQuery,e.wrapper).lazyload(),t&&t(!0),e.param.startRow>=e.totalItem||e.pageLimit!==!1&&e.pageNum>=e.pageLimit?e.showState("noMore"):e.showState("reset"),e.sendPV(a)})["catch"](function(n){e.isLoading=!1,e.showState("error"),t&&t(!1)}))},sendPV:function f(t){if(!this.isCloseLog){var e=t.data,n=t.clientInfo;if(n){var i=[];a.each(e,function(t,e){i.push(t.itemId)}),this.logEntity.sendPV({ids:i.join(","),page:this.pageNum,requestId:this.param.requestId,realViewId:this.param.viewId},n)}}},getGuid:function m(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},mixBundle:function g(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];a.each(n,function(e,n){a.mix(t,e,{overwrite:!0,deep:!0})})},fromUnicode:function v(t){return unescape(t.replace(/\\u/g,"%u"))},ellipsis:function _(t,e){return t.length<=e?t:t.slice(0,e)+"..."},config:{},parseData:function w(t){return t},showState:function y(t){var e="";switch(t){case"loading":e=this.loadingTmpl({});break;case"error":e="\u7cfb\u7edf\u51fa\u9519\u5566~";break;case"noMore":e="\u6682\u65e0\u66f4\u591a\u5546\u54c1~";break;case"reset":default:e=""}this.loadingWrapper.html(e)}}),t.exports=i},function(t,e){},function(t,e,n){n(25)},function(t,e){},function(t,e,n){function i(t,e){return this instanceof i?this.init(t,e):new i(t,e)}var o=n(4);o.augment(i,{init:function a(t,e){if(!t)throw new Error("please pase wrapper");this.wrapper=$(t),this.setConfig(e),this.bindEvent()},setConfig:function r(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};o.mix(this,o.merge({logkey:"",chksum:"",clickTarget:"a",appId:"",blockId:"",clientInfo:{},attrId:"data-id",attrPage:"data-pageNum",attrRequestId:"data-requestId"},t))},sendPV:function s(t,e){if(e&&(this.clientInfo=e),this.clientInfo){t=this.checkParam(t);var n=o.merge(this.clientInfo,{appId:this.appId,blockId:this.blockId,page:t.page,logType:"pv",ids:t.ids,requestId:t.requestId,flag:"new",realViewId:t.realViewId});this.sendGoldlog("",n)}},bindEvent:function c(){var t=this;this.wrapper.delegate("click",this.clickTarget,function(e){var n=$(e.currentTarget),i=t.checkParam({ids:n.attr(t.attrId),page:n.attr(t.attrPage),requestId:n.attr(t.attrRequestId)}),a=o.merge(t.clientInfo,{appId:t.appId,blockId:t.blockId,page:i.page,logType:"click",ids:i.ids,requestId:i.requestId});t.sendGoldlog("",a)})},checkParam:function l(t){var e=t.ids,n=t.page,i=t.requestId,o=t.realViewId;return e&&n&&i||console.warn("ids, page, requestId should be required"),{ids:e||"",page:n||"",requestId:i||"",realViewId:o||""}},sendGoldlog:function u(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",e=arguments[1];this.logkey&&this.chksum&&window.goldlog&&(o.isObject(e)&&(e=this.parseParam(e)),goldlog.record(this.logkey,t,e,this.chksum))},parseParam:function d(t){var e="";return o.each(t,function(t,n){e+=n+"="+t+"&"}),""!=e&&(e=e.substring(0,e.length-1)),e}}),t.exports=i},function(t,e,n){var i=n(5),o=n(12),a=n(13);t.exports={request:function r(t){var e=this;return new a(function(n,o){i.request({api:t.api,v:t.v||"1.0",data:t.data,ecode:t.ecode||"0"},function(t){n(t)},function(t,n){var i=(t&&t.ret||[]).join(",");e.checkLoginResult(i,n)?e.goLogin():o(t)})})},checkLoginResult:function s(t,e){return t.indexOf("SESSION_EXPIRED")>-1||t.indexOf("SID_INVALID")>-1||t.indexOf("AUTH_REJECT")>-1||t.indexOf("NEED_LOGIN")>-1||1==e||2==e||"1"==e||"2"==e},isLogin:function c(){return o.isLogin()},goLogin:function l(){o.goLogin()},checkAndGoLogin:function u(){this.isLogin()||this.goLogin()}}},,function(t,e,n){function i(t,e){this.CommodityClass=t,this.init(e)}n(30);var o=n(3),a=n(34);o.augment(i,{init:function r(t){this.setConfig(t),this.initTab(),this.initScrollMonitor()},setConfig:function s(){
var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};o.mixBundle(this,{tabContents:{},positions:{},tabIndex:Number(o.getUrlParam("tabIndex"))||0,isFirstOnSwitch:!0,tabEle:"#J_Tab",commodityEle:".list",dataBlockId:"data-blockId",dataExtQuery:"data-extQuery",tabTotal:0,opts:{},autoLocate:!0},t),(!o.isNumber(this.tabIndex)||this.tabIndex<0||this.tabIndex>this.tabTotal-1)&&(this.tabIndex=0)},initTab:function c(){var t=this;this.tab=$(this.tabEle).tab(o.merge(this.opts,{onSwitch:function e(){t.switchTab(this)}})),this.tab.on("beforeMove",function(){}),this.tab.moveTo(this.tabIndex)},switchTab:function l(t){if(0!=this.tabIndex&&this.isFirstOnSwitch)return void(this.isFirstOnSwitch=!1);if(!this.tabContents[t.currentIndex]){var e=$(t.currentTrigger),n=e.attr(this.dataBlockId),i=e.attr(this.dataExtQuery),o={};i&&(o={param:{extQuery:i}}),this.tabContents[t.currentIndex]=new this.CommodityClass($(this.commodityEle,t.currentContent),n,o),this.tabContents[t.currentIndex].load()}this.tabIndex=t.currentIndex,this.autoLocate&&this.setPosition(this.tabIndex),this.isFirstOnSwitch=!1},initScrollMonitor:function u(){this.scrollMonitor=new a({node:"body",delay:0,margin:300,scrollToBottom:o.bind(this.scrollToBottom,this)}).run()},scrollToBottom:function d(){this.tabContents[this.tabIndex].load()},setPosition:function h(t){var e=this.isFirstOnSwitch?0:$(this.tabEle).offset().top;window.scrollTo(0,e)}}),t.exports=i},function(t,e,n){function i(t){this.config=$.mix({el:"#J_Test",activeCls:"km-active",triggers:".km-tab-trigger",contents:".km-tab-content",contentShare:!1,contentScroll:!1,type:"normal",activePos:"1x",random:!1,position:"top",delay:0,effect:"fadeIn",scrollable:!0,autoSwitch:!0,onSwitch:null},t),this.constructor=i,this.eventHandler=$({}),this.init()}n(31);var o=n(32),a=n(33);$.mix(i.prototype,{init:function r(){this.inited||(this.render(),this.bind(),this.config.autoSwitch&&this.moveTo(),this.inited=!0)},render:function s(){this.container=$(this.config.el),this.container.addClass("km-tab");var t=this.config.data;console.log(t),$.isArray(t)&&t.length&&(t.share=!!this.config.contentShare,t.less=!!this.config.contentLess,this.container.append($(o({data:t})))),this.triggers=$(this.config.triggers,this.container),this.contents=$(this.config.contents,this.container),this.triggers.parent().addClass("km-tab-"+(this.config.type||"normal")),this.lens=this.triggers.length,this.setWidth(),this.setContents(),this.trigger("afterRender")},setWidth:function c(){var t=0,e=this.triggers.parent(),n=this.lens;this.triggers.each(function(e,n){t+=$(e).width()}),this.singleWidth=Math.round(t/n),this.config.scrollable&&t>this.container.width()?(e.width(t),this.flip=this.flip||a(e[0],{distance:(e.width()-e.parent().width())/n,maxPoint:this.triggers.length}),this.flip.refresh()):this.triggers.each(function(t,e){$(t).css("width",100/n+"%")})},setContents:function l(){var t=$(".km-tab-contents",this.container),e=this.container.width(),n=this.contents,i=null,o=this;this.config.contentScroll&&t[0]&&(t.addClass("km-content-scroll"),1==n.length&&(this.triggers.each(function(t,e){e>0&&n.after(n.clone())}),n=$(this.config.contents,t),this.contents=n,this.currentContent=n[this.currentIndex]),this._refresh())},_refresh:function u(){var t=this.container.width(),e=$(".km-tab-contents",this.container),n=this.contents;$(e).width(t*n.length),n.width(t),this.contentFlip=this.contentFlip||a(e[0]),this.contentFlip.refresh()},on:function d(t,e){this.eventHandler.on(t,e)},off:function h(t,e){this.eventHandler.off(t,e)},trigger:function p(t){this.eventHandler.trigger(t)},bind:function f(){var t=this,e=this.config.data,n=this.contentFlip,i=this.config.contentShare,o=this.config.contents;this.triggers.each(function(e,n){$(e).on("click",function(){t.moveTo(n)})}),n&&$(n.element).on("fspointmove",function(){t.moveTo(n.currentPoint)}),this.config.contentShare&&$.isArray(e)&&this.on("beforeMove",function(){$(t.currentContent).html((e[t.currentIndex]||{}).content||"")}),this.on("afterMove",function(){if(t.flip){var e=t.currentIndex;if(0===e)t.flip.moveToPoint(e);else if(e==t.triggers.length-1)t.flip.moveToPoint(e+1),$(t.triggers[e]).addClass("last");else{for(var n=0,i=t.config.activePos,o=null,a=$(t.triggers[e]).width(),r=$(t.triggers[e-1]).width(),s=$(t.triggers[e+1]).width(),c=0;c<e;c++)n-=$(t.triggers[c]).width();(o=i.match(/(\d)x/))&&(n=t.singleWidth*(o[1]-e)),"left"==i&&(n+=r/2),"right"==i&&(n+=t.container.width()-a-s/2),"center"==i&&(n+=t.container.width()/2-a/2),n>0&&(n=0),n<t.flip._maxX&&(n=t.flip._maxX),t.flip._setX(n)}}}),this.on("afterMove",function(){var e=t.config.onSwitch;"function"==typeof e&&e.call(t)})},moveTo:function m(t){if(t===undefined&&(t=this.config.random===!0&&this.currentIndex===undefined?Math.floor(Math.random()*this.triggers.length):this.currentIndex||0),(t=t>this.triggers.length-1?this.triggers.length-1:t<0?0:t)!=this.currentIndex)return this.lastIndex=this.currentIndex,this.currentIndex=t,this.currentTrigger=this.triggers[this.currentIndex],this.currentContent=this.contents[this.currentIndex]||this.contents[0],this.trigger("beforeMove"),this._move(t),this.trigger("afterMove"),this},_move:function g(t){var e=this,n=this.config.contentShare,i=this.contentFlip;this.lastIndex!==undefined?(n||i||$(this.contents[this.lastIndex]).hide(),$(this.triggers[this.lastIndex]).removeClass(this.config.activeCls)):(n||i||this.contents.each(function(t,e){$(t).hide()}),this.triggers.each(function(t,n){$(t).removeClass(e.config.activeCls)})),n||i||$(this.contents[t]).show(),i&&i.moveToPoint(this.contents.length-1<t?0:t),$(this.triggers[t]).addClass(this.config.activeCls)}}),$.fn.tab=function(t){return t=t||{},t.el=this,new i(t)},t.exports=i},function(t,e){},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="km-tab-wrapper">\n  <ul class="km-tab-triggers">\n    ',data.forEach(function(t,e){__p+='\n    <li class="km-tab-trigger"><span>'+(null==(__t=t.title)?"":__t)+"</span></li>\n    "}),__p+="\n  </ul>\n</div>\n",data.less||(__p+='\n<div class="km-content-wrapper">\n  <div class="km-tab-contents">\n',data.share?__p+='\n  <div class="km-tab-content"></div>\n':(__p+="\n  ",data.forEach(function(t,e){__p+='\n  <div class="km-tab-content">'+(null==(__t=t.content)?"":__t)+"</div>\n  "}),__p+="\n"),__p+="\n  </div>\n</div>\n"),__p+="\n";return __p}},function(t,e){function n(t,e){return this instanceof n?this.init(t,e):new n(t,e)}function i(t,e){return t.changedTouches?t.changedTouches[0][e]:t[e]}function o(t){return c(t,function(t){return d.style[t]!==undefined})}function a(t,e,n){var i=p[e];i?t[i]=n:t[e]!==undefined?(p[e]=e,t[e]=n):c(h,function(i){var o=s(i)+s(e);if(t[o]!==undefined)return p[e]=o,t[o]=n,!0})}function r(t){if(d.style[t]!==undefined)return t;var e;return c(h,function(n){var i=s(n)+s(t);if(d.style[i]!==undefined)return e="-"+n+"-"+t,!0}),e}function s(t){return t.charAt(0).toUpperCase()+t.substr(1)}function c(t,e){for(var n=0,i=t.length;n<i;n++)if(e(t[n],n))return!0;return!1}function l(t,e,n,i){var o=Math.abs(t-n),a=Math.abs(e-i);return{x:o,y:a,z:Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function u(t){var e=t.y/t.z,n=Math.acos(e);return 180/(Math.PI/n)}var d=document.createElement("div"),h=["webkit","moz","o","ms"],p={},f=n.support={},m=!1,g=5,v=55;f.transform3d=o(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),f.transform=o(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),f.transition=o(["transitionProperty","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","msTransitionProperty"]),f.addEventListener="addEventListener"in window,f.mspointer=window.navigator.msPointerEnabled,f.cssAnimation=(f.transform3d||f.transform)&&f.transition;var _=["touch","mouse"],w={start:{touch:"touchstart",mouse:"mousedown"},move:{touch:"touchmove",mouse:"mousemove"},end:{touch:"touchend",mouse:"mouseup"}};f.addEventListener&&(document.addEventListener("gesturestart",function(){m=!0}),document.addEventListener("gestureend",function(){m=!1})),n.prototype.init=function(t,e){var n=this;if(n.element=t,"string"==typeof t&&(n.element=document.querySelector(t)),!n.element)throw new Error("element not found");return f.mspointer&&(n.element.style.msTouchAction="pan-y"),e=e||{},n.distance=e.distance,n.maxPoint=e.maxPoint,n.disableTouch=e.disableTouch!==undefined&&e.disableTouch,n.disable3d=e.disable3d!==undefined&&e.disable3d,n.transitionDuration=e.transitionDuration===undefined?"350ms":e.transitionDuration+"ms",n.currentPoint=0,n.currentX=0,n.animation=!1,n.use3d=f.transform3d,n.disable3d===!0&&(n.use3d=!1),f.cssAnimation?n._setStyle({transitionProperty:r("transform"),transitionTimingFunction:"cubic-bezier(0,0,0.25,1)",transitionDuration:"0ms",transform:n._getTranslate(0)}):n._setStyle({position:"relative",left:"0px"}),n.refresh(),_.forEach(function(t){n.element.addEventListener(w.start[t],n,!1)}),n},n.prototype.handleEvent=function(t){var e=this;switch(t.type){case w.start.touch:e._touchStart(t,"touch");break;case w.start.mouse:e._touchStart(t,"mouse");break;case w.move.touch:e._touchMove(t,"touch");break;case w.move.mouse:e._touchMove(t,"mouse");break;case w.end.touch:e._touchEnd(t,"touch");break;case w.end.mouse:e._touchEnd(t,"mouse");break;case"click":e._click(t)}},n.prototype.refresh=function(){var t=this;t._maxPoint=t.maxPoint===undefined?function(){for(var e=t.element.childNodes,n=-1,i=0,o=e.length,a;i<o;i++)a=e[i],1===a.nodeType&&n++;return n}():t.maxPoint,t.distance===undefined?t._maxPoint<0?t._distance=0:t._distance=t.element.scrollWidth/(t._maxPoint+1):t._distance=t.distance,t._maxX=-t._distance*t._maxPoint,t.moveToPoint()},n.prototype.hasNext=function(){var t=this;return t.currentPoint<t._maxPoint},n.prototype.hasPrev=function(){return this.currentPoint>0},n.prototype.toNext=function(t){var e=this;e.hasNext()&&e.moveToPoint(e.currentPoint+1,t)},n.prototype.toPrev=function(t){var e=this;e.hasPrev()&&e.moveToPoint(e.currentPoint-1,t)},n.prototype.moveToPoint=function(t,e){var n=this;e=e===undefined?n.transitionDuration:e+"ms";var i=n.currentPoint;t===undefined&&(t=n.currentPoint),t<0?n.currentPoint=0:t>n._maxPoint?n.currentPoint=n._maxPoint:n.currentPoint=parseInt(t,10),f.cssAnimation?n._setStyle({transitionDuration:e}):n.animation=!0,n._setX(-n.currentPoint*n._distance,e),i!==n.currentPoint&&(n._triggerEvent("fsmoveend",!0,!1),n._triggerEvent("fspointmove",!0,!1))},n.prototype._setX=function(t,e){var n=this;n.currentX=t,f.cssAnimation?n.element.style[p.transform]=n._getTranslate(t):n.animation?n._animate(t,e||n.transitionDuration):n.element.style.left=t+"px"},n.prototype._touchStart=function(t,e){var n=this;if(!(n.disableTouch||n.scrolling||m)){n.element.addEventListener(w.move[e],n,!1),document.addEventListener(w.end[e],n,!1);var o=t.target.tagName;"mouse"===e&&"SELECT"!==o&&"INPUT"!==o&&"TEXTAREA"!==o&&"BUTTON"!==o&&t.preventDefault(),f.cssAnimation?n._setStyle({transitionDuration:"0ms"}):n.animation=!1,n.scrolling=!0,n.moveReady=!1,n.startPageX=i(t,"pageX"),n.startPageY=i(t,"pageY"),n.basePageX=n.startPageX,n.directionX=0,n.startTime=t.timeStamp,n._triggerEvent("fstouchstart",!0,!1)}},n.prototype._touchMove=function(t,e){var n=this;if(n.scrolling&&!m){var o=i(t,"pageX"),a=i(t,"pageY"),r,s;if(n.moveReady){t.preventDefault(),r=o-n.basePageX,s=n.currentX+r,(s>=0||s<n._maxX)&&(s=Math.round(n.currentX+r/3)),n.directionX=0===r?n.directionX:r>0?-1:1;!n._triggerEvent("fstouchmove",!0,!0,{delta:r,direction:n.directionX})?n._touchAfter({moved:!1,originalPoint:n.currentPoint,newPoint:n.currentPoint,cancelled:!0}):n._setX(s)}else{var c=l(n.startPageX,n.startPageY,o,a);c.z>5&&(u(c)>55?(t.preventDefault(),n.moveReady=!0,n.element.addEventListener("click",n,!0)):n.scrolling=!1)}n.basePageX=o}},n.prototype._touchEnd=function(t,e){var n=this;if(n.element.removeEventListener(w.move[e],n,!1),document.removeEventListener(w.end[e],n,!1),n.scrolling){var i=-n.currentX/n._distance;i=n.directionX>0?Math.ceil(i):n.directionX<0?Math.floor(i):Math.round(i),i<0?i=0:i>n._maxPoint&&(i=n._maxPoint),n._touchAfter({moved:i!==n.currentPoint,originalPoint:n.currentPoint,newPoint:i,cancelled:!1}),n.moveToPoint(i)}},n.prototype._click=function(t){var e=this;t.stopPropagation(),t.preventDefault()},n.prototype._touchAfter=function(t){var e=this;e.scrolling=!1,e.moveReady=!1,setTimeout(function(){e.element.removeEventListener("click",e,!0)},200),e._triggerEvent("fstouchend",!0,!1,t)},n.prototype._setStyle=function(t){var e=this,n=e.element.style;for(var i in t)a(n,i,t[i])},n.prototype._animate=function(t,e){var n=this,i=n.element,o=+new Date,a=parseInt(i.style.left,10),r=t,s=parseInt(e,10),c=function u(t,e){return-(t/=e)*(t-2)},l=setInterval(function(){var t=new Date-o,e,n;t>s?(clearInterval(l),n=r):(e=c(t,s),n=e*(r-a)+a),i.style.left=n+"px"},10)},n.prototype.destroy=function(){var t=this;_.forEach(function(e){t.element.removeEventListener(w.start[e],t,!1)})},n.prototype._getTranslate=function(t){return this.use3d?"translate3d("+t+"px, 0, 0)":"translate("+t+"px, 0)"},n.prototype._triggerEvent=function(t,e,n,i){var o=this,a=document.createEvent("Event");if(a.initEvent(t,e,n),i)for(var r in i)i.hasOwnProperty(r)&&(a[r]=i[r]);return o.element.dispatchEvent(a)},t.exports=n},function(t,e,n){function i(t){return this instanceof i?(o.mixBundle(this,{node:window,delay:15,margin:10,scrollToBottom:null},t),this.init.apply(this),this):new Error('please use "new ScrollMonitor()"')}var o=n(3);o.mix(i.prototype,{init:function a(){return o.mix(this,{_scrollTimeout:null,_scrollNode:$(this.node),afterScrollBind:o.bind(this._afterScroll,this)}),this},run:function r(){return this._bindScroll(),this},stop:function s(){return clearTimeout(this._scrollTimeout),this._lastScroll=null,this._detachScroll(),this},_bindScroll:function c(){return $(window).on("scroll",this.afterScrollBind),this},_detachScroll:function l(){return $(window).off("scroll",this.afterScrollBind),this},_afterScroll:function u(){var t=this;return clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){t._triggerScroll()},this._delay),this},_triggerScroll:function d(){var t=this._getScrollInfo(),e=this._lastScroll;if(this._lastScroll=t,!(t.scrollTop<0||t.scrollHeight-t.viewportHeight<t.scrollTop))return t.atBottom&&(!e||!e.atBottom||t.scrollHeight>e.scrollHeight)&&this.scrollToBottom(),this},_getScrollInfo:function h(){var t=$(window).height(),e=this._scrollNode.scrollTop(),n=e+t,i=this._scrollNode[0].scrollHeight;return{atBottom:n>=i-this.margin,viewportHeight:t,scrollHeight:i,scrollTop:e,scrollBottom:n}}}),t.exports=i},function(t,e,n){function i(t,e,n){return this instanceof i?this.init(t,e,n):new i(t,e,n)}var o=n(3);o.augment(i,{init:function a(t,e,n){if(!e)throw new Error("please pase source");if(!t)throw new Error("please pase wrapper");this.wrapper=$(t),this.setConfig(e,n),this.bindEvent()},setConfig:function r(t,e){o.mixBundle(this,{source:t,attrItemId:"data-itemId",attrBillingType:"data-billingType",attrClickId:"data-clickId"},e)},bindEvent:function s(){var t=this.wrapper,e=this.attrItemId,n=this.attrBillingType,i=this.source,a=this.attrClickId;t.delegate("click","a",function(t){var r=$(t.currentTarget),s=r.attr(e),c=r.attr(n),l=r.attr(a);"1"===c&&s?o.request({api:"mtop.matrixexchange.userclink.add",v:"1.0",data:{itemId:s,source:i}})["catch"](function(t){}):"2"===c&&l&&o.request({api:"mtop.taobao.coin.advertise.click.add",v:"1.0",data:{click_id:l,app_id:10,request_id:o.getGuid(),source:i}})["catch"](function(t){})})}}),t.exports=i},,,,,,,,,,,,,,,,function(t,e,n){function i(t,e){for(var n in e)e[n]!=undefined&&(t[n]=e[n])}var o=n(17),a=n(18),r=n(15),s=n(16),c=new s;n(52),n(53);var l=window.requestAnimationFrame,u=window.cancelAnimationFrame,d=function h(t){var e=this,n={width:null,container:".km-slider",wrap:".km-slider-outer",panel:null,hasNav:!0,navCls:"km-slider-nav",activeNavCls:"sel",navEvent:"tap",colspan:1,curIndex:0,duration:300,loop:!0,play:!0,interval:5e3,autoPreLoad:!0,autoWebp:!0,preLoadDelay:300,isAdaptWindowChange:!0,ready:null,beforeSlide:null,slide:null,afterSlide:null};return i(n,t),i(this,n),this.autoWebp?r.isSupport(function(t){e.isSupportWep=t,e.init()}):(e.isSupportWep=!1,e.init()),this};i(d.prototype,{init:function p(){if(this._setPublicProp(),this._readyForLoop(),this._initLoadImg(this.curIndex),this._initStyle(),$.isFunction(this.ready)&&this.ready.call(this,this),this._pages<=1)for(var t=0;t<this._pages;t++)this.getImg(this.panels[t]);else setTimeout(function(){this._dealNav(),this._increaseEvent()}.bind(this)),this.isAdaptWindowChange&&this._windowChange(),this.play&&this._windowScroll()},_windowChange:function f(){var t=this,e=["resize","orientationchange"];Array.prototype.forEach.call(e,function(e,n){window.addEventListener(e,function(){t._timer&&clearTimeout(t._timer),t._timer=setTimeout(function(){l(function(){var e=t.viewportWidth;t.viewportWidth=document.body.offsetWidth,t._setAdaptiveWidth(),t._initStyle(),e<t.viewportWidth&&(t.hasLoadPages=[]),t.smartLoadImg()})},300)})})},_windowScroll:function m(){var t=this;window.addEventListener("scroll",function(){var e;e&&clearTimeout(e),e=setTimeout(function(){var e=t.container[0].getBoundingClientRect();e.bottom>=window.innerHeight+t.container[0].offsetHeight/3||e.bottom<=t.container[0].offsetHeight/3?t.stop():t.begin()},100)})},_setPublicProp:function g(){var t=this.container=$(this.container);if(t.length&&(this.wrap=t.find(this.wrap),this.wrap.length&&(this.panel=this.panel&&t.find(this.panel)||window.Zepto?this.wrap.children().first():this.wrap.children(),this.panel.length))){var e=this.panel.children();if(this.panels=e,this.len=this.panels.length,!this.panels.length)return void this.container.hide();this._pages=Math.ceil(this.len),this._minpage=0,this._maxpage=this._pages-1,this._stopMove=!1,this.viewportWidth=document.body.offsetWidth,this._setAdaptiveWidth();var n=this._isSupport3D();this.gv1=n?"translate3d(":"translate(",this.gv2=n?",0)":")",this.hasLoadPages=[]}},_setAdaptiveWidth:function v(){var t=this.width;t&&($.isFunction(t)?t=t():t<=1&&(t=Math.ceil(t*this.viewportWidth)),this.adaptiveWidth=t)},_isSupport3D:function _(){var t,e=!1,n=document.createElement("div"),t=["&#173;",'<style id="smodernizr">',"@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}","</style>"].join(""),i=document.documentElement.style,o=$(n);return n.id="modernizr",o.html(o.html()+t),document.body.appendChild(n),"WebkitPerspective"in i&&"webkitPerspective"in i&&(e=9===n.offsetLeft&&3===n.offsetHeight),n.parentNode.removeChild(n),e},_initStyle:function w(){var t=this,e=t.panel,n=t.panels,i=n[0],o=i.offsetWidth,a=t.adaptiveWidth,r=this.len;if(a&&e.children().css("width",a),t.wrap.css({width:a||t.colspan*o,height:i.offsetHeight,"-webkit-transform":"translateZ(0)"}),this.steps=t.adaptiveWidth||o,t.loop&&(r=this.len+2*t.colspan),t._addHeightTimmer(),setTimeout(function(){l(function(){t._removeHeightTimmer()})},5e3),e.css({width:(a*r||o*r)+10,"-webkit-backface-visibility":"hidden",position:"relative","-webkit-transform":t.gv1+"0,0"+t.gv2}),!(this._pages<=1)){var s=t.loop?t.colspan:0;t.setCoord(e,0-(t.curIndex+s)*t.steps)}},_removeHeightTimmer:function y(){var t=this;t.heightTimmer&&(u(t.heightTimmer),t.heightTimmer=null)},_addHeightTimmer:function b(){var t=this;t.heightTimmer&&(u(t.heightTimmer),t.heightTimmer=null),function e(){var n=t.panels[t.curIndex].offsetHeight;(t._panelHeight!=n&&0!=n||!t._panelHeight)&&(t._panelHeight=n,t.wrap.css({height:n})),t.heightTimmer=l(e)}()},_readyForLoop:function x(){if(this.loop&&!(this._pages<=1)){for(var t=this,e=t.panel,n=t.panels,i=t.colspan,o=[],a=[],r=t.len,s=0;s<i;s++){var c=n[s].cloneNode(!0);e.append(c),o.push(c);var l=n[r-1-s].cloneNode(!0);e.prepend(l),a.push(l)}this.firstExtraPannels=o,this.lastExtraPannels=a}},_dealNav:function T(){if(this.hasNav){var t=this.navCls&&this.container.find("."+this.navCls);if(this._pages<=1)return void(t&&t.hide);if(0==t.length){var e=this.navCls;this.wrap.append('<div class="'+e+'">'+this._createNavs()+"</div>"),t=this.nav=this.container.find("."+e)}else{var n=t.children();n.length?$(n[this.curIndex]).addClass(this.activeNavCls):t.html(this._createNavs())}return this.navs=t.children(),this.navSel=this.navs[this.curIndex],this}},_createNavs:function A(){for(var t="",e=this._pages,n=0;n<e;n++)t+="<span"+(n==this.curIndex?" class="+this.activeNavCls:"")+"></span>";return t},_increaseEvent:function E(){var t=this,e=t.wrap[0],n=t.navs;if(e.addEventListener){var i="touchstart touchmove touchend webkitTransitionEnd msTransitionEnd oTransitionEnd transitionend".split(" ");for(var o in i)e.addEventListener(i[o],t,!1)}t.play&&t.begin(),t.hasNav&&n&&Array.prototype.forEach.call(n,function(e,n){$(e).on(t.navEvent,function(){t["goto"](n)})})},handleEvent:function C(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":case"touchcancel":this.end(t);break;default:this.transitionEnd(t)}},_initLoadImg:function S(t){for(var e=this.colspan,n=0;n<e;n++)this.loadImg(n+t);this.autoPreLoad&&(this.preLoad(t-1),this.preLoad(t+e))},smartLoadImg:function k(t){t=t||0;var e=this;e.loadImg(t),e.preLoad(t-1),e.preLoad(t+e.colspan)},preLoad:function I(t){var e=this;setTimeout(function(){l(function(){e.loadImg(t)})},e.preLoadDelay)},loadImg:function R(t){t=t||0;var e=this._minpage,n=this._maxpage;t<e?t=n+t+1:t>n&&(t=t-n-1);var i=$.inArray(t,this.hasLoadPages);if(i===-1||i===!1){var o=this.panels;this.getImg(o[t]),this.firstExtraPannels&&(0===t?this.loadExtraPannels(this.firstExtraPannels):t==n&&this.loadExtraPannels(this.lastExtraPannels)),this.hasLoadPages.push(t)}},loadExtraPannels:function L(t){var e=this;Array.prototype.forEach.call(t,function(t){e.getImg(t)})},getImg:function P(t){var e=this;if(t){var n=t.querySelectorAll("img");Array.prototype.forEach.call(n,function(t,n){var i=$(t);if(i.attr("data-srcset")){var r=new o;r.compute();var s=new a({src:i.attr("src"),srcset:i.attr("data-srcset")}),l=r.getBestImage(s),u=l.src,d=u.substr(-4,4);!e.isSupportWep||u.indexOf("cdn.")===-1||".jpg"!==d&&".png"!==d||(u+="_.webp");var h=i.attr("data-network");if(h=""===h?"Q50s150,Q30s150":h)return void c.weld(u,h,e.setSrc.bind(e,i));e.setSrc(i,u)}})}},setSrc:function O(t,e){t.attr("src",e)},start:function N(t){this._startTouchTime=(new Date).getTime();var e=t.touches[0];this._movestart=undefined,this._disX=0,this._coord={x:e.pageX,y:e.pageY}},disableMove:function j(){this._stopMove=!0},enableMove:function D(){this._stopMove=!1},move:function q(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){var e=t.touches[0],n=this._disX=e.pageX-this._coord.x,i;if("undefined"==typeof this._movestart&&(this._movestart=!!(this._movestart||Math.abs(n)<Math.abs(e.pageY-this._coord.y))),!this._movestart){if(t.preventDefault(),this.stop(),!this.loop){var o;o=!this.curIndex&&n>0?Math.abs(n)/this.steps+1:this.curIndex==this._maxpage&&n<0?Math.abs(n)/this.steps+1:1,n/=o}var a=this.loop?this.colspan:0,i=0-(this.curIndex+a)*this.steps+n;this._stopMove||this.setCoord(this.panel,i),this._disX=n}}},end:function U(t){if(this._endTouchTime&&this._startTouchTime&&this._startTouchTime-this._endTouchTime<300){this._endTouchTime=(new Date).getTime();var e=this.loop?this.colspan:0,n=0-(this.curIndex+e)*this.steps;return void this.setCoord(this.panel,n)}if(this._endTouchTime=(new Date).getTime(),!this._movestart){var i=this._disX;i<-10?(t.preventDefault(),this.next()):i>10&&(t.preventDefault(),this.previous()),i=null}},previous:function M(t){var e=this.curIndex,n=this._minpage;e-=1,e<n&&(e=this.loop?n-1:n),this["goto"](e,t)},next:function W(t){var e=this.curIndex,n=this._maxpage;e+=1,e>n&&(e=this.loop?n+1:n),this["goto"](e,t)},setCoord:function J(t,e){t.css("-webkit-transform",this.gv1+e+"px,0"+this.gv2)},"goto":function X(t,e){e&&$.isFunction(e)&&e.call(this,this),this.nextIndex=t||0;var n=this.beforeSlide;if(!n||!$.isFunction(n)||0!=n.call(this,this)){this.container.trigger("beforeSlide",{index:t,navnode:this.navSel,pannelnode:$(this.panels[t])}),t=t||0,this.curIndex=t;var i=this.panel,o=i[0].style,a=this.loop?this.colspan:0,r=0-(t+a)*this.steps;this.smartLoadImg(t),o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=this.duration+"ms",this.setCoord(i,r),this.loop&&(t>this._maxpage?this.curIndex=0:t<this._minpage&&(this.curIndex=this._maxpage));var s=this.slide;s&&$.isFunction(s)&&s.call(this,this),this.container.trigger("slide",{index:this.curIndex,navnode:this.navSel,pannelnode:$(this.panels[this.curIndex])}),this.update()}},transitionEnd:function F(t){var e=this.panel,n=e[0].style,i=this.loop,o=this.curIndex;if(!this.lastCurIndex||this.lastCurIndex!=o){this.lastCurIndex=o,i&&(0==o&&(n.webkitTransitionDuration=n.MozTransitionDuration=n.msTransitionDuration=n.OTransitionDuration=n.transitionDuration="0ms"),this.setCoord(e,0-(this.curIndex+this.colspan)*this.steps)),i||o!=this._maxpage?this.begin():(this.stop(),this.play=!1),n.webkitTransitionDuration=n.MozTransitionDuration=n.msTransitionDuration=n.OTransitionDuration=n.transitionDuration=0;var a=this.afterSlide;a&&$.isFunction(a)&&a.call(this,this),this.container.trigger("afterSlide",{index:this.curIndex,navnode:this.navSel,pannelnode:$(this.panels[this.curIndex])})}},update:function V(){var t=this.navs,e=this.activeNavCls,n=this.curIndex;t&&t[n]&&(this.navSel&&(this.navSel.className=""),t[n].className=e,this.navSel=t[n])},begin:function B(){var t=this;t.play&&(t._playTimer&&clearTimeout(t._playTimer),t._playTimer=setTimeout(function(){l(function(){t.next()})},t.interval))},stop:function H(){var t=this;t.play&&t._playTimer&&(clearTimeout(t._playTimer),t._playTimer=null)},destroy:function z(){var t=this,e=t.wrap[0],n=t.navs;e.removeEventListener&&(e.removeEventListener("touchstart",t,!1),e.removeEventListener("touchmove",t,!1),e.removeEventListener("touchend",t,!1),e.removeEventListener("webkitTransitionEnd",t,!1),e.removeEventListener("msTransitionEnd",t,!1),e.removeEventListener("oTransitionEnd",t,!1),e.removeEventListener("transitionend",t,!1)),t.hasNav&&n&&Array.prototype.forEach.call(n,function(e,n){$(e).off(t.navEvent)})}}),$.fn.slider=function(t){var t=t||{};return t.container=this,new d(t)},t.exports=d},function(t,e){var n=window.requestAnimationFrame||function(){window.requestAnimationFrame=window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(){var t=60,e=1e3/60,n=Date.now(),i=n;return function o(t){var e=Date.now(),o=Math.max(0,1e3/60-(e-i)),a=e+o;return i=a,setTimeout(function r(){t(a-n)},o)}}(),window.cancelAnimationFrame=window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.cancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||function t(e){clearTimeout(e)}}();t.exports=n},function(t,e){},,,,,,,,,,,,,,,,,,,,function(t,e,n){function i(t,e,n){var i=this;t=t||"",e=e||3500,n===undefined&&(n=!0),n&&o?window.WindVane.call("WVUIToast","toast",t,function(){},function(){i._init(t,e)}):i._init(t,e)}n(74),$.mix||($.mix=$.extend);var o=navigator.userAgent.match(/WindVane/);$.mix(i.prototype,{_init:function a(t,e){var n=this;n.show(t),e&&(n.timer=setTimeout(function(){n.hide()},e))},show:function r(t){var e=this,n,i;e.timer&&clearTimeout(e.timer),n=document.createTextNode(t),i=document.createElement("div"),i.className="km-toast",i.appendChild(n),document.body.appendChild(i),e.toastCon=i},hide:function s(){var t=this;t.toastCon&&$(t.toastCon).remove()}}),$.fn.toast=function(t,e,n){this.on("tap",function(){new i(t,e,n)})},t.exports=i},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,function(t,e){var n=$(window),i=function o(t){var e=$(t.el),i=this;i.top=t.top||0;var o="static";if(e.css({position:"-webkit-sticky",top:i.top+"px",zIndex:1e3}),"boolean"!=typeof t.isStatic||t.isStatic||(o=e.css("position")),"string"==typeof t.addStickyClass&&(i.addStickyClass=t.addStickyClass),e.length>0&&e.css("position").indexOf("sticky")==-1){var a=function c(){n.scrollTop()>i.ScrollTop?(r.show(),i.addStickyClass&&e.addClass(i.addStickyClass),e.css("position","fixed")):(r.hide(),i.addStickyClass&&e.removeClass(i.addStickyClass),e.css("position",o))};i.nav=e,i.setPlaceHolder();var r=i.placeHolder;i.ScrollTop=e.offset().top,setTimeout(function(){i.ScrollTop=e.offset().top-i.top},10);var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,1/60*1e3)};n.on("scroll",function(){s(a)})}};i.prototype.setPlaceHolder=function(){var t=this.nav,e=t.css("margin-top"),n=t.css("margin-bottom"),i=t[0].getBoundingClientRect().height||t.height(),o=$('<div style="height: '+i+"px;margin-top:"+e+";margin-bottom:"+n+';display:none;"></div>');t.before(o),this.placeHolder=o},i.prototype.refresh=function(){var t=this.nav;t&&(this.ScrollTop=t.offset().top,this.placeHolder.height(t.height()))},$.fn.sticky=function(t){return t=t||{},t.el=this,new i(t)},t.exports=i},function(t,e){},function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}function o(){return this instanceof o?this.init():new o}var a=n(3),r=i(a),s=n(101),c=n(102),l=i(c),u=n(104),d=i(u),h=n(19),p=i(h),f=n(98),m=i(f),g=n(73),v=i(g),_=n(108),w=i(_),y=n(113),b=i(y),x=n(115),T=i(x),A=n(116),E=i(A),C=n(117),S=i(C),k=n(118),I=i(k),R=window.requestAnimationFrame,L=window.cancelAnimationFrame,P={EMPTY:1,LESS:2,MORE:3,FULL:4},O={1:"\u7a7a",2:"\u5c11",3:"\u591a",4:"\u6ee1"};r["default"].augment(o,{init:function N(){this.isLogin=r["default"].isLogin(),this.config(),this.bindEvent(),this.fetch()},config:function j(){r["default"].mix(this,{headerWrapper:$(".J_Header"),body:$(".J_Main"),isOpen:!1,isTraggling:!1,isFirst:!0,hasReceive:!1,receiving:!1,toast:null,guid:null})},bindEvent:function D(){var t=this,e=this.headerWrapper;e.delegate("tap",".J_Fold",function(e){if(!t.isLogin)return void r["default"].goLogin();r["default"].sendStatistic("/taojinbi17.kaibaoxiang.1002","CLK","","H47879672"),t.traggle()}),e.delegate("tap",".J_ActiveArea",function(e){if(e&&e.preventDefault(),!t.hasReceive)return void t.receive();t.traggle()}),this.body.on(b["default"].animationstart,function(e){$(e.target).hasClass("J_Main")&&t.stopScroll()}),this.body.on(b["default"].animationend,function(e){$(e.target).hasClass("J_Main")&&(t.startScroll(),t.isOpen?(t.body.removeClass("down"),t.body.css({top:0})):(t.body.removeClass("up"),t.body.css({top:-184/75+"rem"})),t.sticky.refresh())})},fetch:function q(){var t=this;(0,s.parallel)({info:this.fetchInfo,chest:this.fetchChest,personal:this.fetchPersonal},function(e,n){t.data=t.parseData(n),t.initGuid(),t.renderBanner(),t.renderHeader(),t.sticky=$("#J_TabHeader").sticky()})},fetchInfo:function U(t){r["default"].request({api:"mtop.taobao.taojinbi.indexinfo.light.get",v:"1.0",data:{isNeedTakeCoin:!1}}).then(function(e){t(null,e.data)})["catch"](function(e){t(e)})},fetchChest:function M(t){r["default"].request({api:"mtop.matrixexchange.coinchest.get",v:"1.0",data:{src:"index",requestId:r["default"].getGuid(),chestType:"1"}}).then(function(e){t(null,e.data?e.data.coinChest:null)})["catch"](function(e){t(e)})},fetchPersonal:function W(t){r["default"].request({api:"mtop.taobao.tejia.fantomas.items",v:"1.0",data:{appId:"10",flowId:"51",blockId:"1052"}}).then(function(e){t(null,e.data?e.data.data:null)})["catch"](function(e){t(e)})},parseData:function J(t){var e={},n=t.info,i=t.chest,o=t.personal,a=n&&n.coinInfoResultDO?n.coinInfoResultDO.coinInfoDO:null;a?(r["default"].mix(e,{totalCoin:Number(a.coinUserSum),hasReceivedSign:r["default"].isTrue(a.coinGranted),taoValue:Number(a.taoValue),continueDays:Number(a.continuousDays)}),e.signCoin=e.hasReceivedSign?0:Number(a.coinToday)):this.isLogin=!1,e.chestCap=1,i&&r["default"].mix(e,{chestCoin:Number(i.coinNum),chestLevel:Number(i.level),
chestCap:Number(i.currentCapacity),tradeCoin:i.feature?Number(i.feature.tradeNotify):0,clubExtCoin:i.feature?Number(i.feature.tradeNotifyClubExt):0,maxCapacity:Number(i.maxCapacity)}),e.shouldOpen=this.isLogin&&(e.chestCap!==P.EMPTY||!e.hasReceivedSign),this.hasReceive=e.chestCap===P.EMPTY&&e.hasReceivedSign,e.chestCapText=O[e.chestCap];var s=n&&n.indexResult?n.indexResult.bannerJson:null;s&&r["default"].mix(e,{topBanner:s.topBanner,sliderBanner:s.sliderV5,rightsBanner:s.rightsV5,exchangeBanner:s.exchangeV6});var c=o&&o.combine?o.combine.superDeductBanner:null;if(c&&r["default"].mix(e,{leftTime:c.leftTime}),e.exchangeBanner&&!r["default"].isEmptyArray(e.exchangeBanner)){var l=c&&c.whitePicItems?c.whitePicItems:[];l=l.concat([{picUrl:"//img.alicdn.com/tps/TB1XgyzPFXXXXbUXFXXXXXXXXXX-450-450.png"},{picUrl:"//img.alicdn.com/tps/TB11EacPFXXXXbjaXXXXXXXXXXX-450-450.png"}]),l.length=2;var u="";r["default"].each(l,function(t,e){var n=t.itemId;n&&(u+=n+",")}),e.exchangeBanner[0].whiteItems=l,e.exchangeBanner[0].href=r["default"].addUrlParam(e.exchangeBanner[0].href,"topIds="+u)}return e},renderBanner:function X(){var t=this.data,e=t.topBanner,n=t.sliderBanner,i=t.rightsBanner,o=t.exchangeBanner,a=t.leftTime;e&&$(".J_TopBanner").html((0,T["default"])({data:e})),n&&new l["default"](n),i&&!r["default"].isEmptyArray(i)?$(".J_RightsWrap").html((0,E["default"])({data:i})):$(".J_RightsWrap").hide(),o&&!r["default"].isEmptyArray(o)&&($(".J_ExchangeWrap").html((0,S["default"])({data:o})),this.renderCountdown(a)),$(".J_Lazyload",".J_Banner").lazyload()},renderCountdown:function F(t){if(t){var e=$(".J_Clock",".J_ExchangeWrap");e.length<=0||((0,d["default"])({el:e,leftTime:Number(t)}).notify(0,function(){location.reload()}),e.removeClass("hidden"))}},renderHeader:function V(){var t=this.headerWrapper,e=this.isLogin,n=this.data,i=this.guid;t.html((0,I["default"])({isLogin:e,data:n})),e&&($(".J_Shadow",t).css({"background-image":"url(//gw.alicdn.com/tfs/TB1eJ3kQXXXXXbAXFXXXXXXXXXX-284-244.png)"}),this.unFoldWrapper=$(".J_UnFold",t),this.foldWrapper=$(".J_Fold",t),(n.shouldOpen||n.taoValue<400)&&(this.traggle(),i&&i.check()))},traggle:function B(){var t=this,e=this.isOpen,n=this.body,i=this.unFoldWrapper,o=this.foldWrapper,a=this.isFirst,r=this.data;if(!this.isTraggling){if(this.isTraggling=!0,e)n.removeClass("open first down").addClass("close up"),setTimeout(function(){o.removeClass("hidden"),i.addClass("hidden"),t.isTraggling=!1},500);else{var s=a&&r.shouldOpen?"open first down":"open down";this.isFirst=!1,n.removeClass("close up").addClass(s),setTimeout(function(){i.removeClass("hidden"),o.addClass("hidden"),t.isTraggling=!1},500)}this.isOpen=!e}},receive:function H(){var t=this,e=this.data;this.hasReceive||this.receiving||(this.receiving=!0,r["default"].sendStatistic("/taojinbi17.kaibaoxiang.1001","CLK","","H47879650"),(0,s.parallel)({sign:this.receiveSign,chest:this.receiveChest},function(e,n){if(t.receiving=!1,e)return void(t.toast=new v["default"]("\u597d\u50cf\u51fa\u9519\u4e86\u54e6!",1e3));t.hasReceive=!0,t.runRecieveAnim()}))},receiveSign:function z(t){r["default"].request({api:"mtop.matrixexchange.wireless.getAllCoin.receive",v:"1.0",ecode:"1",data:{}}).then(function(e){var n=e.data?e.data.mobileShakeCoinResult:null;if(!n||!r["default"].isTrue(n.success))return void t(new Error("\u7b7e\u5230\u5931\u8d25"));t(null,n)})["catch"](function(e){t(e)})},receiveChest:function G(t){r["default"].request({api:"mtop.matrixexchange.coinchest.open",v:"1.0",ecode:"1",data:{src:"index",requestId:r["default"].getGuid(),chestType:"1"}}).then(function(e){var n=e.data?e.data.coinChest:null;if(!n)return void t(new Error("\u5b9d\u7bb1\u5931\u8d25"));t(null,n)})["catch"](function(e){t(e)})},runRecieveAnim:function Q(){var t=this,e=this.headerWrapper,n=this.data;e.addClass("receive");var i=n.totalCoin,o=i===undefined?0:i,a=n.signCoin,r=a===undefined?0:a,s=n.tradeCoin,c=s===undefined?0:s,l=n.clubExtCoin,u=l===undefined?0:l,d=o+r+c+u;setTimeout(function(){t.handleCount($(".J_TotleNum",e),o,d,500),t.handleCount($(".J_SignNum",e),r,0,200),t.handleCount($(".J_TradeNum",e),c,0,200),t.handleCount($(".J_ClubExtNum",e),u,0,200),n.hasReceivedSign||$(".J_ContinueDay",e).html("\u5df2\u8fde\u7eed\u7b7e\u5230"+(n.continueDays+1)+"\u5929")},100),setTimeout(function(){t.traggle(),$(".chest-coin",e).remove(),$(".chest-anim-coin",e).remove()},1200),$(".J_TotalNumFold",e).html(d+"\u91d1\u5e01"),$(".J_ChestCapTag",e).remove()},handleCount:function Y(t,e,n,i){function o(l){a||(a=l),r=l-a,s=e+r/i*(n-e),s=c*(s-n)>=0?n:s,s=Math.floor(s),$(t).html(s),r<i&&requestAnimationFrame(o)}if(e!=n){var a=0,r=void 0,s=void 0,c=e<n?1:-1;R(o)}},stopScroll:function K(){$(window).on("touchmove",function(t){t.preventDefault()})},startScroll:function Z(){$(window).detach("touchmove")},initGuid:function tt(){var t=this.data;t.taoValue>=400&&(this.guid=new w["default"]("48","1290",t))}}),t.exports=o},function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=i(o);e["default"]={parallel:function r(t,e){function n(t,n,a){i[t]=a,n&&(o||(o={}),o[t]=n),0===--r&&e(o,i)}var i={},o=null,r=a["default"].keys(t).length;a["default"].each(t,function(t,e){t(n.bind(null,e))})}},t.exports=e["default"]},function(t,e,n){function i(t){return this instanceof i?this.init(t):new i(t)}var o=n(3),a=n(103);n(51),o.augment(i,{init:function r(t){var e=$(".J_BannerSlider");if(!t||o.isEmptyArray(t))return void e.hide();e.html(a({data:t})),(this.sliderObj=e.slider({width:1,autoPreLoad:!1,play:!0,loop:!0})).stop(),this.bindEvent()},bindEvent:function s(){var t=this;window.onload?$(window).on("load",function(){t.sliderObj.begin()}):$(document).on("ready",function(){t.sliderObj.begin()})}}),t.exports=i},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="km-slider-outer">\n  <ul>\n    ',$.each(data,function(t,e){__p+='\n    <li>\n      <a href="'+(null==(__t=t.href)?"":__t)+'" data-openwindow="true" data-spm="'+(null==(__t=e)?"":__t)+'">\n        <img src="'+(null==(__t=TJB.placeholder)?"":__t)+'"\n          data-srcset="'+(null==(__t=t.img)?"":__t)+"_320x320.jpg 1x, "+(null==(__t=t.img)?"":__t)+"_640x640.jpg 2x, "+(null==(__t=t.img)?"":__t)+'_720x720.jpg 3x"\n          data-network="Q75,Q50s150" alt="">\n      </a>\n    </li>\n    '}),__p+="\n  </ul>\n</div>\n";return __p}},function(t,e,n){function i(t){if(!(this instanceof i))return new i(t);if(t.el=$(t.el),t.el){var e=t.el.attr("data-config");e&&(e=JSON.parse(e.replace(/'/g,'"')),t=$.mix(e,t)),this.config=$.mix({el:"",stopPoint:"",leftTime:0,template:"",varRegular:/\$\{([\-\w]+)\}/g,clock:["d",100,2,"h",24,2,"m",60,2,"s",60,2,"u",10,1],effect:"normal"},t),this._init()}}n(105),$.mix||($.mix=$.extend);var o=n(106),a=n(107);$.mix(i.prototype,{_init:function r(){var t=this,e=t.get("el"),n,i=[];t.hands=i,t.frequency=1e3,t._notify=[],n=t.config.template&&""!=t.config.template?t.config.template:$(e).html();var a=t.get("varRegular");a.lastIndex=0,$(e).html(n.replace(a,function(e,n){"u"!==n&&"s-ext"!==n||(t.frequency=100);var o="";return"s-ext"===n?(i.push({type:"s"}),i.push({type:"u"}),o=t._html("","s","handlet")+t._html(".","","digital")+t._html("","u","handlet")):i.push({type:n}),t._html(o,n,"hand")}));var r=t.get("clock");Array.prototype.forEach.call(i,function(t){var n=t.type,i=100,o;for(t.node=$(".hand-"+n,e),o=r.length-3;o>-1&&n!==r[o];o-=3)i*=r[o+1];t.base=i,t.radix=r[o+1],t.bits=r[o+2]}),t._getLeft(),t._reflow();var s=t._reflow;t._reflow=function(){return s.apply(t,arguments)},o.add(t._reflow,t.frequency),e.show()},_getLeft:function s(){var t=1e3*this.get("leftTime"),e=this.get("stopPoint");!t&&e&&(t=e-(new Date).getTime()),this.left=t-t%this.frequency},_reflow:function c(t){t=t||0;var e=this;return e.left=e.left-e.frequency*t,Array.prototype.forEach.call(e.hands,function(t){t.lastValue=t.value,t.value=Math.floor(e.left/t.base)%t.radix}),e._repaint(),e._notify[e.left]&&Array.prototype.forEach.call(e._notify[e.left],function(t){t.call(e)}),e.left<1&&o.remove(e._reflow),e},_repaint:function l(){a[this.get("effect")].paint.apply(this)},_toDigitals:function u(t,e){t=t<0?0:t;for(var n=[];e--;)n[e]=t%10,t=Math.floor(t/10);return n},_html:function d(t,e,n){switch($.isArray(t)&&(t=t.join("")),n){case"hand":e=n+" hand-"+e;break;case"handlet":e=n+" hand-"+e;break;case"digital":e="."===t?n+" "+n+"-point "+e:n+" "+n+"-"+t+" "+e}return'<b class="'+e+'">'+t+"</b>"},notify:function h(t,e){t*=1e3,t-=t%this.frequency;var n=this._notify[t]||[];return n.push(e),this._notify[t]=n,this}}),$.mix(i.prototype,{get:function p(t){return this.config[t]},set:function f(t,e){this.config[t]=e}}),t.exports=i},function(t,e){},function(t,e){function n(){for(;o.length;)o.shift()();var t=+new Date-n.nextTime,e=1+Math.floor(t/100);t=100-t%100,n.nextTime+=100*e;var a,r,s,c;for(s=0,c=i.length;s<c;s+=2)a=i[s+1],0===a?i[s](e):(a+=2*e-1,r=Math.floor(a/20),r>0&&i[s](r),i[s+1]=a%20+1);setTimeout(n,t)}var i=[],o=[];n.nextTime=+new Date,n(),t.exports={add:function a(t,e){o.push(function(){i.push(t),i.push(1e3===e?1:0)})},remove:function r(t){o.push(function(){i.indexOf(t)!==-1&&i.splice(i.indexOf(t),2)})}}},function(t,e){var n="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",i={normal:{paint:function o(){var t=this,e;Array.prototype.forEach.call(t.hands,function(n){n.lastValue!==n.value&&(e="",Array.prototype.forEach.call(t._toDigitals(n.value,n.bits),function(n){e+=t._html(n,"","digital")}),n.node.html(e))})}},slide:{paint:function a(){var t=this,e,n,o,a;Array.prototype.forEach.call(t.hands,function(i){if(i.lastValue!==i.value){for(e="",n=i.bits,o=t._toDigitals(i.value,n),a=i.lastValue===undefined?o:t._toDigitals(i.lastValue,n);n--;)e=a[n]!==o[n]?t._html([t._html(o[n],"","digital"),t._html(a[n],"","digital")],"slide-wrap")+e:t._html(o[n],"","digital")+e;i.node.html(e)}}),i.slide.afterPaint.apply(t)},afterPaint:function r(){Array.prototype.forEach.call(this.hands,function(t){if(t.lastValue!==t.value&&t.lastValue!==undefined){var e=t.node,n=$(".digital",e).height();e.css("height",n);var i=$(".slide-wrap",e);i.css("top",-n),setTimeout(function(){i.addClass("km-countdown-anim")},0)}})}},flip:{paint:function s(){var t=this,e,n,o;Array.prototype.forEach.call(t.hands,function(i){i.lastValue!==i.value&&(e="",n="",o="",Array.prototype.forEach.call(t._toDigitals(i.value,i.bits),function(e){n+=t._html(e,"","digital")}),i.lastValue===undefined?i.node.html(n):(n=t._html(n,"handlet"),Array.prototype.forEach.call(t._toDigitals(i.lastValue,i.bits),function(e){o+=t._html(e,"","digital")}),e=t._html(o,"handlet mask"),o=t._html(o,"handlet"),i.node.html(n+o+e)))}),i.flip.afterPaint.apply(t)},afterPaint:function c(){var t=this;Array.prototype.forEach.call(this.hands,function(e){if(e.lastValue!==e.value&&e.lastValue!==undefined){var i=e.node,o=$(".handlet",i),a=$(o[0]),r=$(o[1]),s=$(o[2]),c=i.width(),l=i.height(),u=Math.floor(l/2);r.css({clip:"rect("+u+"px, "+c+"px, "+l+"px, 0)"}),s.css({overflow:"hidden",height:u+"px"}),s.off(n,t.callback),t.callback=function(){s.html(a.html()),s.removeClass("km-countdown-anim-part1").css({top:0,height:u+"px",clip:"rect("+u+"px, "+c+"px, "+l+"px, 0)"}),setTimeout(function(){s.css({height:l+"px"}).addClass("km-countdown-anim-part2")},0)},setTimeout(function(){s.css({top:u+"px",height:0}).addClass("km-countdown-anim-part1").on(n,t.callback)},0)}})}}};t.exports=i},function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return this instanceof o?this.init(t,e,n):new o(t,e,n)}var a=n(3),r=i(a),s=n(109),c=i(s),l=n(110),u=i(l),d=n(111),h=i(d),p=n(112),f=i(p),m={1:"\u539f\u6728\u5b9d\u7bb1",2:"\u8d64\u94dc\u5b9d\u7bb1",3:"\u767d\u94f6\u5b9d\u7bb1",4:"\u9ec4\u91d1\u5b9d\u7bb1",5:"\u4eba\u751f\u5dc5\u5cf0\u5b9d\u7bb1"},g=3,v={1:c["default"],2:u["default"],3:h["default"]};r["default"].augment(o,{init:function _(t,e,n){if(!t||!e||!n)throw new Error;r["default"].mix(this,{targetId:t,namespace:e,data:n,body:$(".J_GuidMain"),curStep:1}),this.bindEvent()},check:function w(){var t=this,e=this.targetId,n=this.namespace,i=this.body;e&&n&&r["default"].request({api:"mtop.taobao.social.aggregation.countandstatus",v:"1.0",ecode:"1",data:{targetIds:"["+e+"]",likeNamespace:n,isLikeCount:!0,isLikeStatus:!0}}).then(function(o){if(o.data){var a=o.data[""+e];if(a){var s=a[""+n];s&&!r["default"].isTrue(s.link)&&(t.noShowed=!0,i.html((0,f["default"])()),t.container=$(".J_GuidContainer",i),t.showGuid(),t.stopScroll(),t.addTag())}}})["catch"](function(){})},addTag:function y(){var t=this.targetId,e=this.namespace;t&&e&&r["default"].request({api:"mtop.taobao.social.like.add",v:"1.0",ecode:"1",data:{namespace:e,targetId:t}})},showGuid:function b(){var t=this.data,e=this.container,n=this.curStep;if(this.noShowed&&!(n>3)){var i=t.chestLevel,o=t.taoValue,a=t.chestCoin,r=t.maxCapacity;e.html(v[n]({chestLevel:i,taoValue:o,chestCoin:a,maxCapacity:r,chestName:m[i]})),2===n&&(window.scrollTo(0,0),this.stopScroll(),$(".J_GuidSecond").css({"background-image":"url(//gw.alicdn.com/tfs/TB1B1RHQFXXXXcrXVXXXXXXXXXX-750-639.png)"})),3===n&&$(".J_GuidThird").css({"background-image":"url(//gw.alicdn.com/tfs/TB1qtpNQFXXXXXBXVXXXXXXXXXX-750-530.png)"})}},bindEvent:function x(){var t=this;this.body.delegate("click",".J_GuidClose",function(e){if(e&&e.preventDefault(),t.curStep>=3)return $(".J_GuidWrap").remove(),void t.startScroll();t.curStep++,t.showGuid()})},stopScroll:function T(){$(window).on("touchmove",function(t){t.preventDefault()})},startScroll:function A(){$(window).detach("touchmove")}}),t.exports=o},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="first">\n  <p class="title">\u53d1\u653e\u91d1\u5e01\u5347\u7ea7\u5566</p>\n  <div class="chest-wrap">\n    <div class="chest-content">\n      ',chestLevel-1>=1&&(__p+='\n        <div class="chest chest-'+(null==(__t=chestLevel-1)?"":__t)+'"></div>\n        <div class="chest-coin chest-cap-4"></div>\n      '),__p+='\n    </div>\n    <div class="chest-content">\n      <div class="chest chest-'+(null==(__t=chestLevel)?"":__t)+'"></div>  \n      <div class="chest-coin chest-cap-4"></div>\n    </div>\n    <div class="chest-content">\n      ',chestLevel+1<=5&&(__p+='\n        <div class="chest chest-'+(null==(__t=chestLevel+1)?"":__t)+'"></div>\n        <div class="chest-coin chest-cap-4"></div>\n      '),__p+='\n    </div>\n  </div>\n  <p class="name">'+(null==(__t=chestName)?"":__t)+'</p>\n  <div class="content">\n    <div class="info">\n      <div class="info-item">\n        <p class="num">'+(null==(__t=taoValue)?"":__t)+'</p>\n        <p class="intro">\u6dd8\u6c14\u503c</p>\n      </div>\n      <div class="info-item">\n        <p class="num">'+(null==(__t=maxCapacity)?"":__t)+'</p>\n        <p class="intro">\u5b9d\u7bb1\u5bb9\u91cf</p>\n      </div>\n    </div>\n    <div class="des">\u7b7e\u5230\u3001\u8d2d\u7269\u3001\u9891\u9053\u8d2d\u7269\u90fd\u4f1a\u6536\u5230\u91d1\u5e01\u5e76\u4e14\u5b58\u653e\u5230\u5b9d\u7bb1\u91cc\u9762\u5662\uff5e</div>\n    <div class="button J_GuidClose">\u67e5\u770b\u5b9d\u7bb1\u9886\u91d1\u5e01\u653b\u7565</div>\n    <div class="angle"></div>\n  </div>\n</div>';return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="second J_GuidSecond J_GuidClose"></div>';return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="third J_GuidThird J_GuidClose"></div>';return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="guid-wrap J_GuidWrap">\n  <div class="J_GuidContainer"></div>\n  <div class="mask J_GuidClose"></div>  \n</div>';return __p}},function(t,e,n){t.exports=n(114)},function(t,e){function n(t){var e=t.indexOf("animation")==-1?o:a;return e!==!1&&(""===e?t:e+t.charAt(0).toUpperCase()+t.substr(1))}var i=document.createElement("div").style,o=function(){for(var t=["t","webkitT","MozT","msT","OT"],e,n=0,o=t.length;n<o;n++)if((e=t[n]+"ransform")in i)return t[n].substr(0,t[n].length-1);return!1}(),a=function(){for(var t=["a","webkitA","MozA","msA","OA"],e,n=0,o=t.length;n<o;n++)if((e=t[n]+"nimation")in i)return t[n].substr(0,t[n].length-1);return!1}(),r={prefix:o,transform:n("transform"),transition:n("transition"),transformOrigin:n("transformOrigin"),transitionDuration:n("transitionDuration"),transitionTimingFunction:n("transitionTimingFunction"),transitionend:""===o?"transitionend":n("transitionEnd"),touch:"ontouchstart"in window,pointers:window.navigator.pointerEnabled,msPointers:window.navigator.msPointerEnabled,matrix:!(!window.WebKitCSSMatrix&&!window.MSCSSMatrix),animationend:""===a?"animationend":n("animationEnd"),animationstart:""===a?"animationstart":n("animationStart"),animation:n("animation"),animationDuration:n("animationDuration"),animationDelay:n("animationDelay"),animationTimingFunction:n("animationTimingFunction"),animationIterationCount:n("animationIterationCount")};t.exports=r},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)"true"!==data.isShow&&data.isShow!==!0||(__p+="\n  ",data.frames>1&&(__p+="<style>@-webkit-keyframes walk{0%{background-position: 0 0;}20% {background-position: 0 25%;}40% {background-position: 0 50%;}60% {background-position: 0 75%;}80% {background-position: 0 100%;}100% {background-position: 0 0;}}</style>\n  "),__p+='\n  <a class="top-banner-link" href="'+(null==(__t=data.href)?"":__t)+'" target="_blank" style="display:block;background:url('+(null==(__t=data.img)?"":__t)+") no-repeat;background-size:10rem "+(null==(__t=100*data.frames)?"":__t)+'%;-webkit-animation: walk .8s steps(1) 0s infinite forwards;"></a>\n');return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)$.each(data,function(t,e){__p+='\n<li class="right-item">\n  <a href="'+(null==(__t=t.href)?"":__t)+'" data-openwindow="true" data-spm="'+(null==(__t=e)?"":__t)+'">\n    <img class="J_Lazyload" src="'+(null==(__t=TJB.placeholder)?"":__t)+'"\n      data-srcset="'+(null==(__t=t.img)?"":__t)+"_90x90.jpg 1x, "+(null==(__t=t.img)?"":__t)+"_190x190.jpg 2x, "+(null==(__t=t.img)?"":__t)+'_220x220.jpg 3x"\n      data-network="Q75,Q50s150" alt="">\n  </a>\n</li>\n'});return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)$.each(data,function(t,e){__p+='\n<li class="exchange-item">\n  <a href="'+(null==(__t=t.href)?"":__t)+'" data-openwindow="true" data-spm="'+(null==(__t=e)?"":__t)+'">\n    <img class="J_Lazyload" src="'+(null==(__t=TJB.placeholder)?"":__t)+'"\n      data-srcset="'+(null==(__t=t.img)?"":__t)+"_140x140.jpg 1x, "+(null==(__t=t.img)?"":__t)+"_284x284.jpg 2x, "+(null==(__t=t.img)?"":__t)+'_320x320.jpg 3x"\n      data-network="Q75,Q50s150" alt="">\n    ',0===e&&(__p+='\n      <span class="clock J_Clock hidden">'+(null==(__t="${h}:${m}:${s}")?"":__t)+"</span>\n    "),__p+="\n    ",t.whiteItems&&(__p+='\n      <div class="white-wrap">\n        ',$.each(t.whiteItems,function(t,e){__p+='\n          <img class="J_Lazyload white-pic" src="'+(null==(__t=TJB.placeholder)?"":__t)+'"\n            data-srcset="'+(null==(__t=t.picUrl)?"":__t)+"_140x140.jpg 1x, "+(null==(__t=t.picUrl)?"":__t)+"_284x284.jpg 2x, "+(null==(__t=t.picUrl)?"":__t)+'_320x320.jpg 3x"\n            data-network="Q75,Q50s150" alt="">\n        '}),__p+="\n      </div>\n    "),__p+="\n  </a>\n</li>\n"});return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="header-container">\n    <div class="J_UnFold hidden">\n        \n        ',data.taoValue<400?__p+='\n            <div class="user-info no-quality">\n                <p class="totle">\n                    <span class="totle-num J_TotleNum">'+(null==(__t=data.totalCoin)?"":__t)+'</span>\u91d1\u5e01\n                </p>\n                <p class="continue">\u6dd8\u6c14\u503c400\u5206\u4ee5\u4e0a\u624d\u53ef\u4ee5\u9886\u91d1\u5e01</p>\n            </div>\n            <a class="taovalue-rule" href="//market.m.taobao.com/apps/market/m-vip/raise-naughty.html" target="_blank">\u6dd8\u6c14\u503c\u89c4\u5219</a>\n        ':(__p+='\n            <div class="J_ActiveArea" data-spm-click="gostr=/taojinbi17;locaid=d001">\n                <div class="user-info">\n                    <p class="totle">\n                        <span class="totle-num J_TotleNum">'+(null==(__t=data.totalCoin)?"":__t)+"</span>\u91d1\u5e01\n                    </p>\n                    ",__p+=data.hasReceivedSign?'\n                        <p class="continue">\u5df2\u8fde\u7eed\u7b7e\u5230<span>'+(null==(__t=data.continueDays)?"":__t)+"</span>\u5929</p>\n                    ":'\n                        <p class="continue J_ContinueDay">\u6bcf\u65e5\u7b7e\u5230\u9886\u91d1\u5e01</p>\n                    ',__p+='\n                </div>\n                <a title="\u5f00\u5b9d\u7bb1\u9886\u91d1\u5e01" role="button" class="chest-wrap J_Chest" href="javascript:void(0)">\n                    <div class="chest-scale-wrap">\n                        <div class="chest-coin chest-cap-'+(null==(__t=1===data.chestCap&&data.signCoin?2:data.chestCap)?"":__t)+'"></div>\n                        <div class="chest chest-'+(null==(__t=data.chestLevel)?"":__t)+'"></div>\n                        <div class="chest-anim-coin chest-anim-coin-1"></div>\n                        <div class="chest-anim-coin chest-anim-coin-2"></div>\n                        <div class="chest-anim-coin chest-anim-coin-3"></div>\n                        <div class="chest-anim-coin chest-anim-coin-4"></div>\n                        ',4===data.chestCap&&(__p+='\n                            <div class="J_ChestCapTag chest-cap-tag">\u6ee1</div>\n                        '),__p+='\n                    </div>\n                </a>\n                <div class="shadow J_Shadow"></div>\n                <div class="chest-info">\n                    <p class="chest-info-item">\u7b7e\u5230 +<span class="J_SignNum">'+(null==(__t=data.signCoin||0)?"":__t)+'</span></p>\n                    <p class="chest-info-item">\u8d2d\u7269 +<span class="J_TradeNum">'+(null==(__t=data.tradeCoin||0)?"":__t)+'</span></p>\n                    <p class="chest-info-item">\u989d\u5916\u5956\u52b1 +<span class="J_ClubExtNum">'+(null==(__t=data.clubExtCoin||0)?"":__t)+'</span></p>\n                </div>\n            </div>\n            <a href="//market.m.taobao.com/markets/taojinbi/baoxiangxuandao" target="_blank" class="rule">\u89c4\u5219</a>\n        '),__p+='\n    </div>\n    <div class="J_Fold '+(null==(__t=data.shouldOpen?"hidden":"")?"":__t)+'" data-spm-click="gostr=/taojinbi17;locaid=d002">\n        <!-- <div class="capacity-tag">\n            <div class="capacity-tag-content">\n                <i class="icon-top iconfont">&#xe60c;</i>\n                <p class="capacity-status J_CapStatue">'+(null==(__t=1==data.chestCap?"\u7a7a":"\u6536")?"":__t)+'</p>\n            </div>\n            <div class="J_CapacityTagBg capacity-tag-bg capacity-tag-bg-'+(null==(__t=data.chestCap)?"":__t)+'"></div>\n        </div> -->\n        <p class="fold-info">\n            <i class="icon-coin"></i>\n            <span class="J_TotalNumFold">\n                '+(null==(__t=isLogin?data.totalCoin+"\u91d1\u5e01":"\u70b9\u51fb\u767b\u5f55\u5f00\u5b9d\u7bb1")?"":__t)+"\n            </span>\n        </p>  \n    </div>\n</div>";return __p}},function(t,e,n){function i(){r.apply(this,arguments)}function o(){return this instanceof o?this.init():new o}var a=n(3),r=n(29),s=n(120);a.extend(i,r),a.augment(o,{init:function c(){this.initTab()},initTab:function l(){$(".km-content-wrapper").css({"min-height":$(window).height()}),new i(s,{tabTotal:10,autoLocate:!0})}}),t.exports=o},function(t,e,n){function i(){a.apply(this,arguments)}var o=n(3),a=n(22);o.extend(i,a),o.augment(i,{config:{param:{appId:"10",bucketId:"1",flowId:"49",haveActivityItems:!0,pageSize:10},commodityTmpl:n(121),goldlogConfig:{logkey:"/tbjinbi.107.109",chksum:"H46896576"}}}),t.exports=i},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)$.each(data,function(t,e){__p+='\n  <li class="item">\n    <a href="'+(null==(__t="//h5.m.taobao.com/awp/core/detail.htm?id="+t.itemId+"&pvid="+pvid+"&scm="+scm)?"":__t)+'" data-openwindow="true" data-billingType="'+(null==(__t=t.billingType)?"":__t)+'" data-clickId="'+(null==(__t=t.coinAdvertiseClickId)?"":__t)+'" data-itemId="'+(null==(__t=t.itemId)?"":__t)+'" data-id="'+(null==(__t=t.itemId)?"":__t)+'" data-pageNum="'+(null==(__t=pageNum)?"":__t)+'" data-requestId="'+(null==(__t=requestId)?"":__t)+'">\n      <div class="img-wrap">\n        <img class="img J_Lazyload" data-src="'+(null==(__t="//gw.alicdn.com/"+t.activityPicUrl)?"":__t)+"_160x160.jpg 1x, "+(null==(__t="//gw.alicdn.com/"+t.activityPicUrl)?"":__t)+"_320x320.jpg 2x, "+(null==(__t="//gw.alicdn.com/"+t.activityPicUrl)?"":__t)+'_360x360.jpg 3x" alt="" src="'+(null==(__t=TJB.placeholder)?"":__t)+'">\n      </div>\n      <p class="title">'+(null==(__t=ellipsis(fromUnicode(t.title),28))?"":__t)+'</p>\n      <p class="price"><i class="price-symbol">&yen;</i>'+(null==(__t=t.discountPrice)?"":__t)+'<span class="origin-price"><i class="price-symbol">&yen;</i>'+(null==(__t=t.reservePrice)?"":__t)+'</span></p>\n      <p class="decrease"><i class="icon-coin"></i><span>\u518d\u62b5<i class="price-symbol">&yen;</i>'+(null==(__t=t.decreaseMoney)?"":__t)+'</span></p>\n      <p class="sell-num">'+(null==(__t=t.currentSellOut)?"":__t)+"\u4eba\u5df2\u4e70</p>\n    </a>\n  </li>\n"});return __p}},function(t,e,n){function i(t,e){for(var n in e)e[n]!=undefined&&(t[n]=e[n])}function o(t){this.options={},this.options=l,i(l,t||{}),this._init()}n(123);var a=window,r=a.innerHeight,s=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(t){return setTimeout(t,1/60*1e3)},c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.clearTimeout,l={trigger:null,position:null,onClick:function u(){}};o.prototype._init=function(){var t=this,e=t.options;if(t.wrapper=$('<div class="top-wrapper" data-spm="km_gotop"></div>'),e.trigger||(e.trigger=$('<div class="km-gotop"><span><i></i><b>\u9876\u90e8</b></span></div>').appendTo(t.wrapper)),e.bizEntry&&e.bizEntry.length)for(var n=0,i=e.bizEntry.length;n<i;n++){var o=e.bizEntry[n];if(o.text)var r='<a class="km-entry" href="'+o.url+'"><span><img src="'+o.icon+'"/><b>'+o.text+"</b></span></a>";else var r='<a class="km-entry km-noText" href="'+o.url+'"><span><img src="'+o.icon+'"/></span></a>';e.buzTrigger=$(r).insertBefore(e.trigger)}!e.bizEntry&&e.hideText&&e.trigger.addClass("km-noText"),e.position&&$(t.wrapper).css({bottom:e.position.bottom+"px",right:e.position.right+"px"});var s=10;e.trigger.on("click",function(n){n.preventDefault(),a.scrollTo(0,0),e.onClick&&e.onClick.call(t,n)}),t._lastScrollTop=0,t._EventHandler=$(a).on("scroll touchend",function(){t._lastScrollTop=$("body").scrollTop(),t.handleTimer&&clearTimeout(t.handleTimer),t.handleTimer=setTimeout(function(){t._requestTick.apply(t)},50)}),t.wrapper.appendTo("body")},o.prototype._requestTick=function(){var t=this,e=$("body").scrollTop();t._check.apply(t)},o.prototype._check=function(){var t=this;t._lastScrollTop>2*r?t.show():t.hide()},o.prototype.destroy=function(){$(a).off({type:this._EventHandler}),$(this.wrapper).remove()},o.prototype.show=function(){var t=this.options&&this.options.position||{};$(this.wrapper).addClass("km-gotop-active")},o.prototype.hide=function(){var t=this.options&&this.options.position||{};$(this.wrapper).removeClass("km-gotop-active")},o.prototype.setBottom=function(t){var e=this;$(e.wrapper).css({bottom:t+"px"})},$.fn.gotop=function(t){return t||(t={}),t.trigger=this,new o(t)},t.exports=o},function(t,e){}]);