!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,n){function i(){return this instanceof i?this.init():new i}n(124),n(2);var o=n(3),r=n(35),a=n(125),s=n(131);o.augment(i,{init:function c(){o.checkAndGoLogin(),new a,new s}}),new i,new r(".J_RecommendList","wode"),e.exports=i},,function(e,t,n){var i=n(3);n(14).setupConfig({delay:10,offsetPageY:800,maxNum:120,autoRemove:!1});var o=window.TJB={URL:{index:i.parseUrl("index3",!0),exchangeRecords:i.parseUrl("exchange-records"),coinDetails:i.parseUrl("coin-details"),exchangeDetail:i.parseUrl("exchange-detail"),myCoin:i.parseUrl("my-coin"),task:i.parseUrl("task"),coinExchange:i.parseUrl("coin-exchange"),category:i.parseUrl("category"),coinRules:"//market.m.taobao.com/markets/taojinbi/jinbibaoxiangzhinan_copy",taoxpInfo:i.parseUrl("taoxp/info"),taoxpDetail:i.parseUrl("taoxp/detail"),taoxpCreate:i.parseUrl("taoxp/create"),taoxpIndex:i.parseUrl("taoxp/index"),wishIndex:i.parseUrl("wish/index"),wishChest:i.parseUrl("wish/chest"),wishDetail:i.parseUrl("wish/detail"),wishHelp:i.parseUrl("wish/help"),wishHit:i.parseUrl("wish/hit"),wishSubmit:i.parseUrl("wish/submit"),wishMy:i.parseUrl("wish/my")},isPre:function r(){return location.origin.indexOf("wapa.taobao.com")>0},placeholder:"data:image/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII="};e.exports=o},function(e,t,n){var i=n(4);n(5),n(12);var o=n(13),r=navigator.userAgent,a=window.lib||{};e.exports=i.merge(i,{now:Date.now||function(){return(new Date).getTime()},isWindVaneSDK:function s(){return!!~r.indexOf("WindVane")},isEmptyArray:function c(e){return!e||!i.isArray(e)||0===e.length},mixBundle:function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i.each(n,function(t,n){i.mix(e,t,{overwrite:!0,deep:!0})})},getUrlParams:function l(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],t=location.search,n={};if(t.indexOf("?")==-1)return n;var i=t.substr(1),o=i.split("&"),r=void 0;return o.forEach(function(t,i){r=t.split("="),e.indexOf(r[0])!==-1&&r[1]!==undefined&&(n[r[0]]=unescape(r[1]))}),n},getUrlParam:function p(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.location.href,n=encodeURIComponent(e)+"=",i=t.indexOf(n),o=null;if(i>-1){var r=t.indexOf("&",i);r==-1&&(r=t.length),o=decodeURIComponent(t.substring(i+n.length,r))}return o},request:function d(e){var t=this;return new o(function(n,i){a.mtop.request({api:e.api,v:e.v||"1.0",data:e.data,ecode:e.ecode||"0",isSec:e.isSec||0},function(e){n(e)},function(e,n){var o=e&&e.ret;o.join&&(o=o.join(",")),t.checkLoginResult(o,n)?t.goLogin():i(e)})})},checkLoginResult:function f(e,t){return e.indexOf("SESSION_EXPIRED")>-1||e.indexOf("FAIL_SYS_SESSION_EXPIRED")>-1||e.indexOf("SID_INVALID")>-1||e.indexOf("AUTH_REJECT")>-1||e.indexOf("NEED_LOGIN")>-1||1==t||2==t||"1"==t||"2"==t},isLogin:function h(){return a.login.isLogin()},goLogin:function m(){a.login.goLogin()},checkAndGoLogin:function g(){this.isLogin()||this.goLogin()},isTrue:function w(e){return e===!0||"true"===e},sendStatistic:function _(e,t,n,o){e&&o&&window.goldlog&&(i.isObject(n)&&(n=i.param(n)),goldlog.record(e,t,n,o))},sendCode:function v(e,t){e&&((new Image).src="//gm.mmstat.com/"+e+"?"+(t?i.param(t)+"&":"")+"cache="+this.now())},getGuid:function y(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},fromUnicode:function b(e){return unescape(e.replace(/\\u/g,"%u"))},parseUrl:function A(e,t){var n=location.origin,i=t?".html":"/index.html";return~location.href.indexOf("src/p")?n+="/src/p/":~location.href.indexOf("app/tjb/www")?n+="/app/tjb/www/":~location.href.indexOf("app/wish/www")?n+="/app/wish/www/":(n+="/vip/",i=".html"),n+e+i},ellipsis:function x(e,t){return e.length<=t?e:e.slice(0,t)+"..."},initDateFormat:function E(){Date.prototype.format=Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},setTitle:function S(e){var t=this;e&&(document.title=e,window.WindVane&&WindVane.isAvailable===!0&&window.WindVane.call("WebAppInterface","setCustomPageTitle",e,function(){},function(){}))},openWindow:function I(e){if(window.WindVane&&WindVane.isAvailable===!0){var t={url:e,popBeforeOpen:!1};window.WindVane.call("Base","openWindow",t,function(e){},function(t){location.href=e})}else location.href=e},parseDate:function T(e){var t=e.match(/^(\d+)-(\d+)-(\d+) (\d+)\:(\d+)\:(\d+)$/);return new Date(t[1],t[2]-1,t[3],t[4],t[5],t[6])},htmlEncodeAll:function R(e){return null==e?"":e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},addUrlParam:function C(e,t){return e+(e.indexOf("?")==-1?"?":"&")+t},arrToObj:function k(e,t){if(!i.isArray(e)||"string"!=typeof t)return e;var n={};return e.forEach(function(e){e[t]&&(n[e[t]]=e)}),n},renderMtopUrl:function O(e){return~location.host.indexOf("waptest.taobao.com")?"//h5.waptest.taobao.com/"+e:~location.host.indexOf("wapa.taobao.com")?"//wapp.wapa.taobao.com/"+e:~location.host.indexOf("m.taobao.com")?"//h5.m.taobao.com/"+e:void 0}})},function(e,t){e.exports=$.__util__},function(e,t,n){n(6),n(7),n(11),e.exports=window.lib.mtop},function(e,t,n){n(7),n(10),e.exports=window.lib.windvane},function(e,t,n){var i,i;(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function n(e,t,o){function r(s,c){if(!t[s]){if(!e[s]){var u="function"==typeof i&&i;if(!c&&u)return i(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=t[s]={exports:{}};e[s][0].call(p.exports,function(t){var n=e[s][1][t];return r(n?n:t)},p,p.exports,n,e,t,o)}return t[s].exports}for(var a="function"==typeof i&&i,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t){function n(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){n.shift()()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=n,i.addListener=n,i.once=n,i.off=n,i.removeListener=n,i.removeAllListeners=n,i.emit=n,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(e,n){function i(e){function n(e){return null===u?void p.push(e):void a(function(){var t=u?e.onFulfilled:e.onRejected;if(null===t)return void(u?e.resolve:e.reject)(l);var n;try{n=t(l)}catch(o){return void e.reject(o)}e.resolve(n)})}function i(e){try{if(e===d)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==(void 0===e?"undefined":t(e))||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void r(n.bind(e),i,s)}u=!0,l=e,c()}catch(o){s(o)}}function s(e){u=!1,l=e,c()}function c(){for(var e=0,t=p.length;t>e;e++)n(p[e]);p=null}if("object"!=t(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var u=null,l=null,p=[],d=this;this.then=function(e,t){return new d.constructor(function(i,r){n(new o(e,t,i,r))})},r(e,i,s)}function o(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function r(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(r){if(i)return;i=!0,n(r)}}var a=e("asap");n.exports=i},{asap:4}],3:[function(e,n){function i(e){this.then=function(t){return"function"!=typeof t?this:new o(function(n,i){r(function(){try{n(t(e))}catch(r){i(r)}})})}}var o=e("./core.js"),r=e("asap");n.exports=o,i.prototype=o.prototype;var a=new i(!0),s=new i(!1),c=new i(null),u=new i(void 0),l=new i(0),p=new i("");o.resolve=function(e){if(e instanceof o)return e;if(null===e)return c;if(void 0===e)return u;if(e===!0)return a;if(e===!1)return s;if(0===e)return l;if(""===e)return p;if("object"==(void 0===e?"undefined":t(e))||"function"==typeof e)try{var n=e.then;if("function"==typeof n)return new o(n.bind(e))}catch(r){return new o(function(e,t){t(r)})}return new i(e)},o.all=function(e){var n=Array.prototype.slice.call(e);return new o(function(e,i){function o(a,s){try{if(s&&("object"==(void 0===s?"undefined":t(s))||"function"==typeof s)){var c=s.then;if("function"==typeof c)return void c.call(s,function(e){o(a,e)},i)}n[a]=s,0==--r&&e(n)}catch(u){i(u)}}if(0===n.length)return e([]);for(var r=n.length,a=0;a<n.length;a++)o(a,n[a])})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){e.forEach(function(e){o.resolve(e).then(t,n)})})},o.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":2,asap:4}],4:[function(t,n){(function(t){function i(){for(;r.next;){r=r.next;var e=r.task;r.task=void 0;var t=r.domain;t&&(r.domain=void 0,t.enter());try{e()}catch(o){if(u)throw t&&t.exit(),setTimeout(i,0),t&&t.enter(),o;setTimeout(function(){throw o},0)}t&&t.exit()}s=!1}function o(e){a=a.next={task:e,domain:u&&t.domain,next:null},s||(s=!0,c())}var r={task:void 0,next:null},a=r,s=!1,c=void 0,u=!1;if(void 0!==t&&t.nextTick)u=!0,c=function p(){t.nextTick(i)};else if("function"==typeof e)c="undefined"!=typeof window?e.bind(window,i):function(){e(i)};else if("undefined"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=i,c=function d(){l.port2.postMessage(0)}}else c=function f(){setTimeout(i,0)};n.exports=o}).call(this,t("_process"))},{_process:1}],5:[function(){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(){(arguments.length?this.then.apply(this,arguments):this).then(null,function(e){setTimeout(function(){throw e},0)})})},{}],6:[function(e){e("asap"),"undefined"==typeof Promise&&(Promise=e("./lib/core.js"),e("./lib/es6-extensions.js")),e("./polyfill-done.js")},{"./lib/core.js":2,"./lib/es6-extensions.js":3,"./polyfill-done.js":5,asap:4}]},{},[6])}).call(t,n(8).setImmediate)},function(e,t,n){(function(e,i){function o(e,t){this._id=e,this._clearFn=t}var r=n(9).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,c={},u=0;t.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function n(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=u++,i=!(arguments.length<2)&&s.call(arguments,1);return c[n]=!0,r(function o(){c[n]&&(i?e.apply(null,i):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof i?i:function(e){delete c[e]}}).call(t,n(8).setImmediate,n(8).clearImmediate)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(p===setTimeout)return setTimeout(e,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(e){return p.call(this,e,0)}}}function r(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(e){return d.call(this,e)}}}function a(){h&&m&&(h=!1,m.length?f=m.concat(f):g=-1,f.length&&s())}function s(){if(!h){var e=o(a);h=!0;for(var t=f.length;t;){for(m=f,f=[];++g<t;)m&&m[g].run();g=-1,t=f.length}m=null,h=!1,r(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l=e.exports={},p,d;!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(e){p=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var f=[],h=!1,m,g=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new c(e,t)),1!==f.length||h||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function i(e,t){e=e.toString().split("."),t=t.toString().split(".");for(var n=0;n<e.length||n<t.length;n++){var i=parseInt(e[n],10),o=parseInt(t[n],10);if(window.isNaN(i)&&(i=0),window.isNaN(o)&&(o=0),i<o)return-1;if(i>o)return 1}return 0}var o=e.Promise,r=e.document,a=e.navigator.userAgent,s=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(a)||/Windows\sNT\s[\d\.]+/i.test(a),c=s&&e.WindVane_Win_Private&&e.WindVane_Win_Private.call,u=/iPhone|iPad|iPod/i.test(a),l=/Android/i.test(a),p=a.match(/WindVane[\/\s](\d+[._]\d+[._]\d+)/),d=Object.prototype.hasOwnProperty,f=t.windvane=e.WindVane||(e.WindVane={}),h=(e.WindVane_Native,Math.floor(65536*Math.random())),m=1,g=[],w=3,_="hybrid",v="wv_hybrid",y="iframe_",b="param_",A="chunk_",x=6e5,E=6e5,S=6e4;p=p?(p[1]||"0.0.0").replace(/\_/g,"."):"0.0.0";var I={isAvailable:1===i(p,"0"),call:function C(e,t,n,i,r,a){var s,c;"number"==typeof arguments[arguments.length-1]&&(a=arguments[arguments.length-1]),"function"!=typeof i&&(i=null),"function"!=typeof r&&(r=null),o&&(c={},c.promise=new o(function(e,t){c.resolve=e,c.reject=t})),s=T.getSid();var u={success:i,failure:r,deferred:c};if(a>0&&(u.timeout=setTimeout(function(){I.onFailure(s,{ret:"HY_TIMEOUT"})},a)),T.registerCall(s,u),T.registerGC(s,a),I.isAvailable?T.callMethod(e,t,n,s):I.onFailure(s,{ret:"HY_NOT_IN_WINDVANE"}),c)return c.promise},fireEvent:function k(e,t,n){var i=r.createEvent("HTMLEvents");i.initEvent(e,!1,!0),i.param=T.parseData(t||T.getData(n)),r.dispatchEvent(i)},getParam:function O(e){return T.getParam(e)},setData:function L(e,t){T.setData(e,t)},onSuccess:function j(e,t){T.onComplete(e,t,"success")},onFailure:function N(e,t){T.onComplete(e,t,"failure")}},T={params:{},chunks:{},calls:{},getSid:function U(){return(h+m++)%65536+""},buildParam:function q(e){return e&&"object"==(void 0===e?"undefined":n(e))?JSON.stringify(e):e||""},getParam:function D(e){return this.params[b+e]||""},setParam:function P(e,t){this.params[b+e]=t},parseData:function W(e){var t;if(e&&"string"==typeof e)try{t=JSON.parse(e)}catch(e){t={ret:["WV_ERR::PARAM_PARSE_ERROR"]}}else t=e||{};return t},setData:function J(){this.chunks[A+sid]=this.chunks[A+sid]||[],this.chunks[A+sid].push(chunk)},getData:function V(e){return this.chunks[A+e]?this.chunks[A+e].join(""):""},registerCall:function M(e,t){this.calls[e]=t},unregisterCall:function B(e){var t={};return this.calls[e]&&(t=this.calls[e],delete this.calls[e]),t},useIframe:function F(e,t){var n=y+e,i=g.pop();i||(i=r.createElement("iframe"),i.setAttribute("frameborder","0"),i.style.cssText="width:0;height:0;border:0;display:none;"),i.setAttribute("id",n),i.setAttribute("src",t),i.parentNode||setTimeout(function(){r.body.appendChild(i)},5)},retrieveIframe:function H(e){var t=y+e,n=r.querySelector("#"+t);g.length>=3?r.body.removeChild(n):g.indexOf(n)<0&&g.push(n)},callMethod:function $(t,n,i,o){if(i=T.buildParam(i),s)c?e.WindVane_Win_Private.call(t,n,o,i):this.onComplete(o,{ret:"HY_NO_HANDLER_ON_WP"},"failure");else{var r="hybrid://"+t+":"+o+"/"+n+"?"+i;if(u)this.setParam(o,i),this.useIframe(o,r);else if(l){var a="wv_hybrid:";window.prompt(r,"wv_hybrid:")}else this.onComplete(o,{ret:"HY_NOT_SUPPORT_DEVICE"},"failure")}},registerGC:function X(e,t){var n=this,i=Math.max(t||0,6e5),o=Math.max(t||0,6e4),r=Math.max(t||0,6e5);setTimeout(function(){n.unregisterCall(e)},i),u?setTimeout(function(){n.params[b+e]&&delete n.params[b+e]},o):l&&setTimeout(function(){n.chunks[A+e]&&delete n.chunks[A+e]},r)},onComplete:function G(e,t,n){var i=this.unregisterCall(e),o=i.success,r=i.failure,a=i.deferred,s=i.timeout;s&&clearTimeout(s),t=t?t:this.getData(e),t=this.parseData(t);var c=t.ret;"string"==typeof c&&(t=t.value||t,t.ret||(t.ret=[c])),"success"===n?(o&&o(t),a&&a.resolve(t)):"failure"===n&&(r&&r(t),a&&a.reject(t)),u?(this.retrieveIframe(e),this.params[b+e]&&delete this.params[b+e]):l&&this.chunks[A+e]&&delete this.chunks[A+e]}};for(var R in I)d.call(f,R)||(f[R]=I[R])}(window,window.lib||(window.lib={})),e.exports=window.lib.windvane},function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),!function(e,t){function i(){var e={},t=new m(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,e}function o(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function r(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}function a(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function s(e){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}function c(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,i,o,r,a;return o=2147483648&e,r=2147483648&t,n=1073741824&e,i=1073741824&t,a=(1073741823&e)+(1073741823&t),n&i?2147483648^a^o^r:n|i?1073741824&a?3221225472^a^o^r:1073741824^a^o^r:a^o^r}function i(e,t,n){return e&t|~e&n}function o(e,t,n){return e&n|t&~n}function r(e,t,n){return e^t^n}function a(e,t,n){return t^(e|~n)}function s(e,o,r,a,s,c,u){return e=n(e,n(n(i(o,r,a),s),u)),n(t(e,c),o)}function c(e,i,r,a,s,c,u){return e=n(e,n(n(o(i,r,a),s),u)),n(t(e,c),i)}function u(e,i,o,a,s,c,u){return e=n(e,n(n(r(i,o,a),s),u)),n(t(e,c),i)}function l(e,i,o,r,s,c,u){return e=n(e,n(n(a(i,o,r),s),u)),n(t(e,c),i)}function p(e){for(var t,n=e.length,i=n+8,o=(i-i%64)/64,r=16*(o+1),a=new Array(r-1),s=0,c=0;n>c;)t=(c-c%4)/4,s=c%4*8,a[t]=a[t]|e.charCodeAt(c)<<s,c++;return t=(c-c%4)/4,s=c%4*8,a[t]=a[t]|128<<s,a[r-2]=n<<3,a[r-1]=n>>>29,a}function d(e){var t,n,i="",o="";for(n=0;3>=n;n++)t=e>>>8*n&255,o="0"+t.toString(16),i+=o.substr(o.length-2,2);return i}function f(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}var h,m,g,w,_,v,y,b,A,x=[],E=7,S=12,I=17,T=22,R=5,C=9,k=14,O=20,L=4,j=11,N=16,U=23,q=6,D=10,P=15,W=21;for(e=f(e),x=p(e),v=1732584193,y=4023233417,b=2562383102,A=271733878,h=0;h<x.length;h+=16)m=v,g=y,w=b,_=A,v=s(v,y,b,A,x[h+0],7,3614090360),A=s(A,v,y,b,x[h+1],12,3905402710),b=s(b,A,v,y,x[h+2],17,606105819),y=s(y,b,A,v,x[h+3],22,3250441966),v=s(v,y,b,A,x[h+4],7,4118548399),A=s(A,v,y,b,x[h+5],12,1200080426),b=s(b,A,v,y,x[h+6],17,2821735955),y=s(y,b,A,v,x[h+7],22,4249261313),v=s(v,y,b,A,x[h+8],7,1770035416),A=s(A,v,y,b,x[h+9],12,2336552879),b=s(b,A,v,y,x[h+10],17,4294925233),y=s(y,b,A,v,x[h+11],22,2304563134),v=s(v,y,b,A,x[h+12],7,1804603682),A=s(A,v,y,b,x[h+13],12,4254626195),b=s(b,A,v,y,x[h+14],17,2792965006),y=s(y,b,A,v,x[h+15],22,1236535329),v=c(v,y,b,A,x[h+1],5,4129170786),A=c(A,v,y,b,x[h+6],9,3225465664),b=c(b,A,v,y,x[h+11],14,643717713),y=c(y,b,A,v,x[h+0],20,3921069994),v=c(v,y,b,A,x[h+5],5,3593408605),A=c(A,v,y,b,x[h+10],9,38016083),b=c(b,A,v,y,x[h+15],14,3634488961),y=c(y,b,A,v,x[h+4],20,3889429448),v=c(v,y,b,A,x[h+9],5,568446438),A=c(A,v,y,b,x[h+14],9,3275163606),b=c(b,A,v,y,x[h+3],14,4107603335),y=c(y,b,A,v,x[h+8],20,1163531501),v=c(v,y,b,A,x[h+13],5,2850285829),A=c(A,v,y,b,x[h+2],9,4243563512),b=c(b,A,v,y,x[h+7],14,1735328473),y=c(y,b,A,v,x[h+12],20,2368359562),v=u(v,y,b,A,x[h+5],4,4294588738),A=u(A,v,y,b,x[h+8],11,2272392833),b=u(b,A,v,y,x[h+11],16,1839030562),y=u(y,b,A,v,x[h+14],23,4259657740),v=u(v,y,b,A,x[h+1],4,2763975236),A=u(A,v,y,b,x[h+4],11,1272893353),b=u(b,A,v,y,x[h+7],16,4139469664),y=u(y,b,A,v,x[h+10],23,3200236656),v=u(v,y,b,A,x[h+13],4,681279174),A=u(A,v,y,b,x[h+0],11,3936430074),b=u(b,A,v,y,x[h+3],16,3572445317),y=u(y,b,A,v,x[h+6],23,76029189),v=u(v,y,b,A,x[h+9],4,3654602809),A=u(A,v,y,b,x[h+12],11,3873151461),b=u(b,A,v,y,x[h+15],16,530742520),y=u(y,b,A,v,x[h+2],23,3299628645),v=l(v,y,b,A,x[h+0],6,4096336452),A=l(A,v,y,b,x[h+7],10,1126891415),b=l(b,A,v,y,x[h+14],15,2878612391),y=l(y,b,A,v,x[h+5],21,4237533241),v=l(v,y,b,A,x[h+12],6,1700485571),A=l(A,v,y,b,x[h+3],10,2399980690),b=l(b,A,v,y,x[h+10],15,4293915773),y=l(y,b,A,v,x[h+1],21,2240044497),v=l(v,y,b,A,x[h+8],6,1873313359),A=l(A,v,y,b,x[h+15],10,4264355552),b=l(b,A,v,y,x[h+6],15,2734768916),y=l(y,b,A,v,x[h+13],21,1309151649),v=l(v,y,b,A,x[h+4],6,4149444226),A=l(A,v,y,b,x[h+11],10,3174756917),b=l(b,A,v,y,x[h+2],15,718787259),y=l(y,b,A,v,x[h+9],21,3951481745),v=n(v,m),y=n(y,g),b=n(b,w),A=n(A,_);return(d(v)+d(y)+d(b)+d(A)).toLowerCase()}function u(e,t,n){var i=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(i.domain?";domain="+i.domain:"")+(i.path?";path="+i.path:"")+(i.secure?";secure":"")+(i.httponly?";HttpOnly":"")}function l(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function p(e,t,n){var i=new Date;i.setTime(i.getTime()-864e5);var o="/";document.cookie=e+"=;path=/;domain=."+t+";expires="+i.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+i.toGMTString()}function d(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var i=["taobao.net","taobao.com","tmall.com","tmall.hk","etao.com","alibaba-inc.com"],o=new RegExp("([^.]*?)\\.?((?:"+i.join(")|(?:").replace(/\./g,"\\.")+"))","i"),r=t.match(o)||[],a=r[2]||"taobao.com",s=r[1]||"m";"taobao.net"!==a||"x"!==s&&"waptest"!==s&&"daily"!==s?"taobao.net"===a&&"demo"===s?s="demo":"alibaba-inc.com"===a&&"zebra"===s?s="zebra":"waptest"!==s&&"wapa"!==s&&"m"!==s&&(s="m"):s="waptest";var c="etao.com"===a?"apie":"api";c="taobao.com"===a?"acs":c,v.mainDomain=a,v.subDomain=s,v.prefix=c}function f(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(v.WindVaneVersion=n[1]);var i=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);i&&(v.AliAppName=i[1],v.AliAppVersion=i[2])}function h(e){this.id=++A,this.params=o(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==n(this.params.data)&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=y.slice(0)}var m=e.Promise;if(!m){var g="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Promise\uff0c\u8bf7\u5728windows\u5bf9\u8c61\u4e0a\u6302\u8f7dPromise\u5bf9\u8c61\u53ef\u53c2\u8003\uff08http://gitlab.alibaba-inc.com/mtb/lib-es6polyfill/tree/master\uff09\u4e2d\u7684\u89e3\u51b3\u65b9\u6848";throw t.mtop={ERROR:g},new Error(g)}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var w,_=m.resolve();try{w=e.localStorage,w.setItem("@private","false")}catch(k){w=!1}var v={useAlipayJSBridge:!1},y=[],b={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};d(),f();var A=0,x="2.3.16";h.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},h.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},h.prototype.__processRequestType=function(e){var n=this,i=this.options;if(v.H5Request===!0&&(i.H5Request=!0),v.WindVaneRequest===!0&&(i.WindVaneRequest=!0),i.H5Request===!1&&i.WindVaneRequest===!0){if(!t.windvane||parseFloat(i.WindVaneVersion)<5.4)throw new Error("WINDVANE_NOT_FOUND::\u7f3a\u5c11WindVane\u73af\u5883")}else i.H5Request===!0?i.WindVaneRequest=!1:"undefined"==typeof i.WindVaneRequest&&"undefined"==typeof i.H5Request&&(t.windvane&&parseFloat(i.WindVaneVersion)>=5.4?i.WindVaneRequest=!0:i.H5Request=!0);return e?e().then(function(){var e=i.retJson.ret;return e instanceof Array&&(e=e.join(",")),i.WindVaneRequest===!0&&(!e||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1)?(v.H5Request=!0,n.__sequence([n.__processRequestType,n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])):void 0}):void 0};var E="_m_h5_c",S="_m_h5_tk",I="_m_h5_tk_enc";h.prototype.__getTokenFromAlipay=function(){var t=i(),n=this.options,o=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/)),r="AP"===n.AliAppName&&parseFloat(n.AliAppVersion)>=8.2;return n.useAlipayJSBridge===!0&&!o&&r&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",function(e){e&&e.token&&(n.token=e.token),t.resolve()},function(){t.resolve()}):t.resolve(),t.promise},h.prototype.__getTokenFromCookie=function(){var e=this.options;return e.token=e.token||l(S),e.token&&(e.token=e.token.split("_")[0]),m.resolve()},h.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,n.WindVaneRequest!==!0?_.then(function(){return t.__getTokenFromAlipay()}).then(function(){return t.__getTokenFromCookie()}).then(e).then(function(){var e=n.retJson,i=e.ret;if(i instanceof Array&&(i=i.join(",")),i.indexOf("TOKEN_EMPTY")>-1||n.CDR===!0&&i.indexOf("ILLEGAL_ACCESS")>-1||i.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes)return t.__sequence([t.__processToken,t.__processRequestUrl,t.__processUnitPrefix,t.middlewares,t.__processRequest]);n.maxRetryTimes>0&&(p(E,n.pageDomain,"*"),p(S,n.mainDomain,n.subDomain),p("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=b.TOKEN_EXPIRED}}):void e()},h.prototype.__processRequestUrl=function(t){var n=this.params,i=this.options;if(i.hostSetting&&i.hostSetting[e.location.hostname]){var o=i.hostSetting[e.location.hostname];o.prefix&&(i.prefix=o.prefix),o.subDomain&&(i.subDomain=o.subDomain),o.mainDomain&&(i.mainDomain=o.mainDomain)}if(i.H5Request===!0){var r="//"+(i.prefix?i.prefix+".":"")+(i.subDomain?i.subDomain+".":"")+i.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",a=n.appKey||("waptest"===i.subDomain?"4272":"12574478"),s=(new Date).getTime(),u=c(i.token+"&"+s+"&"+a+"&"+n.data),l={jsv:"2.3.16",appKey:a,t:s,sign:u},p={data:n.data,ua:n.ua};Object.keys(n).forEach(function(e){"undefined"==typeof l[e]&&"undefined"==typeof p[e]&&(l[e]=n[e])}),i.getJSONP?l.type="jsonp":i.getOriginalJSONP?l.type="originaljsonp":(i.getJSON||i.postJSON)&&(l.type="originaljson"),i.querystring=l,i.postdata=p,i.path=r}t()},h.prototype.__processUnitPrefix=function(t){var n=this.params,i=this.options;if(i.disabledUnit===!0)return void t();if(w&&i.H5Request===!0){var o=n.api,a=!1,s=l("_m_user_unitinfo_"),c=w.getItem("unitinfo");s&&s.split("|")[0].indexOf("center")<0&&c&&c.indexOf(o.toLowerCase())>=0&&(a=s.split("|")[1]),i.h5UnitPrefix?i.path=i.path.replace(/^\/\//,"//"+i.h5UnitPrefix):a&&i.path&&(i.useAcsUnit===!0||i.path.indexOf("taobao.com")>-1&&"acs"===i.prefix?i.path=i.path.replace(/^\/\//,"//"+a):i.path=i.path.replace(/^\/\//,"//"+a+".")),t().then(function(){if(w){var t=l("_m_unitapi_v_"),n=w.getItem("unitinfo");if(t){var o=n?JSON.parse(n):{};if(!n||t!==o.version){var a=!1,s="//h5."+i.subDomain+".taobao.com/js/mtop/unit/"+t+"/unitApi.js",c=document.createElement("script");c.src=s,c.async=!0;var u=function p(){a||(a=!0,c.onload=c.onerror=null,c.parentNode&&c.parentNode.removeChild(c))};c.onerror=function(){u()},e.jsonp_unitapi||(e.jsonp_unitapi=function(e){u(),w.setItem("unitinfo",JSON.stringify(e))}),r(c)}}}})}else t()};var T=0;h.prototype.__requestJSONP=function(e){function t(e){if(l&&clearTimeout(l),p.parentNode&&p.parentNode.removeChild(p),"TIMEOUT"===e)window[u]=function(){window[u]=void 0;try{delete window[u]}catch(e){}};else{window[u]=void 0;try{delete window[u]}catch(t){}}}var n=i(),o=this.params,s=this.options,c=o.timeout||2e4,u="mtopjsonp"+ ++T,l=setTimeout(function(){e("TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),t("TIMEOUT")},c);s.querystring.callback=u;var p=document.createElement("script");return p.src=s.path+"?"+a(s.querystring)+"&"+a(s.postdata),p.async=!0,p.onerror=function(){t("ABORT"),e("ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")},window[u]=function(){s.results=Array.prototype.slice.call(arguments),t(),n.resolve()},r(p),n.promise},h.prototype.__requestJSON=function(t){function n(e){d&&clearTimeout(d),"TIMEOUT"===e&&u.abort()}var o=i(),r=this.params,c=this.options,u=new e.XMLHttpRequest,p=r.timeout||2e4,d=setTimeout(function(){t("TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),n("TIMEOUT")},p);c.pageDomain=c.pageDomain||s(e.location.hostname),c.mainDomain!=c.pageDomain&&(c.maxRetryTimes=3,c.CDR=!0,l(E)&&(c.querystring.c=decodeURIComponent(l(E)))),u.onreadystatechange=function(){if(4==u.readyState){var e,i,r=u.status;if(r>=200&&300>r||304==r){n(),e=u.responseText,i=u.getAllResponseHeaders()||"";try{e=/^\s*$/.test(e)?{}:JSON.parse(e),e.responseHeaders=i,c.results=[e],o.resolve()}catch(s){t("PARSE_JSON_ERROR::\u89e3\u6790JSON\u5931\u8d25")}}else n("ABORT"),t("ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")}};var f,h,m=c.path+"?"+a(c.querystring);if(c.getJSON?(f="GET",m+="&"+a(c.postdata)):c.postJSON&&(f="POST",h=a(c.postdata)),u.open(f,m,!0),u.withCredentials=!0,u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.headers)for(var g in r.headers)u.setRequestHeader(g,r.headers[g]);return u.send(h),o.promise},h.prototype.__requestWindVane=function(e){function n(e){u.results=[e],s.resolve()}var o,r,a,s=i(),c=this.params,u=this.options,l=c.data,p=c.api,d=c.v,f=u.postJSON?1:0,h=u.getJSON||u.postJSON?"originaljson":"",m="https"===location.protocol?1:0,g=c.isSec||0,w=c.sessionOption||"AutoLoginOnly"
;if("undefined"==typeof c.ecode)throw new Error("UNEXCEPT_PARAM_ECODE::\u7f3a\u5c11ecode\u53c2\u6570");return o=parseInt(c.ecode),a="undefined"!=typeof c.timer?parseInt(c.timer):"undefined"!=typeof c.timeout?parseInt(c.timeout):2e4,r=2*a,c.needLogin===!0&&"undefined"==typeof c.sessionOption&&(w="AutoLoginAndManualLogin"),"undefined"!=typeof c.secType&&"undefined"==typeof c.isSec&&(g=c.secType),t.windvane.call("MtopWVPlugin","send",{api:p,v:d,post:String(f),type:h,isHttps:String(m),ecode:String(o),isSec:String(g),param:JSON.parse(l),timer:a,sessionOption:w,ext_headers:{referer:location.href}},n,n,r),s.promise},h.prototype.__processRequest=function(e,t){var n=this;return _.then(function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::\u9519\u8bef\u7684\u8bf7\u6c42\u7c7b\u578b")}).then(e).then(function(){var e=n.options,t=(n.params,e.results[0]),i=t&&t.ret||[];t.ret=i,i instanceof Array&&(i=i.join(","));var o=t.c;if(e.CDR&&o){var r=o.split(";");u(E,o,{domain:e.pageDomain,path:"/"}),u(S,r[0],{domain:e.pageDomain,path:"/"})}i.indexOf("SUCCESS")>-1?t.retType=b.SUCCESS:t.retType=b.ERROR,e.retJson=t})},h.prototype.__sequence=function(e){function t(e){if(e instanceof Array)e.forEach(t);else{var a,s=i(),c=i();o.push(function(){return s=i(),a=e.call(n,function(e){return s.resolve(e),c.promise},function(e){return s.reject(e),c.promise}),a&&(a=a["catch"](function(e){s.reject(e)})),s.promise}),r.push(function(e){return c.resolve(e),a})}}var n=this,o=[],r=[];e.forEach(t);for(var a,s=_;a=o.shift();)s=s.then(a);for(;a=r.pop();)s=s.then(a);return s};var R=function O(e){e()},C=function L(e){e()};h.prototype.request=function(e){var t=this;this.options=o(e||{},v);var n=m.resolve([R,C]).then(function(e){var n=e[0],i=e[1];return t.__sequence([n,t.__processRequestMethod,t.__processRequestType,t.__processToken,t.__processRequestUrl,t.__processUnitPrefix,t.middlewares,t.__processRequest,i])}).then(function(){var e=t.options.retJson;return e.retType!==b.SUCCESS?m.reject(e):t.options.successCallback?void t.options.successCallback(e):m.resolve(e)})["catch"](function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:b.ERROR}):n="string"==typeof e?{ret:[e],retJson:b.ERROR}:void 0!==e?e:t.options.retJson,t.options.failureCallback?void t.options.failureCallback(n):m.reject(n)});return this.__processRequestType(),t.options.H5Request&&(t.constructor.__firstProcessor||(t.constructor.__firstProcessor=n),R=function i(e){t.constructor.__firstProcessor.then(e)["catch"](e)}),n},t.mtop=function(e){return new h(e)},t.mtop.request=function(e,t,n){var i={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new h(e).request(i)},t.mtop.H5Request=function(e,t,n){var i={H5Request:!0,successCallback:t,failureCallback:n||t};return new h(e).request(i)},t.mtop.middlewares=y,t.mtop.config=v,t.mtop.RESPONSE_TYPE=b,t.mtop.CLASS=h}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function i(t,i){var o=this,r=e.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/r,u=Math.max(s.height,window.innerHeight)/r;a.style.cssText=["-webkit-transform:scale("+r+") translateZ(0)","-ms-transform:scale("+r+") translateZ(0)","transform:scale("+r+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+u+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var l=document.createElement("div");l.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),l.innerText=t;var p=document.createElement("a");p.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),p.innerText="\u5173\u95ed";var d=document.createElement("iframe");d.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),l.appendChild(p),a.appendChild(l),a.appendChild(d),document.body.appendChild(a),d.src=i,p.addEventListener("click",function(){o.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),a.dispatchEvent(e)},!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-s.top),a.parentNode&&a.parentNode.removeChild(a)}}function o(e){var n=this,i=this.options,o=this.params;return e().then(function(){var e=i.retJson,r=e.ret;if(r instanceof Array&&(r=r.join(",")),(r.indexOf("SESSION_EXPIRED")>-1||r.indexOf("SID_INVALID")>-1||r.indexOf("AUTH_REJECT")>-1||r.indexOf("NEED_LOGIN")>-1)&&(e.retType=l.SESSION_EXPIRED,!i.WindVaneRequest&&(u.LoginRequest===!0||i.LoginRequest===!0||o.needLogin===!0))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::\u7f3a\u5c11lib.login");if(i.CDR!==!0)return t.login.goLoginAsync().then(function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})["catch"](function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::\u7528\u6237\u53d6\u6d88\u767b\u5f55"):new Error("LOGIN_FAILURE::\u7528\u6237\u767b\u5f55\u5931\u8d25")});t.login.goLogin()}})}function r(e){var t=this.options;return this.params,t.H5Request!==!0||u.AntiFlood!==!0&&t.AntiFlood!==!0?void e():e().then(function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)})}function a(t){var n=this,o=this.options,r=this.params;return r.forceAntiCreep!==!0&&o.H5Request!==!0||u.AntiCreep!==!0&&o.AntiCreep!==!0?void t():t().then(function(){var t=o.retJson,a=t.ret;return a instanceof Array&&(a=a.join(",")),a.indexOf("RGV587_ERROR::SM")>-1&&t.data.url?new s(function(o,a){function s(){l.removeEventListener("close",s),e.removeEventListener("message",c),a("USER_INPUT_CANCEL::\u7528\u6237\u53d6\u6d88\u8f93\u5165")}function c(t){var i;try{i=JSON.parse(t.data)||{}}catch(u){}if(i&&"child"===i.type){l.removeEventListener("close",s),e.removeEventListener("message",c),l.hide();var u;try{"string"==typeof(u=JSON.parse(decodeURIComponent(i.content)))&&(u=JSON.parse(u));for(var p in u)r[p]=u[p];n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(u){a("USER_INPUT_FAILURE::\u7528\u6237\u8f93\u5165\u5931\u8d25")}}}var u=t.data.url,l=new i("",u);l.addEventListener("close",s,!1),e.addEventListener("message",c,!1),l.show()}):void 0})}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop \u521d\u59cb\u5316\u5931\u8d25\uff01\u8bf7\u53c2\u8003Mtop\u6587\u6863http://gitlab.alibaba-inc.com/mtb/lib-mtop");var s=e.Promise,c=t.mtop.CLASS,u=t.mtop.config,l=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push(o),t.mtop.loginRequest=function(e,t,n){var i={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new c(e).request(i)},t.mtop.antiFloodRequest=function(e,t,n){var i={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new c(e).request(i)},t.mtop.middlewares.push(r),t.mtop.antiCreepRequest=function(e,t,n){var i={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new c(e).request(i)},t.mtop.middlewares.push(a)}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},function(e,t){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t,n){function i(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(b.cookie);return t?t[1]:n}function o(e){return e.preventDefault(),!1}function r(t,n){var i=this,r=e.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/r,u=Math.max(s.height,window.innerHeight)/r;a.style.cssText=["-webkit-transform:scale("+r+") translateZ(0)","-ms-transform:scale("+r+") translateZ(0)","transform:scale("+r+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+u+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var l=document.createElement("div");l.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),l.innerText=t;var p=document.createElement("a");p.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),p.innerText="\u5173\u95ed";var d=document.createElement("iframe");d.style.cssText=["width:100%","height:"+window.innerHeight/r+"px","border:0","overflow:hidden"].join(";"),l.appendChild(p),a.appendChild(l),a.appendChild(d),b.body.appendChild(a),d.src=n,p.addEventListener("click",function(){i.hide();var e=b.createEvent("HTMLEvents");e.initEvent("close",!1,!1),a.dispatchEvent(e)},!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",o,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",o),window.scrollTo(0,-s.top),b.body.removeChild(a)}}function a(e){if(!e||"function"!=typeof e||!t.mtop){return!!this.getUserNick()}t.mtop.request({api:"mtop.user.getUserSimple",v:"1.0",data:{isSec:0},H5Request:!0},function(i){i.retType===t.mtop.RESPONSE_TYPE.SUCCESS?e(!0,i):i.retType===t.mtop.RESPONSE_TYPE.SESSION_EXPIRED?e(!1,i):e(n,i)})}function s(e){var t;return y&&(t={},t.promise=new y(function(e,n){t.resolve=e,t.reject=n})),this.isLogin(function(n,i){e&&e(n,i),n===!0?t&&t.resolve(i):t&&t.reject(i)}),t?t.promise:void 0}function c(e){if(!e||"function"!=typeof e){var t="",o=i("_w_tb_nick"),r=i("_nk_")||i("snk"),a=i("sn");return o&&o.length>0&&"null"!=o?t=decodeURIComponent(o):r&&r.length>0&&"null"!=r?t=unescape(unescape(r).replace(/\\u/g,"%u")):a&&a.length>0&&"null"!=a&&(t=decodeURIComponent(a)),t=t.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}this.isLogin(function(t,i){e(t===!0&&i&&i.data&&i.data.nick?i.data.nick:t===!1?"":n)})}function u(e){var t;return y&&(t={},t.promise=new y(function(e,n){t.resolve=e,t.reject=n})),this.getUserNick(function(n){e&&e(n),n?t&&t.resolve(n):t&&t.reject()}),t?t.promise:void 0}function l(e,n){var i="//"+L+"."+j.subDomain+"."+k+"/"+j[(e||"login")+"Name"];if(n){var o=[];for(var r in n)o.push(r+"="+encodeURIComponent(n[r]));i+="?"+o.join("&")}var a=t.login.config.loginUrlParams;if(a){var s=[];for(var c in a)s.push(c+"="+encodeURIComponent(a[c]));i+=/\?/.test(i)?"&"+s.join("&"):"?"+o.join("&")}return i}function p(e,t){t?location.replace(e):location.href=e}function d(t,n,i){function o(t){u.removeEventListener("close",o),e.removeEventListener("message",a),i("CANCEL")}function a(t){var n=t.data||{};n&&"child"===n.type&&n.content.indexOf("SUCCESS")>-1?(u.removeEventListener("close",o),e.removeEventListener("message",a),u.hide(),i("SUCCESS")):i("FAILURE")}var s=location.protocol+"//h5."+j.subDomain+".taobao.com/"+("waptest"===j.subDomain?"src":"other")+"/"+t+"end.html?origin="+encodeURIComponent(location.protocol+"//"+location.hostname),c=l(t,{ttid:"h5@iframe",redirectURL:s}),u=new r(n.title||"\u60a8\u9700\u8981\u767b\u5f55\u624d\u80fd\u7ee7\u7eed\u8bbf\u95ee",c);u.addEventListener("close",o,!1),e.addEventListener("message",a,!1),u.show()}function f(t,n,i){var o=l(t,{wvLoginCallback:"wvLoginCallback"});e.wvLoginCallback=function(t){delete e.wvLoginCallback,i(t.indexOf(":SUCCESS")>-1?"SUCCESS":t.indexOf(":CANCEL")>-1?"CANCEL":"FAILURE")},p(o)}function h(e,t,n){if("function"==typeof t?(n=t,t=null):"string"==typeof t&&(t={redirectUrl:t}),t=t||{},n&&I)f(e,t,n);else if(n&&!S&&"login"===e)d(e,t,n);else{var i=l(e,{redirectURL:t.redirectUrl||location.href});p(i,t.replace)}}function m(e,t,n){var i;return y&&(i={},i.promise=new y(function(e,t){i.resolve=e,i.reject=t})),h(e,t,function(e){n&&n(e),"SUCCESS"===e?i&&i.resolve(e):i&&i.reject(e)}),i?i.promise:void 0}function g(e){h("login",e)}function w(e){return m("login",e)}function _(e){h("logout",e)}function v(e){return m("logout",e)}var y=e.Promise,b=e.document,A=e.navigator.userAgent,x=location.hostname,E=(e.location.search,A.match(/WindVane[\/\s]([\d\.\_]+)/)),S=A.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i),I=!!(S&&"TB"===S[1]&&E&&parseFloat(E[1])>5.2),T=["taobao.net","taobao.com"],R=new RegExp("([^.]*?)\\.?((?:"+T.join(")|(?:").replace(/\./g,"\\.")+"))","i"),C=x.match(R)||[],k=function(){return(C[2]||"taobao.com").match(/\.?taobao\.net$/)?"taobao.net":"taobao.com"}(),O=function(){var e=k,t=C[1]||"m";return"taobao.net"===e&&(t="waptest"),"m"!=t&&"wapa"!=t&&"waptest"!=t&&(t="m"),t}(),L="login";t.login=t.login||{};var j={loginName:"login.htm",logoutName:"logout.htm",subDomain:O};t.login.config=j,t.login.isLogin=a,t.login.isLoginAsync=s,t.login.getUserNick=c,t.login.getUserNickAsync=u,t.login.generateUrl=l,t.login.goLogin=g,t.login.goLoginAsync=w,t.login.goLogout=_,t.login.goLogoutAsync=v}(window,window.lib||(window.lib={})),e.exports=window.lib.login},function(e,t){e.exports=$.__promise__},function(e,t,n){function i(e,t){for(var n in t)t[n]!=undefined&&(e[n]=t[n])}function o(e){if(r(e),"object"===g(o.instance))return u(),o.instance;s(function(){u(),d()}),o.instance=this}function r(e){O=O.concat(a(e))}function a(e){var t=[];return[].forEach.call(e,function(n,i){-1===O.indexOf(n)&&-1===L.indexOf(n)&&t.push(e[i])}),t}function s(e){function t(){0===--n&&e&&e()}if(!c()&&!V.autoWebp)return void(e&&e());var n=0;c()&&(n++,y.getNetwork(function(e,n){C=e,t()})),V.autoWebp&&(n+=2,_.isSupport(function(e){T=e,t()}),_.isSupport(function(e){R=e,t()},"alpha"))}function c(){return V.enableIOSWifiLoad&&window.WindVane&&1==window.WindVane.isAvailable}function u(e){e=e||0;for(var t=O.length,n=V.enableIOSWifiLoad&&M&&"WIFI"==C,i=[],o=0;o<t;o++){var r=O[o],a=$(O[o]);if(n||V.stop||a.inView(V.offsetY,e)){var s=a.attr("data-bestsrc");if(s||L.indexOf(r)!==-1)L.indexOf(r)===-1&&L.push(r);else{var c=a.attr("data-srcset")||a.attr("data-src");if(c){L.push(r);var u=new A({src:a.attr("src"),srcset:c});s=x.getBestImage(u).src;var p=s.substr(-4,4);if(s.indexOf("cdn.")!=-1){if(".png"===p&&R||".jpg"===p&&T){var d=a.attr("data-webpsuffix");s+=d?d:k}var f=a.attr("data-network");if(".jpg"===p&&"close"!=f){f=a.attr("data-network"),f=f&&f.replace(/\s/g,""),f=f?f:"Q50s150,Q30s150",function(e,t,n){y.weld(e,t,function(e){l(n,e)})}(s,f,a);continue}}l(a,s)}}}else i.push(r)}O=i}function l(e,t){if(V.autoAnim)if(p(e),"img"==e[0].tagName.toLowerCase())e.on("load",function(){e.css("opacity",1)});else{var n="_lazyLoadImgRef"+Math.random();window[n]=$(new Image),window[n].on("load",function(){e.css("opacity",1),e.css({"background-image":"url("+t+")","background-repeat":"no-repeat","background-position":"center center","background-size":"cover"}),delete window[n]}),window[n].attr("src",t)}e.attr("data-lazyimg",e.attr("src")),e.attr("src",t),e.attr("data-bestsrc",t)}function p(e){e.css({"-webkit-transition":"opacity .35s",transition:"opacity .35s",opacity:0})}function d(){j||(j=!0,V.el.on("scroll",function(e){O.length>0&&(U=V.el.scrollTop()),N||S(function(){u(),N=!1}),N=!0}),V.el.on("resize",function(e){U=V.el.scrollTop(),P=V.el.height(),u()}),M&&V.el.on("touchend",function(e){D={y:(e.changedTouches?e.changedTouches[0]:e).pageY,time:(new Date).getTime()},D.y-q.y>5&&h()}).on("touchstart",function(e){q={y:(e.touches?e.touches[0]:e).pageY,time:(new Date).getTime()},h(P)}),window.MutationObserver&&V.observeDomChanges&&(W=new MutationObserver(function(e){f(e)}),W.observe(V.observeWrapper,J)))}function f(e){var t,n,i,o;e.forEach(function(e){t=e.removedNodes,t.forEach(function(e){"img"==e.tagName.toLowerCase()&&(n=$(e),i=n.attr("data-bestsrc")?L:O,(o=i.indexOf(e))>-1&&i.splice(o,1))})})}function h(e){u(e||m())}function m(){var e=D.y-q.y,t=D.time-q.time;t=t||1;var n=e/t,i=.005;return.5*n*(n/.005)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=n(10),_=n(15),v=n(16),y=new v,b=n(17),A=n(18),x=new b,E=n(19),S=window.requestAnimationFrame,I=window.cancelAnimationFrame,T=!1,R=!1,C="",k="_.webp",O=[],L=[],j=!1,N=!1,U,q={},D={},P=0,W,J={subtree:!0,childList:!0,attributes:!1},V={offsetY:0,maxNum:120,autoWebp:!0,autoAnim:!1,el:$(window),enableIOSWifiLoad:!1,observeDomChanges:!1,observeWrapper:document,stop:!1},M=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);i($.fn,{inView:function B(e,t){e=e||0,t=t||0;var n=U+t,i=$(this).offset(),o=V.el[0]!=window?this[0].offsetTop:i.top,r=o+(i.height||$(this).height());return o>=n-e&&o<=n+P+e||r>=n-e&&r<=n+P+e},lazyload:function F(e){e=e||{},e.el&&(e.el=$(e.el)),i(V,e),x.compute(),P=x.h,$(V.el)[0]!=window&&(V.el=$(V.el),P=V.el.height()),U=V.el.scrollTop(),new o(this.slice(0))}}),e.exports={setupConfig:function H(e){i(V,e)},destroy:function X(){O=[],L=[]}}},function(e,t){function n(e,t){if("function"==typeof e){var n=new Image;n.onload=function(){var o=n.width>0&&n.height>0;i(o,t),e(o)},n.onerror=function(){i(!1,t),e(!1)},n.src="data:image/webp;base64,"+r[t]}}function i(e,t){if(window.localStorage&&"function"==typeof window.localStorage.setItem)try{window.localStorage.setItem("webpsupport-"+t,e)}catch(n){}}function o(e,t){if("function"==typeof e)if(t=t||"lossy",window.navigator.userAgent.match(/windows|win32/i)||a&&window.navigator.userAgent.match(/UCBrowser/i))e(!1);else if(window.chrome||window.opera)e(!0);else{var i=window.localStorage&&window.localStorage.getItem("webpsupport-"+t);i?e("true"==i):n(e,t)}}var r={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},a=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),s=!!navigator.userAgent.match(/windvane/i),c={};c.isSupport=o,e.exports=c},function(e,t,n){function i(e){if("object"===r(i.instance))return i.instance;this._init(e),i.instance=this}function o(e,t){for(var n in t)t[n]!=undefined&&(e[n]=t[n])}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(10),s=window.navigator.userAgent,c={network:["Q50s100","Q30s100"],enableDomainMerge:!0,mergeDomain:"gw.alicdn.com",enableRemoveScheme:!0,strongNet:["WIFI"]},u=/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.com)\/(.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i,l=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i;o(i.prototype,{network:null,poll:[],callback:!1,weld:function p(e,t,n){var i=this;if(navigator.userAgent.indexOf("WindVane")!==-1&&navigator.userAgent.indexOf("tae_sdk")===-1&&window.WindVane&&!this.callback){if(this.poll.push(arguments),this.poll.length>1)return;return void this._getNetwork()}n&&n(this._getWeldUrl(e,t))},_getNetwork:function d(){var e=this;if(this.isWeakNet!==undefined&&null!==this.isWeakNet)return void this._getInfoCallback();this.getNetwork(function(t,n){e._getInfoCallback.call(e)})},getNetwork:function f(e){function t(){0===--i&&(n.isWeakNet=null===c||c===undefined?n.config.strongNet.indexOf(r)==-1:c,e(r,c))}var n=this,i=1,o=/AliApp\(TB\/([\d\.]+)\)/.test(s),r,c;o&&(i++,a.call("TBWeakNetStatus","getStatus",{},function(e){c=e.WeakNetStatus===!0||"true"===e.WeakNetStatus,t()},function(e){t()})),a.call("WVNetwork","getNetworkType",{},function(e){r=e.type,t()},function(e){t()})},weldImg:function h(e){var t=e,n=this,i,o;if(t.length){[].forEach.call(t,function(e,t){if("IMG"==e.tagName){if(i=e.getAttribute("data-network"),!(o=e.getAttribute("data-src")))return;n.weld(o,i,function(t){t&&(e.src=t)})}})}},_init:function m(e){o(this.config={},c,e||{})},_getWeldUrl:function g(e,t){e=this.config.enableRemoveScheme?e.replace(/(http|https):/gi,""):e;var n=e.match(/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.com)\/(.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i);if(!n||~n[2].indexOf("gif"))return e;this.config.enableDomainMerge&&(e=e.replace(n[1],this.config.mergeDomain));var i=this._getQualitySuffix(t),o=n[2].match(/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i);return o?(e=e.replace(o[0],""),e+="_"+(o[1]||"")+(o[2]||"")+(o[3]||i)+o[4]+(o[5]||"")):e.match(/_\.webp$/)?e=e.replace(/_\.webp$/,"_"+i+".jpg_.webp"):e+="_"+i+".jpg",e},_getQualitySuffix:function w(e){var t=this._parseSuffix(e);return this.isWeakNet?t[1]:t[0]},_parseSuffix:function _(e){var t=this.config.network,n;return"[object String]"===Object.prototype.toString.call(e)&&(n=e.split(",")),"[object Array]"===Object.prototype.toString.call(e)&&(n=e),n&&n[0]&&(t[0]=n[0]),n&&n[1]&&(t[1]=n[1]),t},_getInfoCallback:function v(){var e=this,t=this.poll;this.callback=!0,this.poll=[],Array.prototype.forEach.call(t,function(t,n){e.weld.apply(e,t)})}}),e.exports=i},function(e,t){function n(){this.w=null,this.h=null,this.x=null}n.prototype.compute=function(){this.w=window.innerWidth||document.documentElement.clientWidth,this.h=window.innerHeight||document.documentElement.clientHeight,this.x=window.devicePixelRatio},n.prototype.setForTesting=function(e){this.w=e.w,this.h=e.h,this.x=e.x},n.prototype.getBestImage=function(e){var t=e.imageCandidates.slice(0),n=this._getBestCandidateIf(t,function(e,t){return e.w>t.w});this._removeCandidatesIf(t,function(e){return function(t){return t.w<e.w}}(this)),0===t.length&&(t=[n]);var i=this._getBestCandidateIf(t,function(e,t){return e.h>t.h});this._removeCandidatesIf(t,function(e){return function(t){return t.h<e.h}}(this)),0===t.length&&(t=[i]);var o=this._getBestCandidateIf(t,function(e,t){return e.x>t.x});this._removeCandidatesIf(t,function(e){return function(t){return t.x<e.x}}(this)),0===t.length&&(t=[o]);var r=this._getBestCandidateIf(t,function(e,t){return e.w<t.w});this._removeCandidatesIf(t,function(e,t){return e.w>r.w});var a=this._getBestCandidateIf(t,function(e,t){return e.h<t.h});this._removeCandidatesIf(t,function(e,t){return e.h>r.h});var s=this._getBestCandidateIf(t,function(e,t){return e.x<t.x});return this._removeCandidatesIf(t,function(e,t){return e.x>s.x}),t[0]},n.prototype._getBestCandidateIf=function(e,t){for(var n=e[0],i=0;i<e.length;i++){var o=e[i];t(o,n)&&(n=o)}return n},n.prototype._removeCandidatesIf=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n])&&e.splice(n,1)}return e},n.prototype.getBestImage2=function(e){for(var t=null,n=e.imageCandidates,i=0;i<n.length;i++){var o=n[i];if((t?t.x:0)<=o.x&&o.x<=this.x){if(null===t){t=o;continue}this.w<=o.w&&o.w<=t.w&&(t=o)}}return t},e.exports=n},function(e,t){function n(e){this.imageCandidates=[],this.srcValue=e.src,this.srcsetValue=e.srcset,this.isValid=!0,this.error="",this._parse(this.srcsetValue),this.isValid||console.log("error","Error: "+this.error)}function i(e){this.src=e.src,this.w=e.w||Infinity,this.h=e.h||Infinity,this.x=e.x||1}var o=/^[0-9]+$/;n.prototype._parse=function(){for(var e=this.srcsetValue,t=0,n=[],o,r;""!==e;){for(;" "===e.charAt(0);)e=e.slice(1);if((t=e.indexOf(" "))!==-1){if(""===(o=e.slice(0,t)))break;e=e.slice(t+1),t=e.indexOf(","),t===-1?(r=e,e=""):(r=e.slice(0,t),e=e.slice(t+1)),n.push({url:o,descriptors:r})}else n.push({url:e,descriptors:""}),e=""}for(var a=0,s=n.length;a<s;a++){var c=n[a],u=this._parseDescriptors(c.descriptors);this._addCandidate(new i({src:c.url,x:u.x,w:u.w,h:u.h}))}this.srcValue&&this._addCandidate(new i({src:this.srcValue}))},n.prototype._addCandidate=function(e){for(var t=0;t<this.imageCandidates.length;t++){var n=this.imageCandidates[t];if(n.x==e.x&&n.w==e.w&&n.h==e.h)return}this.imageCandidates.push(e)},n.prototype._parseDescriptors=function(e){for(var t=e.split(/\s/),n={},i=0;i<t.length;i++){var o=t[i];if(o.length>0){var r=o[o.length-1],a=o.substring(0,o.length-1),s=parseInt(a,10),c=parseFloat(a);a.match(/^[0-9]+$/)&&"w"===r?n[r]=s:a.match(/^[0-9]+$/)&&"h"==r?n[r]=s:isNaN(c)||"x"!=r?(this.error="Invalid srcset descriptor found in "+o+".",this.isValid=!1):n[r]=c}}return n},e.exports=n},function(e,t,n){e.exports=n(20)},function(e,t){for(var n=window,i=0,o="RequestAnimationFrame",r="CancelAnimationFrame",a=["ms","moz","webkit","o"],s=0;s<a.length&&!n.requestAnimationFrame;++s)n.requestAnimationFrame=n[a[s]+"RequestAnimationFrame"],n.cancelAnimationFrame=n[a[s]+r]||n[a[s]+r];n.requestAnimationFrame||(n.requestAnimationFrame=function(e,t){var o=(new Date).getTime(),r=Math.max(0,16-(o-i)),a=n.setTimeout(function(){e(o+r)},r);return i=o+r,a}),n.cancelAnimationFrame||(n.cancelAnimationFrame=function(e){n.clearTimeout(e)})},,function(e,t,n){function i(e,t,n){return this instanceof i?this.init(e,t,n):new i(e,t,n)}n(23),n(24);var o=n(26),r=n(4),a=n(27),s=n(14),c=function u(){return'<div id="J_Loading" class="km-loading"><span class="loading-img"></span><span class="loading-text">\u6b63\u5728\u52a0\u8f7d\u4e2d</span></div>'};r.augment(i,{init:function l(e,t,n){if(!t)throw new Error("please pase blockId");if(!e)throw new Error("please pase wrapper");this.wrapper=$(e),this.setConfig(t,n),this.initLog()},setConfig:function p(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.mixBundle(this,{isLoading:!1,pageNum:0,param:{blockId:e,startRow:0,viewId:this.getGuid(),pageSize:30,appId:""},totalItem:0,pageLimit:!1,commodityWrapper:".J_CommodityWrap",loadingWrapper:".J_LoadingWrap",loadingTmpl:c,isCloseLog:!1,lazyloadQuery:".J_Lazyload",commodityTmpl:null,goldlogConfig:{}},this.config,t),this.loadingWrapper=$(this.loadingWrapper,this.wrapper),this.commodityWrapper=$(this.commodityWrapper,this.wrapper),!this.commodityTmpl)throw new Error("please pase commodity template");if(!this.isCloseLog&&(r.isEmptyObject(this.goldlogConfig)||!this.goldlogConfig.logkey||!this.goldlogConfig.chksum))throw new Error("please pase goldlog config with logkey and chksum");if(!this.param.appId)throw new Error("please pase appId")},initLog:function d(){this.isCloseLog||(this.logEntity=new o(this.wrapper,r.merge({appId:this.param.appId,blockId:this.param.blockId},this.goldlogConfig)))},load:function f(e){var t=this;0!=this.param.startRow&&this.param.startRow>=this.totalItem||this.pageLimit!==!1&&this.pageNum>=this.pageLimit||this.isLoading||(this.isLoading=!0,this.showState("loading"),a.request({api:"mtop.taobao.tejia.fantomas.items",v:"1.0",data:r.mix(this.param,{requestId:this.getGuid()})}).then(function(n){t.isLoading=!1;var i=n.data,o=i.summary,r=i.data;if("SUCCESS"!=o)return t.showState("error"),void(e&&e(!1));t.pageNum++;var a=t.parseData(r),s=a.startRow,c=a.totalItem,u=c===undefined?0:c,l=a.data,p=a.clientInfo,d=p===undefined?{}:p;if(t.param.startRow=Number(s)+t.param.pageSize,t.totalItem=Number(u||0),l.length<=0)return t.showState("noMore"),void(e&&e(!1));t.commodityWrapper.append($(t.commodityTmpl({data:l,pageNum:t.pageNum,pvid:d.pvid,scm:d.scm,requestId:t.param.requestId,fromUnicode:t.fromUnicode,ellipsis:t.ellipsis}))),$(t.lazyloadQuery,t.wrapper).lazyload(),e&&e(!0),t.param.startRow>=t.totalItem||t.pageLimit!==!1&&t.pageNum>=t.pageLimit?t.showState("noMore"):t.showState("reset"),t.sendPV(r)})["catch"](function(n){t.isLoading=!1,t.showState("error"),e&&e(!1)}))},sendPV:function h(e){if(!this.isCloseLog){var t=e.data,n=e.clientInfo;if(n){var i=[];r.each(t,function(e,t){i.push(e.itemId)}),this.logEntity.sendPV({ids:i.join(","),page:this.pageNum,requestId:this.param.requestId,realViewId:this.param.viewId},n)}}},getGuid:function m(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},mixBundle:function g(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.each(n,function(t,n){r.mix(e,t,{overwrite:!0,deep:!0})})},fromUnicode:function w(e){return unescape(e.replace(/\\u/g,"%u"))},ellipsis:function _(e,t){return e.length<=t?e:e.slice(0,t)+"..."},config:{},parseData:function v(e){return e},showState:function y(e){var t="";switch(e){case"loading":t=this.loadingTmpl({});break;case"error":t="\u7cfb\u7edf\u51fa\u9519\u5566~";break;case"noMore":t="\u6682\u65e0\u66f4\u591a\u5546\u54c1~";break;case"reset":default:t=""}this.loadingWrapper.html(t)}}),e.exports=i},function(e,t){},function(e,t,n){n(25)},function(e,t){},function(e,t,n){function i(e,t){return this instanceof i?this.init(e,t):new i(e,t)}var o=n(4);o.augment(i,{init:function r(e,t){if(!e)throw new Error("please pase wrapper");this.wrapper=$(e),this.setConfig(t),this.bindEvent()},setConfig:function a(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};o.mix(this,o.merge({logkey:"",chksum:"",clickTarget:"a",appId:"",blockId:"",clientInfo:{},attrId:"data-id",attrPage:"data-pageNum",attrRequestId:"data-requestId"},e))},sendPV:function s(e,t){if(t&&(this.clientInfo=t),this.clientInfo){e=this.checkParam(e);var n=o.merge(this.clientInfo,{appId:this.appId,blockId:this.blockId,page:e.page,logType:"pv",ids:e.ids,requestId:e.requestId,flag:"new",realViewId:e.realViewId});this.sendGoldlog("",n)}},bindEvent:function c(){var e=this;this.wrapper.delegate("click",this.clickTarget,function(t){var n=$(t.currentTarget),i=e.checkParam({ids:n.attr(e.attrId),page:n.attr(e.attrPage),requestId:n.attr(e.attrRequestId)}),r=o.merge(e.clientInfo,{appId:e.appId,blockId:e.blockId,page:i.page,logType:"click",ids:i.ids,requestId:i.requestId});e.sendGoldlog("",r)})},checkParam:function u(e){var t=e.ids,n=e.page,i=e.requestId,o=e.realViewId;return t&&n&&i||console.warn("ids, page, requestId should be required"),{ids:t||"",page:n||"",requestId:i||"",realViewId:o||""}},sendGoldlog:function l(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",t=arguments[1];this.logkey&&this.chksum&&window.goldlog&&(o.isObject(t)&&(t=this.parseParam(t)),goldlog.record(this.logkey,e,t,this.chksum))},parseParam:function p(e){var t="";return o.each(e,function(e,n){t+=n+"="+e+"&"}),""!=t&&(t=t.substring(0,t.length-1)),t}}),e.exports=i},function(e,t,n){var i=n(5),o=n(12),r=n(13);e.exports={request:function a(e){var t=this;return new r(function(n,o){i.request({api:e.api,v:e.v||"1.0",data:e.data,ecode:e.ecode||"0"},function(e){n(e)},function(e,n){var i=(e&&e.ret||[]).join(",");t.checkLoginResult(i,n)?t.goLogin():o(e)})})},checkLoginResult:function s(e,t){return e.indexOf("SESSION_EXPIRED")>-1||e.indexOf("SID_INVALID")>-1||e.indexOf("AUTH_REJECT")>-1||e.indexOf("NEED_LOGIN")>-1||1==t||2==t||"1"==t||"2"==t},isLogin:function c(){return o.isLogin()},goLogin:function u(){o.goLogin()},checkAndGoLogin:function l(){this.isLogin()||this.goLogin()}}},,,,,,,,function(e,t,n){function i(e,t,n){return this instanceof i?this.init(e,t,n):new i(e,t,n)}var o=n(3);o.augment(i,{init:function r(e,t,n){if(!t)throw new Error("please pase source")
;if(!e)throw new Error("please pase wrapper");this.wrapper=$(e),this.setConfig(t,n),this.bindEvent()},setConfig:function a(e,t){o.mixBundle(this,{source:e,attrItemId:"data-itemId",attrBillingType:"data-billingType",attrClickId:"data-clickId"},t)},bindEvent:function s(){var e=this.wrapper,t=this.attrItemId,n=this.attrBillingType,i=this.source,r=this.attrClickId;e.delegate("click","a",function(e){var a=$(e.currentTarget),s=a.attr(t),c=a.attr(n),u=a.attr(r);"1"===c&&s?o.request({api:"mtop.matrixexchange.userclink.add",v:"1.0",data:{itemId:s,source:i}})["catch"](function(e){}):"2"===c&&u&&o.request({api:"mtop.taobao.coin.advertise.click.add",v:"1.0",data:{click_id:u,app_id:10,request_id:o.getGuid(),source:i}})["catch"](function(e){})})}}),e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t,n){function i(){return this instanceof i?this.init():new i}var o=n(3);o.augment(i,{init:function r(){this.load(),this.fetchOpenDiscInfo()},load:function a(){var e=this;o.request({api:"mtop.matrixexchange.paradise.new.index",v:"1.0",ecode:"1"}).then(function(t){var n=e.result=t.data,i=e.coinInfo=n.coinInfoDO,o=e.hasExchange=n.hasExchangeNew,r=e.rights=n.paradiseJson.rights;e.banner=n.paradiseJson.banner,e.renderInfo(),e.renderHasExchange(),e.renderRights(),e.renderBanner(),$(".J_Lazyload").lazyload()})["catch"](function(e){})},fetchOpenDiscInfo:function s(){var e=this;o.request({api:"mtop.matrixexchange.buyerservice.getandsetdefaultuse",v:"1.0",ecode:"1"}).then(function(t){var n=t.data,i=n.value,o=n.status;e.renderDiscount(!!~Number(i))})["catch"](function(e){})},renderInfo:function c(){this.result.payUserSum&&(this.coinInfo.payUserSum=Number(this.result.payUserSum)/100),this.result.payUserCount&&(this.coinInfo.payUserCount=Number(this.result.payUserCount)),this.coinInfo.picUrl||(this.coinInfo.picUrl="//gw.alicdn.com/tfs/TB1dO8qKVXXXXXPapXXXXXXXXXX-140-140.png"),$(".J_Header").html(n(126)({info:this.coinInfo}))},renderHasExchange:function u(){$(".J_LinkList").html(n(127)({hasExchange:o.isTrue(this.hasExchange)}))},renderRights:function l(){$(".J_RightsList").html(n(128)({rights:this.rights,lastRowStart:4*Math.floor(this.rights.length/4)}))},renderBanner:function p(){$(".J_Banner").html(n(129)({banner:this.banner}))},renderDiscount:function d(e){$(".J_DefaultDisc").html(n(130)({isOpen:e}))}}),e.exports=i},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="user-info">\n  <img class="avator J_Lazyload" data-src="'+(null==(__t=info.picUrl)?"":__t)+"_50x50.jpg 1x, "+(null==(__t=info.picUrl)?"":__t)+"_110x110.jpg 2x, "+(null==(__t=info.picUrl)?"":__t)+'_120x120.jpg 3x" alt="" src="'+(null==(__t=TJB.placeholder)?"":__t)+'">\n  <p class="nick">'+(null==(__t=info.userNick)?"":__t)+'</p>\n  <div class="coin-sum">\n    <i class="iconfont icon-tao">&#xe603;</i>'+(null==(__t=info.coinUserSum)?"":__t)+"\n    ",info.coinActivityUserSum&&"0"!=info.coinActivityUserSum&&(__p+='\n      <div class="expire-tip">\n        <p><i class="iconfont icon-ring">&#xe605;</i>'+(null==(__t=info.expireDate)?"":__t)+"\u5c06</p>\n        <p>\u8fc7\u671f"+(null==(__t=info.coinActivityUserSum)?"":__t)+"\u91d1\u5e01</p>\n      </div>\n    "),__p+='\n  </div>\n  <a class="rule" href="'+(null==(__t=TJB.URL.coinRules)?"":__t)+'" data-openwindow="true"><i class="iconfont">&#xe600;</i>\u91d1\u5e01\u89c4\u5219</a>\n  <div class="wave"></div>\n</div>\n<div class="coin-info">\n  <ul>\n    <li class="item">\n      <p class="title">\u4eca\u5e74\u8d2d\u7269\u62b5\u94b1\u5df2\u7701</p>\n      <p class="content"><i class="price-symbol">&yen;</i>'+(null==(__t=info.payUserSum)?"":__t)+'</p>\n    </li>\n    <li class="item">\n      <p class="title">\u4eca\u5e74\u91d1\u5e01\u62b5\u6263\u8ba2\u5355</p>\n      <p class="content">'+(null==(__t=info.payUserCount)?"":__t)+'<span class="symbol">\u7b14</span></p>\n    </li>\n    <li class="item">\n      <p class="title">\u8fde\u7eed\u9886\u91d1\u5e01</p>\n      <p class="content">'+(null==(__t=info.continuousDays)?"":__t)+'<span class="symbol">\u5929</span></p>\n    </li>\n  </ul>\n</div>';return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<li class="link-item">\n  <a href="'+(null==(__t=TJB.URL.exchangeRecords)?"":__t)+'" class="link" data-openwindow="true">\n    <div class="logo"><i class="iconfont">&#xe604;</i>',hasExchange&&(__p+='<i class="tip"></i>'),__p+='</div>\n    <p class="name">\u5151\u6362\u8bb0\u5f55</p>\n    <i class="iconfont icon-arrow">&#xe601;</i>\n  </a>\n</li>\n<li class="link-item">\n  <a href="'+(null==(__t=TJB.URL.coinDetails)?"":__t)+'" class="link" data-openwindow="true">\n    <div class="logo"><i class="iconfont">&#xe602;</i></div>\n    <p class="name">\u91d1\u5e01\u660e\u7ec6</p>\n    <i class="iconfont icon-arrow">&#xe601;</i>\n  </a>\n</li>';return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)$.each(rights,function(e,t){__p+='\n  <li class="rights-item',t>=lastRowStart&&(__p+=" last-item"),__p+='">\n    <a href="'+(null==(__t=e.href)?"":__t)+'" data-openwindow="true">\n      <img class="logo J_Lazyload" data-src="'+(null==(__t=e.img)?"":__t)+"_36x36.jpg 1x, "+(null==(__t=e.img)?"":__t)+"_70x70.jpg 2x, "+(null==(__t=e.img)?"":__t)+'_88x88.jpg 3x" alt="" src="'+(null==(__t=TJB.placeholder)?"":__t)+'">\n      <p class="name">'+(null==(__t=e.title)?"":__t)+"</p>\n    </a>\n  </li>\n"});return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<a target="_blank" href="'+(null==(__t=banner.href)?"":__t)+'">\n  <img class="banner-img J_Lazyload" data-src="'+(null==(__t=banner.img)?"":__t)+"_250x250.jpg 1x, "+(null==(__t=banner.img)?"":__t)+"_500x500.jpg 2x, "+(null==(__t=banner.img)?"":__t)+'_760x760.jpg 3x" alt="" src="'+(null==(__t=TJB.placeholder)?"":__t)+'">\n</a>';return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<li class="link-item">\n  <!-- TODO \u94fe\u63a5 -->\n  <a\n    href="'+(null==(__t=TJB.isPre()?"https://market.wapa.taobao.com/wh/tms/taobao/page/apps/market/tjb/default-discount.html?wh_weex=true":"https://market.m.taobao.com/apps/market/tjb/default-discount.html?wh_weex=true")?"":__t)+'"\n    class="link"\n    data-openwindow="true"\n  >\n    <div class="logo"><i class="iconfont">&#xe64f;</i></div>\n    <p class="name">\u8d2d\u7269\u9ed8\u8ba4\u62b5\u6263</p>\n    <i class="iconfont icon-arrow">&#xe601;</i>\n    <p class="info">\n    ',__p+=isOpen?"\n      \u5df2\u5f00\u901a\n    ":"\n      \u672a\u5f00\u901a\n    ",__p+="\n    </p>\n  </a>\n</li>";return __p}},function(e,t,n){function i(){a.apply(this,arguments)}function o(){return this instanceof o?this.init():new o}var r=n(3),a=n(22);r.extend(i,a),r.augment(i,{config:{param:{appId:"10",flowId:"24",bucketId:"1",pageSize:100},pageLimit:1,commodityWrapper:".J_RecommendList",commodityTmpl:n(132),isCloseLog:!0}}),r.augment(o,{init:function s(){setTimeout(function(){new i(".J_RecommendWrapper","1019").load()},10)}}),e.exports=o},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)$.each(data,function(e,t){__p+='\n  <li class="recommend-item">\n    <a data-openwindow="true" href="'+(null==(__t="//h5.m.taobao.com/awp/core/detail.htm?id="+e.itemId+"&pvid="+pvid+"&scm="+scm)?"":__t)+'" data-billingType="'+(null==(__t=e.billingType)?"":__t)+'" data-clickId="'+(null==(__t=e.coinAdvertiseClickId)?"":__t)+'" data-itemId="'+(null==(__t=e.itemId)?"":__t)+'">\n     <div class="img-wrap">\n        <img class="img J_Lazyload" data-src="'+(null==(__t="//gw.alicdn.com/"+e.activityPicUrl)?"":__t)+"_160x160.jpg 1x, "+(null==(__t="//gw.alicdn.com/"+e.activityPicUrl)?"":__t)+"_320x320.jpg 2x, "+(null==(__t="//gw.alicdn.com/"+e.activityPicUrl)?"":__t)+'_360x360.jpg 3x" alt="" src="'+(null==(__t=TJB.placeholder)?"":__t)+'">\n      </div>\n      <p class="title">'+(null==(__t=ellipsis(fromUnicode(e.title),28))?"":__t)+'</p>\n      <p class="price"><i class="price-symbol">&yen;</i>'+(null==(__t=e.coinShowPrice)?"":__t)+'<span class="icon-plus">+</span><i class="icon-coin"></i><span class="coin">'+(null==(__t=e.decreaseCoin)?"":__t)+'</span></p>\n      <p class="origin-price"><i class="price-symbol">&yen;</i>'+(null==(__t=e.reservePrice)?"":__t)+'</p>\n      <!-- <p class="sell-num">0\u4eba\u5df2\u4e70</p> -->\n    </a>\n  </li>\n'});return __p}}]);