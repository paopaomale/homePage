!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,n){function i(){return this instanceof i?this.init():new i}n(86),n(2),n(24);var o=n(3),r=n(34),a=n(87),s=n(88),c=n(89),l=n(90);o.initDateFormat(),o.augment(i,{init:function u(){o.checkAndGoLogin(),this.setConfig(),this.bindEvent(),this.load(),this.initScrollMonitor()},setConfig:function p(){var e=new Date,t=e.getFullYear(),n=e.getMonth();o.mix(this,{day:e.getDate(),currentEnd:e,currentStart:new Date(t,n,1,0,0,0),lastStart:new Date(t,n-1,1,0,0,0),lastEnd:new Date(t,n,0,23,59,59),beforeLastStart:new Date(t,n-2,1,0,0,0),beforeLastEnd:new Date(t,n-1,0,23,59,59),dateOptionWrap:$(".J_DateOptiosn"),typeOptionWrap:$(".J_TypeOptions"),param:{rangeType:0,page:1,pageSize:100},mainWrap:$(".J_Main"),loadingWrapper:$(".J_LoadingWrap"),isLoading:!1,hasMore:!0}),this.selectdRecordOptionWrap=$(".selected",this.typeOptionWrap),this.selectdDateOptionWrap=$(".selected",this.dateOptionWrap),this.param.gmtBegin=this.beforeLastStart.getTime(),this.param.gmtEnd=this.currentEnd.getTime(),this.optionEnum={type:this.typeOptionWrap,date:this.dateOptionWrap},this.recordsMonthEnum=[{start:this.currentStart,end:this.currentEnd,titleText:"\u672c\u6708",items:[],wrapper:"J_Current"},{start:this.lastStart,end:this.lastEnd,titleText:this.lastStart.format("yyyy\u5e74M\u6708"),items:[],wrapper:"J_Last"},{start:this.beforeLastStart,end:this.beforeLastEnd,titleText:this.beforeLastStart.format("yyyy\u5e74M\u6708"),items:[],wrapper:"J_BeforeLast"}]},bindEvent:function d(){var e=this;$("ul.search").delegate("click",".condition",function(t){var n=$(t.currentTarget);e.handleOptions(n)}),$(".options").on("click",function(t){$(t.target).hasClass("options")&&e.hideOptions(e.selectType,e.selectConditionWrap)}),$("ul.options").delegate("click",".option",function(t){if(!e.isLoading){var n=$(t.currentTarget),i=n.parent(".options");if(i.hasClass("J_TypeOptions")){var r=n.attr("data-type");if(e.param.type==r)return;o.mix(e.param,{type:r,page:1}),e.selectdRecordOptionWrap.removeClass("selected"),e.selectdRecordOptionWrap=n}else if(i.hasClass("J_DateOptiosn")){var a=n.attr("data-range");if(e.param.rangeType==a)return;o.mix(e.param,{rangeType:a,page:1}),e.selectdDateOptionWrap.removeClass("selected"),e.selectdDateOptionWrap=n}n.addClass("selected"),e.hasMore=!0,e.search($(".J_Text",n).text())}})},search:function f(e){var t=this;setTimeout(function(){$(".J_Text",t.selectConditionWrap).text(e),t.hideOptions(t.selectType,t.selectConditionWrap),t.mainWrap.html(""),t.load()},0)},handleOptions:function h(e){var t=e.attr("data-type");t==this.selectType?this.hideOptions(t,e):(this.selectType&&this.hideOptions(this.selectType,this.selectConditionWrap),this.showOptions(t,e))},hideOptions:function m(e,t){var n=this.optionEnum[e];n&&n.hide(),t&&t.removeClass("selected"),this.selectType="",this.selectConditionWrap=null,this.startScroll()},showOptions:function g(e,t){if(!this.isLoading){var n=this.optionEnum[e];n&&n.show(),t&&t.addClass("selected"),this.selectType=e,this.selectConditionWrap=t,this.stopScroll()}},stopScroll:function w(){$(window).on("touchmove",function(e){e.preventDefault()})},startScroll:function v(){$(window).detach("touchmove")},initScrollMonitor:function _(){this.scrollMonitor=new r({node:"body",delay:0,margin:300,scrollToBottom:o.bind(this.scrollToBottom,this)}).run()},scrollToBottom:function y(){this.load()},load:function b(){var e=this;this.hasMore&&!this.isLoading&&(this.isLoading=!0,this.showLoading(),o.request({api:"mtop.taobao.benefit.coin.receive.record",v:"1.0",ecode:"1",data:this.param}).then(function(t){var n=t.data.result,i=t.data.resultCode;e.handle(n)})["catch"](function(t){var n=void 0;if(t&&t.ret&&t.ret[0]&&(n=t.ret[0].split("::")[0]),"switch_off"==n)return void e.loadOld();e.isLoading=!1,e.showError()}))},loadOld:function A(){var e=this;o.request({api:"mtop.matrixexchange.user.exchange.records",v:"1.0",ecode:"1",data:this.param}).then(function(t){e.handle(t.data.result)})["catch"](function(t){e.isLoading=!1,e.showError()})},handle:function x(e){if(!e||e.length<=0)return this.hasMore=!1,this.isLoading=!1,void(1==this.param.page?this.showEmpty():this.showNoMore());this.param.page++,this.render(e),this.loadingWrapper.html(""),this.isLoading=!1},render:function E(e){var t=this;o.each(e,function(e,n){var i=o.parseDate(e.gmtCreate);o.each(t.recordsMonthEnum,function(t,n){if(i>=t.start&&i<=t.end)return e.desc&&e.desc.couponAmount&&(e.desc.couponAmount=new Number(e.desc.couponAmount)/100,e.desc.couponStartFee=new Number(e.desc.couponStartFee)/100),e.desc.limitDetails&&(e.desc.limitDetailsObj=o.arrToObj(e.desc.limitDetails,"title")),t.items.push(e),!1})}),o.each(this.recordsMonthEnum,function(e,n){!e.items||e.items.length<=0||($("."+e.wrapper).length<=0&&t.mainWrap.append($(s(o.mix(e,{tabClass:e.wrapper})))),$(".list","."+e.wrapper).append($(c({data:e.items,ellipsis:o.ellipsis}))),$(".J_Lazyload").lazyload(),e.items=[])})},showLoading:function S(){this.loadingWrapper.html(a({}))},showError:function T(){this.loadingWrapper.html("\u7cfb\u7edf\u51fa\u9519\u62c9~")},showNoMore:function C(){this.loadingWrapper.html("\u53ea\u4fdd\u5b58\u8fd13\u4e2a\u6708\u7684\u8bb0\u5f55\u54e6\uff5e")},showEmpty:function O(){this.loadingWrapper.html(l({}))}}),new i,e.exports=i},,function(e,t,n){var i=n(3);n(14).setupConfig({delay:10,offsetPageY:800,maxNum:120,autoRemove:!1});var o=window.TJB={URL:{index:i.parseUrl("index3",!0),exchangeRecords:i.parseUrl("exchange-records"),coinDetails:i.parseUrl("coin-details"),exchangeDetail:i.parseUrl("exchange-detail"),myCoin:i.parseUrl("my-coin"),task:i.parseUrl("task"),coinExchange:i.parseUrl("coin-exchange"),category:i.parseUrl("category"),coinRules:"//market.m.taobao.com/markets/taojinbi/jinbibaoxiangzhinan_copy",taoxpInfo:i.parseUrl("taoxp/info"),taoxpDetail:i.parseUrl("taoxp/detail"),taoxpCreate:i.parseUrl("taoxp/create"),taoxpIndex:i.parseUrl("taoxp/index"),wishIndex:i.parseUrl("wish/index"),wishChest:i.parseUrl("wish/chest"),wishDetail:i.parseUrl("wish/detail"),wishHelp:i.parseUrl("wish/help"),wishHit:i.parseUrl("wish/hit"),wishSubmit:i.parseUrl("wish/submit"),wishMy:i.parseUrl("wish/my")},isPre:function r(){return location.origin.indexOf("wapa.taobao.com")>0},placeholder:"data:image/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII="};e.exports=o},function(e,t,n){var i=n(4);n(5),n(12);var o=n(13),r=navigator.userAgent,a=window.lib||{};e.exports=i.merge(i,{now:Date.now||function(){return(new Date).getTime()},isWindVaneSDK:function s(){return!!~r.indexOf("WindVane")},isEmptyArray:function c(e){return!e||!i.isArray(e)||0===e.length},mixBundle:function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i.each(n,function(t,n){i.mix(e,t,{overwrite:!0,deep:!0})})},getUrlParams:function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],t=location.search,n={};if(t.indexOf("?")==-1)return n;var i=t.substr(1),o=i.split("&"),r=void 0;return o.forEach(function(t,i){r=t.split("="),e.indexOf(r[0])!==-1&&r[1]!==undefined&&(n[r[0]]=unescape(r[1]))}),n},getUrlParam:function p(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.location.href,n=encodeURIComponent(e)+"=",i=t.indexOf(n),o=null;if(i>-1){var r=t.indexOf("&",i);r==-1&&(r=t.length),o=decodeURIComponent(t.substring(i+n.length,r))}return o},request:function d(e){var t=this;return new o(function(n,i){a.mtop.request({api:e.api,v:e.v||"1.0",data:e.data,ecode:e.ecode||"0",isSec:e.isSec||0},function(e){n(e)},function(e,n){var o=e&&e.ret;o.join&&(o=o.join(",")),t.checkLoginResult(o,n)?t.goLogin():i(e)})})},checkLoginResult:function f(e,t){return e.indexOf("SESSION_EXPIRED")>-1||e.indexOf("FAIL_SYS_SESSION_EXPIRED")>-1||e.indexOf("SID_INVALID")>-1||e.indexOf("AUTH_REJECT")>-1||e.indexOf("NEED_LOGIN")>-1||1==t||2==t||"1"==t||"2"==t},isLogin:function h(){return a.login.isLogin()},goLogin:function m(){a.login.goLogin()},checkAndGoLogin:function g(){this.isLogin()||this.goLogin()},isTrue:function w(e){return e===!0||"true"===e},sendStatistic:function v(e,t,n,o){e&&o&&window.goldlog&&(i.isObject(n)&&(n=i.param(n)),goldlog.record(e,t,n,o))},sendCode:function _(e,t){e&&((new Image).src="//gm.mmstat.com/"+e+"?"+(t?i.param(t)+"&":"")+"cache="+this.now())},getGuid:function y(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},fromUnicode:function b(e){return unescape(e.replace(/\\u/g,"%u"))},parseUrl:function A(e,t){var n=location.origin,i=t?".html":"/index.html";return~location.href.indexOf("src/p")?n+="/src/p/":~location.href.indexOf("app/tjb/www")?n+="/app/tjb/www/":~location.href.indexOf("app/wish/www")?n+="/app/wish/www/":(n+="/vip/",i=".html"),n+e+i},ellipsis:function x(e,t){return e.length<=t?e:e.slice(0,t)+"..."},initDateFormat:function E(){Date.prototype.format=Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},setTitle:function S(e){var t=this;e&&(document.title=e,window.WindVane&&WindVane.isAvailable===!0&&window.WindVane.call("WebAppInterface","setCustomPageTitle",e,function(){},function(){}))},openWindow:function T(e){if(window.WindVane&&WindVane.isAvailable===!0){var t={url:e,popBeforeOpen:!1};window.WindVane.call("Base","openWindow",t,function(e){},function(t){location.href=e})}else location.href=e},parseDate:function C(e){var t=e.match(/^(\d+)-(\d+)-(\d+) (\d+)\:(\d+)\:(\d+)$/);return new Date(t[1],t[2]-1,t[3],t[4],t[5],t[6])},htmlEncodeAll:function O(e){return null==e?"":e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},addUrlParam:function R(e,t){return e+(e.indexOf("?")==-1?"?":"&")+t},arrToObj:function k(e,t){if(!i.isArray(e)||"string"!=typeof t)return e;var n={};return e.forEach(function(e){e[t]&&(n[e[t]]=e)}),n},renderMtopUrl:function I(e){return~location.host.indexOf("waptest.taobao.com")?"//h5.waptest.taobao.com/"+e:~location.host.indexOf("wapa.taobao.com")?"//wapp.wapa.taobao.com/"+e:~location.host.indexOf("m.taobao.com")?"//h5.m.taobao.com/"+e:void 0}})},function(e,t){e.exports=$.__util__},function(e,t,n){n(6),n(7),n(11),e.exports=window.lib.mtop},function(e,t,n){n(7),n(10),e.exports=window.lib.windvane},function(e,t,n){var i,i;(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function n(e,t,o){function r(s,c){if(!t[s]){if(!e[s]){var l="function"==typeof i&&i;if(!c&&l)return i(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=t[s]={exports:{}};e[s][0].call(p.exports,function(t){var n=e[s][1][t];return r(n?n:t)},p,p.exports,n,e,t,o)}return t[s].exports}for(var a="function"==typeof i&&i,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t){function n(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){n.shift()()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=n,i.addListener=n,i.once=n,i.off=n,i.removeListener=n,i.removeAllListeners=n,i.emit=n,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(e,n){function i(e){function n(e){return null===l?void p.push(e):void a(function(){var t=l?e.onFulfilled:e.onRejected;if(null===t)return void(l?e.resolve:e.reject)(u);var n;try{n=t(u)}catch(o){return void e.reject(o)}e.resolve(n)})}function i(e){try{if(e===d)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==(void 0===e?"undefined":t(e))||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void r(n.bind(e),i,s)}l=!0,u=e,c()}catch(o){s(o)}}function s(e){l=!1,u=e,c()}function c(){for(var e=0,t=p.length;t>e;e++)n(p[e]);p=null}if("object"!=t(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var l=null,u=null,p=[],d=this;this.then=function(e,t){return new d.constructor(function(i,r){n(new o(e,t,i,r))})},r(e,i,s)}function o(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function r(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(r){if(i)return;i=!0,n(r)}}var a=e("asap");n.exports=i},{asap:4}],3:[function(e,n){function i(e){this.then=function(t){return"function"!=typeof t?this:new o(function(n,i){r(function(){try{n(t(e))}catch(r){i(r)}})})}}var o=e("./core.js"),r=e("asap");n.exports=o,i.prototype=o.prototype;var a=new i(!0),s=new i(!1),c=new i(null),l=new i(void 0),u=new i(0),p=new i("");o.resolve=function(e){if(e instanceof o)return e;if(null===e)return c;if(void 0===e)return l;if(e===!0)return a;if(e===!1)return s;if(0===e)return u;if(""===e)return p;if("object"==(void 0===e?"undefined":t(e))||"function"==typeof e)try{var n=e.then;if("function"==typeof n)return new o(n.bind(e))}catch(r){return new o(function(e,t){t(r)})}return new i(e)},o.all=function(e){var n=Array.prototype.slice.call(e);return new o(function(e,i){function o(a,s){try{if(s&&("object"==(void 0===s?"undefined":t(s))||"function"==typeof s)){var c=s.then;if("function"==typeof c)return void c.call(s,function(e){o(a,e)},i)}n[a]=s,0==--r&&e(n)}catch(l){i(l)}}if(0===n.length)return e([]);for(var r=n.length,a=0;a<n.length;a++)o(a,n[a])})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){e.forEach(function(e){o.resolve(e).then(t,n)})})},o.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":2,asap:4}],4:[function(t,n){(function(t){function i(){for(;r.next;){r=r.next;var e=r.task;r.task=void 0;var t=r.domain;t&&(r.domain=void 0,t.enter());try{e()}catch(o){if(l)throw t&&t.exit(),setTimeout(i,0),t&&t.enter(),o;setTimeout(function(){throw o},0)}t&&t.exit()}s=!1}function o(e){a=a.next={task:e,domain:l&&t.domain,next:null},s||(s=!0,c())}var r={task:void 0,next:null},a=r,s=!1,c=void 0,l=!1;if(void 0!==t&&t.nextTick)l=!0,c=function p(){t.nextTick(i)};else if("function"==typeof e)c="undefined"!=typeof window?e.bind(window,i):function(){e(i)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=i,c=function d(){u.port2.postMessage(0)}}else c=function f(){setTimeout(i,0)};n.exports=o}).call(this,t("_process"))},{_process:1}],5:[function(){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(){(arguments.length?this.then.apply(this,arguments):this).then(null,function(e){setTimeout(function(){throw e},0)})})},{}],6:[function(e){e("asap"),"undefined"==typeof Promise&&(Promise=e("./lib/core.js"),e("./lib/es6-extensions.js")),e("./polyfill-done.js")},{"./lib/core.js":2,"./lib/es6-extensions.js":3,"./polyfill-done.js":5,asap:4}]},{},[6])}).call(t,n(8).setImmediate)},function(e,t,n){(function(e,i){function o(e,t){this._id=e,this._clearFn=t}var r=n(9).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,c={},l=0;t.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function n(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=l++,i=!(arguments.length<2)&&s.call(arguments,1);return c[n]=!0,r(function o(){c[n]&&(i?e.apply(null,i):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof i?i:function(e){delete c[e]}}).call(t,n(8).setImmediate,n(8).clearImmediate)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(p===setTimeout)return setTimeout(e,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(e){return p.call(this,e,0)}}}function r(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(e){return d.call(this,e)}}}function a(){h&&m&&(h=!1,m.length?f=m.concat(f):g=-1,f.length&&s())}function s(){if(!h){var e=o(a);h=!0;for(var t=f.length;t;){for(m=f,f=[];++g<t;)m&&m[g].run();g=-1,t=f.length}m=null,h=!1,r(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u=e.exports={},p,d;!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(e){p=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var f=[],h=!1,m,g=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new c(e,t)),1!==f.length||h||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=l,u.addListener=l,u.once=l,u.off=l,u.removeListener=l,u.removeAllListeners=l,u.emit=l,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function i(e,t){e=e.toString().split("."),t=t.toString().split(".");for(var n=0;n<e.length||n<t.length;n++){var i=parseInt(e[n],10),o=parseInt(t[n],10);if(window.isNaN(i)&&(i=0),window.isNaN(o)&&(o=0),i<o)return-1;if(i>o)return 1}return 0}var o=e.Promise,r=e.document,a=e.navigator.userAgent,s=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(a)||/Windows\sNT\s[\d\.]+/i.test(a),c=s&&e.WindVane_Win_Private&&e.WindVane_Win_Private.call,l=/iPhone|iPad|iPod/i.test(a),u=/Android/i.test(a),p=a.match(/WindVane[\/\s](\d+[._]\d+[._]\d+)/),d=Object.prototype.hasOwnProperty,f=t.windvane=e.WindVane||(e.WindVane={}),h=(e.WindVane_Native,Math.floor(65536*Math.random())),m=1,g=[],w=3,v="hybrid",_="wv_hybrid",y="iframe_",b="param_",A="chunk_",x=6e5,E=6e5,S=6e4;p=p?(p[1]||"0.0.0").replace(/\_/g,"."):"0.0.0";var T={isAvailable:1===i(p,"0"),call:function R(e,t,n,i,r,a){var s,c;"number"==typeof arguments[arguments.length-1]&&(a=arguments[arguments.length-1]),"function"!=typeof i&&(i=null),"function"!=typeof r&&(r=null),o&&(c={},c.promise=new o(function(e,t){c.resolve=e,c.reject=t})),s=C.getSid();var l={success:i,failure:r,deferred:c};if(a>0&&(l.timeout=setTimeout(function(){T.onFailure(s,{ret:"HY_TIMEOUT"})},a)),C.registerCall(s,l),C.registerGC(s,a),T.isAvailable?C.callMethod(e,t,n,s):T.onFailure(s,{ret:"HY_NOT_IN_WINDVANE"}),c)return c.promise},fireEvent:function k(e,t,n){var i=r.createEvent("HTMLEvents");i.initEvent(e,!1,!0),i.param=C.parseData(t||C.getData(n)),r.dispatchEvent(i)},getParam:function I(e){return C.getParam(e)},setData:function N(e,t){C.setData(e,t)},onSuccess:function L(e,t){C.onComplete(e,t,"success")},onFailure:function U(e,t){C.onComplete(e,t,"failure")}},C={params:{},chunks:{},calls:{},getSid:function j(){return(h+m++)%65536+""},buildParam:function D(e){return e&&"object"==(void 0===e?"undefined":n(e))?JSON.stringify(e):e||""},getParam:function W(e){return this.params[b+e]||""},setParam:function q(e,t){this.params[b+e]=t},parseData:function P(e){var t;if(e&&"string"==typeof e)try{t=JSON.parse(e)}catch(e){t={ret:["WV_ERR::PARAM_PARSE_ERROR"]}}else t=e||{};return t},setData:function M(){this.chunks[A+sid]=this.chunks[A+sid]||[],this.chunks[A+sid].push(chunk)},getData:function F(e){return this.chunks[A+e]?this.chunks[A+e].join(""):""},registerCall:function J(e,t){this.calls[e]=t},unregisterCall:function B(e){var t={};return this.calls[e]&&(t=this.calls[e],delete this.calls[e]),t},useIframe:function V(e,t){var n=y+e,i=g.pop();i||(i=r.createElement("iframe"),i.setAttribute("frameborder","0"),i.style.cssText="width:0;height:0;border:0;display:none;"),i.setAttribute("id",n),i.setAttribute("src",t),i.parentNode||setTimeout(function(){r.body.appendChild(i)},5)},retrieveIframe:function H(e){var t=y+e,n=r.querySelector("#"+t);g.length>=3?r.body.removeChild(n):g.indexOf(n)<0&&g.push(n)},callMethod:function $(t,n,i,o){if(i=C.buildParam(i),s)c?e.WindVane_Win_Private.call(t,n,o,i):this.onComplete(o,{ret:"HY_NO_HANDLER_ON_WP"},"failure");else{var r="hybrid://"+t+":"+o+"/"+n+"?"+i;if(l)this.setParam(o,i),this.useIframe(o,r);else if(u){var a="wv_hybrid:";window.prompt(r,"wv_hybrid:")}else this.onComplete(o,{ret:"HY_NOT_SUPPORT_DEVICE"},"failure")}},registerGC:function Q(e,t){var n=this,i=Math.max(t||0,6e5),o=Math.max(t||0,6e4),r=Math.max(t||0,6e5);setTimeout(function(){n.unregisterCall(e)},i),l?setTimeout(function(){n.params[b+e]&&delete n.params[b+e]},o):u&&setTimeout(function(){n.chunks[A+e]&&delete n.chunks[A+e]},r)},onComplete:function Y(e,t,n){var i=this.unregisterCall(e),o=i.success,r=i.failure,a=i.deferred,s=i.timeout;s&&clearTimeout(s),t=t?t:this.getData(e),t=this.parseData(t);var c=t.ret;"string"==typeof c&&(t=t.value||t,t.ret||(t.ret=[c])),"success"===n?(o&&o(t),a&&a.resolve(t)):"failure"===n&&(r&&r(t),a&&a.reject(t)),l?(this.retrieveIframe(e),this.params[b+e]&&delete this.params[b+e]):u&&this.chunks[A+e]&&delete this.chunks[A+e]}};for(var O in T)d.call(f,O)||(f[O]=T[O])}(window,window.lib||(window.lib={})),e.exports=window.lib.windvane},function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),!function(e,t){function i(){var e={},t=new m(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,e}function o(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function r(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}function a(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function s(e){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}function c(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,i,o,r,a;return o=2147483648&e,r=2147483648&t,n=1073741824&e,i=1073741824&t,a=(1073741823&e)+(1073741823&t),n&i?2147483648^a^o^r:n|i?1073741824&a?3221225472^a^o^r:1073741824^a^o^r:a^o^r}function i(e,t,n){return e&t|~e&n}function o(e,t,n){return e&n|t&~n}function r(e,t,n){return e^t^n}function a(e,t,n){return t^(e|~n)}function s(e,o,r,a,s,c,l){return e=n(e,n(n(i(o,r,a),s),l)),n(t(e,c),o)}function c(e,i,r,a,s,c,l){return e=n(e,n(n(o(i,r,a),s),l)),n(t(e,c),i)}function l(e,i,o,a,s,c,l){return e=n(e,n(n(r(i,o,a),s),l)),n(t(e,c),i)}function u(e,i,o,r,s,c,l){return e=n(e,n(n(a(i,o,r),s),l)),n(t(e,c),i)}function p(e){for(var t,n=e.length,i=n+8,o=(i-i%64)/64,r=16*(o+1),a=new Array(r-1),s=0,c=0;n>c;)t=(c-c%4)/4,s=c%4*8,a[t]=a[t]|e.charCodeAt(c)<<s,c++;return t=(c-c%4)/4,s=c%4*8,a[t]=a[t]|128<<s,a[r-2]=n<<3,a[r-1]=n>>>29,a}function d(e){var t,n,i="",o="";for(n=0;3>=n;n++)t=e>>>8*n&255,o="0"+t.toString(16),i+=o.substr(o.length-2,2);return i}function f(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}var h,m,g,w,v,_,y,b,A,x=[],E=7,S=12,T=17,C=22,O=5,R=9,k=14,I=20,N=4,L=11,U=16,j=23,D=6,W=10,q=15,P=21;for(e=f(e),x=p(e),_=1732584193,y=4023233417,b=2562383102,A=271733878,h=0;h<x.length;h+=16)m=_,g=y,w=b,v=A,_=s(_,y,b,A,x[h+0],7,3614090360),A=s(A,_,y,b,x[h+1],12,3905402710),b=s(b,A,_,y,x[h+2],17,606105819),y=s(y,b,A,_,x[h+3],22,3250441966),_=s(_,y,b,A,x[h+4],7,4118548399),A=s(A,_,y,b,x[h+5],12,1200080426),b=s(b,A,_,y,x[h+6],17,2821735955),y=s(y,b,A,_,x[h+7],22,4249261313),_=s(_,y,b,A,x[h+8],7,1770035416),A=s(A,_,y,b,x[h+9],12,2336552879),b=s(b,A,_,y,x[h+10],17,4294925233),y=s(y,b,A,_,x[h+11],22,2304563134),_=s(_,y,b,A,x[h+12],7,1804603682),A=s(A,_,y,b,x[h+13],12,4254626195),b=s(b,A,_,y,x[h+14],17,2792965006),y=s(y,b,A,_,x[h+15],22,1236535329),_=c(_,y,b,A,x[h+1],5,4129170786),A=c(A,_,y,b,x[h+6],9,3225465664),b=c(b,A,_,y,x[h+11],14,643717713),y=c(y,b,A,_,x[h+0],20,3921069994),_=c(_,y,b,A,x[h+5],5,3593408605),A=c(A,_,y,b,x[h+10],9,38016083),b=c(b,A,_,y,x[h+15],14,3634488961),y=c(y,b,A,_,x[h+4],20,3889429448),_=c(_,y,b,A,x[h+9],5,568446438),A=c(A,_,y,b,x[h+14],9,3275163606),b=c(b,A,_,y,x[h+3],14,4107603335),y=c(y,b,A,_,x[h+8],20,1163531501),_=c(_,y,b,A,x[h+13],5,2850285829),A=c(A,_,y,b,x[h+2],9,4243563512),b=c(b,A,_,y,x[h+7],14,1735328473),y=c(y,b,A,_,x[h+12],20,2368359562),_=l(_,y,b,A,x[h+5],4,4294588738),A=l(A,_,y,b,x[h+8],11,2272392833),b=l(b,A,_,y,x[h+11],16,1839030562),y=l(y,b,A,_,x[h+14],23,4259657740),_=l(_,y,b,A,x[h+1],4,2763975236),A=l(A,_,y,b,x[h+4],11,1272893353),b=l(b,A,_,y,x[h+7],16,4139469664),y=l(y,b,A,_,x[h+10],23,3200236656),_=l(_,y,b,A,x[h+13],4,681279174),A=l(A,_,y,b,x[h+0],11,3936430074),b=l(b,A,_,y,x[h+3],16,3572445317),y=l(y,b,A,_,x[h+6],23,76029189),_=l(_,y,b,A,x[h+9],4,3654602809),A=l(A,_,y,b,x[h+12],11,3873151461),b=l(b,A,_,y,x[h+15],16,530742520),y=l(y,b,A,_,x[h+2],23,3299628645),_=u(_,y,b,A,x[h+0],6,4096336452),A=u(A,_,y,b,x[h+7],10,1126891415),b=u(b,A,_,y,x[h+14],15,2878612391),y=u(y,b,A,_,x[h+5],21,4237533241),_=u(_,y,b,A,x[h+12],6,1700485571),A=u(A,_,y,b,x[h+3],10,2399980690),b=u(b,A,_,y,x[h+10],15,4293915773),y=u(y,b,A,_,x[h+1],21,2240044497),_=u(_,y,b,A,x[h+8],6,1873313359),A=u(A,_,y,b,x[h+15],10,4264355552),b=u(b,A,_,y,x[h+6],15,2734768916),y=u(y,b,A,_,x[h+13],21,1309151649),_=u(_,y,b,A,x[h+4],6,4149444226),A=u(A,_,y,b,x[h+11],10,3174756917),b=u(b,A,_,y,x[h+2],15,718787259),y=u(y,b,A,_,x[h+9],21,3951481745),_=n(_,m),y=n(y,g),b=n(b,w),A=n(A,v);return(d(_)+d(y)+d(b)+d(A)).toLowerCase()}function l(e,t,n){var i=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(i.domain?";domain="+i.domain:"")+(i.path?";path="+i.path:"")+(i.secure?";secure":"")+(i.httponly?";HttpOnly":"")}function u(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function p(e,t,n){var i=new Date;i.setTime(i.getTime()-864e5);var o="/";document.cookie=e+"=;path=/;domain=."+t+";expires="+i.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+i.toGMTString()}function d(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var i=["taobao.net","taobao.com","tmall.com","tmall.hk","etao.com","alibaba-inc.com"],o=new RegExp("([^.]*?)\\.?((?:"+i.join(")|(?:").replace(/\./g,"\\.")+"))","i"),r=t.match(o)||[],a=r[2]||"taobao.com",s=r[1]||"m";"taobao.net"!==a||"x"!==s&&"waptest"!==s&&"daily"!==s?"taobao.net"===a&&"demo"===s?s="demo":"alibaba-inc.com"===a&&"zebra"===s?s="zebra":"waptest"!==s&&"wapa"!==s&&"m"!==s&&(s="m"):s="waptest";var c="etao.com"===a?"apie":"api";c="taobao.com"===a?"acs":c,_.mainDomain=a,_.subDomain=s,_.prefix=c}function f(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(_.WindVaneVersion=n[1]);var i=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);i&&(_.AliAppName=i[1],_.AliAppVersion=i[2])}function h(e){this.id=++A,this.params=o(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==n(this.params.data)&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=y.slice(0)}var m=e.Promise;if(!m){var g="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Promise\uff0c\u8bf7\u5728windows\u5bf9\u8c61\u4e0a\u6302\u8f7dPromise\u5bf9\u8c61\u53ef\u53c2\u8003\uff08http://gitlab.alibaba-inc.com/mtb/lib-es6polyfill/tree/master\uff09\u4e2d\u7684\u89e3\u51b3\u65b9\u6848";throw t.mtop={ERROR:g},new Error(g)}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var w,v=m.resolve();try{w=e.localStorage,w.setItem("@private","false")}catch(k){w=!1}var _={useAlipayJSBridge:!1},y=[],b={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};d(),f();var A=0,x="2.3.16";h.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},h.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},h.prototype.__processRequestType=function(e){var n=this,i=this.options;if(_.H5Request===!0&&(i.H5Request=!0),_.WindVaneRequest===!0&&(i.WindVaneRequest=!0),i.H5Request===!1&&i.WindVaneRequest===!0){if(!t.windvane||parseFloat(i.WindVaneVersion)<5.4)throw new Error("WINDVANE_NOT_FOUND::\u7f3a\u5c11WindVane\u73af\u5883")}else i.H5Request===!0?i.WindVaneRequest=!1:"undefined"==typeof i.WindVaneRequest&&"undefined"==typeof i.H5Request&&(t.windvane&&parseFloat(i.WindVaneVersion)>=5.4?i.WindVaneRequest=!0:i.H5Request=!0);return e?e().then(function(){var e=i.retJson.ret;return e instanceof Array&&(e=e.join(",")),i.WindVaneRequest===!0&&(!e||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1)?(_.H5Request=!0,n.__sequence([n.__processRequestType,n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])):void 0}):void 0};var E="_m_h5_c",S="_m_h5_tk",T="_m_h5_tk_enc";h.prototype.__getTokenFromAlipay=function(){var t=i(),n=this.options,o=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/)),r="AP"===n.AliAppName&&parseFloat(n.AliAppVersion)>=8.2;return n.useAlipayJSBridge===!0&&!o&&r&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",function(e){e&&e.token&&(n.token=e.token),t.resolve()},function(){t.resolve()}):t.resolve(),t.promise},h.prototype.__getTokenFromCookie=function(){var e=this.options;return e.token=e.token||u(S),
e.token&&(e.token=e.token.split("_")[0]),m.resolve()},h.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,n.WindVaneRequest!==!0?v.then(function(){return t.__getTokenFromAlipay()}).then(function(){return t.__getTokenFromCookie()}).then(e).then(function(){var e=n.retJson,i=e.ret;if(i instanceof Array&&(i=i.join(",")),i.indexOf("TOKEN_EMPTY")>-1||n.CDR===!0&&i.indexOf("ILLEGAL_ACCESS")>-1||i.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes)return t.__sequence([t.__processToken,t.__processRequestUrl,t.__processUnitPrefix,t.middlewares,t.__processRequest]);n.maxRetryTimes>0&&(p(E,n.pageDomain,"*"),p(S,n.mainDomain,n.subDomain),p("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=b.TOKEN_EXPIRED}}):void e()},h.prototype.__processRequestUrl=function(t){var n=this.params,i=this.options;if(i.hostSetting&&i.hostSetting[e.location.hostname]){var o=i.hostSetting[e.location.hostname];o.prefix&&(i.prefix=o.prefix),o.subDomain&&(i.subDomain=o.subDomain),o.mainDomain&&(i.mainDomain=o.mainDomain)}if(i.H5Request===!0){var r="//"+(i.prefix?i.prefix+".":"")+(i.subDomain?i.subDomain+".":"")+i.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",a=n.appKey||("waptest"===i.subDomain?"4272":"12574478"),s=(new Date).getTime(),l=c(i.token+"&"+s+"&"+a+"&"+n.data),u={jsv:"2.3.16",appKey:a,t:s,sign:l},p={data:n.data,ua:n.ua};Object.keys(n).forEach(function(e){"undefined"==typeof u[e]&&"undefined"==typeof p[e]&&(u[e]=n[e])}),i.getJSONP?u.type="jsonp":i.getOriginalJSONP?u.type="originaljsonp":(i.getJSON||i.postJSON)&&(u.type="originaljson"),i.querystring=u,i.postdata=p,i.path=r}t()},h.prototype.__processUnitPrefix=function(t){var n=this.params,i=this.options;if(i.disabledUnit===!0)return void t();if(w&&i.H5Request===!0){var o=n.api,a=!1,s=u("_m_user_unitinfo_"),c=w.getItem("unitinfo");s&&s.split("|")[0].indexOf("center")<0&&c&&c.indexOf(o.toLowerCase())>=0&&(a=s.split("|")[1]),i.h5UnitPrefix?i.path=i.path.replace(/^\/\//,"//"+i.h5UnitPrefix):a&&i.path&&(i.useAcsUnit===!0||i.path.indexOf("taobao.com")>-1&&"acs"===i.prefix?i.path=i.path.replace(/^\/\//,"//"+a):i.path=i.path.replace(/^\/\//,"//"+a+".")),t().then(function(){if(w){var t=u("_m_unitapi_v_"),n=w.getItem("unitinfo");if(t){var o=n?JSON.parse(n):{};if(!n||t!==o.version){var a=!1,s="//h5."+i.subDomain+".taobao.com/js/mtop/unit/"+t+"/unitApi.js",c=document.createElement("script");c.src=s,c.async=!0;var l=function p(){a||(a=!0,c.onload=c.onerror=null,c.parentNode&&c.parentNode.removeChild(c))};c.onerror=function(){l()},e.jsonp_unitapi||(e.jsonp_unitapi=function(e){l(),w.setItem("unitinfo",JSON.stringify(e))}),r(c)}}}})}else t()};var C=0;h.prototype.__requestJSONP=function(e){function t(e){if(u&&clearTimeout(u),p.parentNode&&p.parentNode.removeChild(p),"TIMEOUT"===e)window[l]=function(){window[l]=void 0;try{delete window[l]}catch(e){}};else{window[l]=void 0;try{delete window[l]}catch(t){}}}var n=i(),o=this.params,s=this.options,c=o.timeout||2e4,l="mtopjsonp"+ ++C,u=setTimeout(function(){e("TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),t("TIMEOUT")},c);s.querystring.callback=l;var p=document.createElement("script");return p.src=s.path+"?"+a(s.querystring)+"&"+a(s.postdata),p.async=!0,p.onerror=function(){t("ABORT"),e("ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")},window[l]=function(){s.results=Array.prototype.slice.call(arguments),t(),n.resolve()},r(p),n.promise},h.prototype.__requestJSON=function(t){function n(e){d&&clearTimeout(d),"TIMEOUT"===e&&l.abort()}var o=i(),r=this.params,c=this.options,l=new e.XMLHttpRequest,p=r.timeout||2e4,d=setTimeout(function(){t("TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),n("TIMEOUT")},p);c.pageDomain=c.pageDomain||s(e.location.hostname),c.mainDomain!=c.pageDomain&&(c.maxRetryTimes=3,c.CDR=!0,u(E)&&(c.querystring.c=decodeURIComponent(u(E)))),l.onreadystatechange=function(){if(4==l.readyState){var e,i,r=l.status;if(r>=200&&300>r||304==r){n(),e=l.responseText,i=l.getAllResponseHeaders()||"";try{e=/^\s*$/.test(e)?{}:JSON.parse(e),e.responseHeaders=i,c.results=[e],o.resolve()}catch(s){t("PARSE_JSON_ERROR::\u89e3\u6790JSON\u5931\u8d25")}}else n("ABORT"),t("ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")}};var f,h,m=c.path+"?"+a(c.querystring);if(c.getJSON?(f="GET",m+="&"+a(c.postdata)):c.postJSON&&(f="POST",h=a(c.postdata)),l.open(f,m,!0),l.withCredentials=!0,l.setRequestHeader("Accept","application/json"),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.headers)for(var g in r.headers)l.setRequestHeader(g,r.headers[g]);return l.send(h),o.promise},h.prototype.__requestWindVane=function(e){function n(e){l.results=[e],s.resolve()}var o,r,a,s=i(),c=this.params,l=this.options,u=c.data,p=c.api,d=c.v,f=l.postJSON?1:0,h=l.getJSON||l.postJSON?"originaljson":"",m="https"===location.protocol?1:0,g=c.isSec||0,w=c.sessionOption||"AutoLoginOnly";if("undefined"==typeof c.ecode)throw new Error("UNEXCEPT_PARAM_ECODE::\u7f3a\u5c11ecode\u53c2\u6570");return o=parseInt(c.ecode),a="undefined"!=typeof c.timer?parseInt(c.timer):"undefined"!=typeof c.timeout?parseInt(c.timeout):2e4,r=2*a,c.needLogin===!0&&"undefined"==typeof c.sessionOption&&(w="AutoLoginAndManualLogin"),"undefined"!=typeof c.secType&&"undefined"==typeof c.isSec&&(g=c.secType),t.windvane.call("MtopWVPlugin","send",{api:p,v:d,post:String(f),type:h,isHttps:String(m),ecode:String(o),isSec:String(g),param:JSON.parse(u),timer:a,sessionOption:w,ext_headers:{referer:location.href}},n,n,r),s.promise},h.prototype.__processRequest=function(e,t){var n=this;return v.then(function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::\u9519\u8bef\u7684\u8bf7\u6c42\u7c7b\u578b")}).then(e).then(function(){var e=n.options,t=(n.params,e.results[0]),i=t&&t.ret||[];t.ret=i,i instanceof Array&&(i=i.join(","));var o=t.c;if(e.CDR&&o){var r=o.split(";");l(E,o,{domain:e.pageDomain,path:"/"}),l(S,r[0],{domain:e.pageDomain,path:"/"})}i.indexOf("SUCCESS")>-1?t.retType=b.SUCCESS:t.retType=b.ERROR,e.retJson=t})},h.prototype.__sequence=function(e){function t(e){if(e instanceof Array)e.forEach(t);else{var a,s=i(),c=i();o.push(function(){return s=i(),a=e.call(n,function(e){return s.resolve(e),c.promise},function(e){return s.reject(e),c.promise}),a&&(a=a["catch"](function(e){s.reject(e)})),s.promise}),r.push(function(e){return c.resolve(e),a})}}var n=this,o=[],r=[];e.forEach(t);for(var a,s=v;a=o.shift();)s=s.then(a);for(;a=r.pop();)s=s.then(a);return s};var O=function I(e){e()},R=function N(e){e()};h.prototype.request=function(e){var t=this;this.options=o(e||{},_);var n=m.resolve([O,R]).then(function(e){var n=e[0],i=e[1];return t.__sequence([n,t.__processRequestMethod,t.__processRequestType,t.__processToken,t.__processRequestUrl,t.__processUnitPrefix,t.middlewares,t.__processRequest,i])}).then(function(){var e=t.options.retJson;return e.retType!==b.SUCCESS?m.reject(e):t.options.successCallback?void t.options.successCallback(e):m.resolve(e)})["catch"](function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:b.ERROR}):n="string"==typeof e?{ret:[e],retJson:b.ERROR}:void 0!==e?e:t.options.retJson,t.options.failureCallback?void t.options.failureCallback(n):m.reject(n)});return this.__processRequestType(),t.options.H5Request&&(t.constructor.__firstProcessor||(t.constructor.__firstProcessor=n),O=function i(e){t.constructor.__firstProcessor.then(e)["catch"](e)}),n},t.mtop=function(e){return new h(e)},t.mtop.request=function(e,t,n){var i={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new h(e).request(i)},t.mtop.H5Request=function(e,t,n){var i={H5Request:!0,successCallback:t,failureCallback:n||t};return new h(e).request(i)},t.mtop.middlewares=y,t.mtop.config=_,t.mtop.RESPONSE_TYPE=b,t.mtop.CLASS=h}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function i(t,i){var o=this,r=e.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/r,l=Math.max(s.height,window.innerHeight)/r;a.style.cssText=["-webkit-transform:scale("+r+") translateZ(0)","-ms-transform:scale("+r+") translateZ(0)","transform:scale("+r+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+l+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var u=document.createElement("div");u.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),u.innerText=t;var p=document.createElement("a");p.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),p.innerText="\u5173\u95ed";var d=document.createElement("iframe");d.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),u.appendChild(p),a.appendChild(u),a.appendChild(d),document.body.appendChild(a),d.src=i,p.addEventListener("click",function(){o.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),a.dispatchEvent(e)},!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-s.top),a.parentNode&&a.parentNode.removeChild(a)}}function o(e){var n=this,i=this.options,o=this.params;return e().then(function(){var e=i.retJson,r=e.ret;if(r instanceof Array&&(r=r.join(",")),(r.indexOf("SESSION_EXPIRED")>-1||r.indexOf("SID_INVALID")>-1||r.indexOf("AUTH_REJECT")>-1||r.indexOf("NEED_LOGIN")>-1)&&(e.retType=u.SESSION_EXPIRED,!i.WindVaneRequest&&(l.LoginRequest===!0||i.LoginRequest===!0||o.needLogin===!0))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::\u7f3a\u5c11lib.login");if(i.CDR!==!0)return t.login.goLoginAsync().then(function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})["catch"](function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::\u7528\u6237\u53d6\u6d88\u767b\u5f55"):new Error("LOGIN_FAILURE::\u7528\u6237\u767b\u5f55\u5931\u8d25")});t.login.goLogin()}})}function r(e){var t=this.options;return this.params,t.H5Request!==!0||l.AntiFlood!==!0&&t.AntiFlood!==!0?void e():e().then(function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)})}function a(t){var n=this,o=this.options,r=this.params;return r.forceAntiCreep!==!0&&o.H5Request!==!0||l.AntiCreep!==!0&&o.AntiCreep!==!0?void t():t().then(function(){var t=o.retJson,a=t.ret;return a instanceof Array&&(a=a.join(",")),a.indexOf("RGV587_ERROR::SM")>-1&&t.data.url?new s(function(o,a){function s(){u.removeEventListener("close",s),e.removeEventListener("message",c),a("USER_INPUT_CANCEL::\u7528\u6237\u53d6\u6d88\u8f93\u5165")}function c(t){var i;try{i=JSON.parse(t.data)||{}}catch(l){}if(i&&"child"===i.type){u.removeEventListener("close",s),e.removeEventListener("message",c),u.hide();var l;try{"string"==typeof(l=JSON.parse(decodeURIComponent(i.content)))&&(l=JSON.parse(l));for(var p in l)r[p]=l[p];n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(l){a("USER_INPUT_FAILURE::\u7528\u6237\u8f93\u5165\u5931\u8d25")}}}var l=t.data.url,u=new i("",l);u.addEventListener("close",s,!1),e.addEventListener("message",c,!1),u.show()}):void 0})}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop \u521d\u59cb\u5316\u5931\u8d25\uff01\u8bf7\u53c2\u8003Mtop\u6587\u6863http://gitlab.alibaba-inc.com/mtb/lib-mtop");var s=e.Promise,c=t.mtop.CLASS,l=t.mtop.config,u=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push(o),t.mtop.loginRequest=function(e,t,n){var i={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new c(e).request(i)},t.mtop.antiFloodRequest=function(e,t,n){var i={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new c(e).request(i)},t.mtop.middlewares.push(r),t.mtop.antiCreepRequest=function(e,t,n){var i={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new c(e).request(i)},t.mtop.middlewares.push(a)}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},function(e,t){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t,n){function i(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(b.cookie);return t?t[1]:n}function o(e){return e.preventDefault(),!1}function r(t,n){var i=this,r=e.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/r,l=Math.max(s.height,window.innerHeight)/r;a.style.cssText=["-webkit-transform:scale("+r+") translateZ(0)","-ms-transform:scale("+r+") translateZ(0)","transform:scale("+r+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+l+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var u=document.createElement("div");u.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),u.innerText=t;var p=document.createElement("a");p.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),p.innerText="\u5173\u95ed";var d=document.createElement("iframe");d.style.cssText=["width:100%","height:"+window.innerHeight/r+"px","border:0","overflow:hidden"].join(";"),u.appendChild(p),a.appendChild(u),a.appendChild(d),b.body.appendChild(a),d.src=n,p.addEventListener("click",function(){i.hide();var e=b.createEvent("HTMLEvents");e.initEvent("close",!1,!1),a.dispatchEvent(e)},!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",o,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",o),window.scrollTo(0,-s.top),b.body.removeChild(a)}}function a(e){if(!e||"function"!=typeof e||!t.mtop){return!!this.getUserNick()}t.mtop.request({api:"mtop.user.getUserSimple",v:"1.0",data:{isSec:0},H5Request:!0},function(i){i.retType===t.mtop.RESPONSE_TYPE.SUCCESS?e(!0,i):i.retType===t.mtop.RESPONSE_TYPE.SESSION_EXPIRED?e(!1,i):e(n,i)})}function s(e){var t;return y&&(t={},t.promise=new y(function(e,n){t.resolve=e,t.reject=n})),this.isLogin(function(n,i){e&&e(n,i),n===!0?t&&t.resolve(i):t&&t.reject(i)}),t?t.promise:void 0}function c(e){if(!e||"function"!=typeof e){var t="",o=i("_w_tb_nick"),r=i("_nk_")||i("snk"),a=i("sn");return o&&o.length>0&&"null"!=o?t=decodeURIComponent(o):r&&r.length>0&&"null"!=r?t=unescape(unescape(r).replace(/\\u/g,"%u")):a&&a.length>0&&"null"!=a&&(t=decodeURIComponent(a)),t=t.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}this.isLogin(function(t,i){e(t===!0&&i&&i.data&&i.data.nick?i.data.nick:t===!1?"":n)})}function l(e){var t;return y&&(t={},t.promise=new y(function(e,n){t.resolve=e,t.reject=n})),this.getUserNick(function(n){e&&e(n),n?t&&t.resolve(n):t&&t.reject()}),t?t.promise:void 0}function u(e,n){var i="//"+N+"."+L.subDomain+"."+k+"/"+L[(e||"login")+"Name"];if(n){var o=[];for(var r in n)o.push(r+"="+encodeURIComponent(n[r]));i+="?"+o.join("&")}var a=t.login.config.loginUrlParams;if(a){var s=[];for(var c in a)s.push(c+"="+encodeURIComponent(a[c]));i+=/\?/.test(i)?"&"+s.join("&"):"?"+o.join("&")}return i}function p(e,t){t?location.replace(e):location.href=e}function d(t,n,i){function o(t){l.removeEventListener("close",o),e.removeEventListener("message",a),i("CANCEL")}function a(t){var n=t.data||{};n&&"child"===n.type&&n.content.indexOf("SUCCESS")>-1?(l.removeEventListener("close",o),e.removeEventListener("message",a),l.hide(),i("SUCCESS")):i("FAILURE")}var s=location.protocol+"//h5."+L.subDomain+".taobao.com/"+("waptest"===L.subDomain?"src":"other")+"/"+t+"end.html?origin="+encodeURIComponent(location.protocol+"//"+location.hostname),c=u(t,{ttid:"h5@iframe",redirectURL:s}),l=new r(n.title||"\u60a8\u9700\u8981\u767b\u5f55\u624d\u80fd\u7ee7\u7eed\u8bbf\u95ee",c);l.addEventListener("close",o,!1),e.addEventListener("message",a,!1),l.show()}function f(t,n,i){var o=u(t,{wvLoginCallback:"wvLoginCallback"});e.wvLoginCallback=function(t){delete e.wvLoginCallback,i(t.indexOf(":SUCCESS")>-1?"SUCCESS":t.indexOf(":CANCEL")>-1?"CANCEL":"FAILURE")},p(o)}function h(e,t,n){if("function"==typeof t?(n=t,t=null):"string"==typeof t&&(t={redirectUrl:t}),t=t||{},n&&T)f(e,t,n);else if(n&&!S&&"login"===e)d(e,t,n);else{var i=u(e,{redirectURL:t.redirectUrl||location.href});p(i,t.replace)}}function m(e,t,n){var i;return y&&(i={},i.promise=new y(function(e,t){i.resolve=e,i.reject=t})),h(e,t,function(e){n&&n(e),"SUCCESS"===e?i&&i.resolve(e):i&&i.reject(e)}),i?i.promise:void 0}function g(e){h("login",e)}function w(e){return m("login",e)}function v(e){h("logout",e)}function _(e){return m("logout",e)}var y=e.Promise,b=e.document,A=e.navigator.userAgent,x=location.hostname,E=(e.location.search,A.match(/WindVane[\/\s]([\d\.\_]+)/)),S=A.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i),T=!!(S&&"TB"===S[1]&&E&&parseFloat(E[1])>5.2),C=["taobao.net","taobao.com"],O=new RegExp("([^.]*?)\\.?((?:"+C.join(")|(?:").replace(/\./g,"\\.")+"))","i"),R=x.match(O)||[],k=function(){return(R[2]||"taobao.com").match(/\.?taobao\.net$/)?"taobao.net":"taobao.com"}(),I=function(){var e=k,t=R[1]||"m";return"taobao.net"===e&&(t="waptest"),"m"!=t&&"wapa"!=t&&"waptest"!=t&&(t="m"),t}(),N="login";t.login=t.login||{};var L={loginName:"login.htm",logoutName:"logout.htm",subDomain:I};t.login.config=L,t.login.isLogin=a,t.login.isLoginAsync=s,t.login.getUserNick=c,t.login.getUserNickAsync=l,t.login.generateUrl=u,t.login.goLogin=g,t.login.goLoginAsync=w,t.login.goLogout=v,t.login.goLogoutAsync=_}(window,window.lib||(window.lib={})),e.exports=window.lib.login},function(e,t){e.exports=$.__promise__},function(e,t,n){function i(e,t){for(var n in t)t[n]!=undefined&&(e[n]=t[n])}function o(e){if(r(e),"object"===g(o.instance))return l(),o.instance;s(function(){l(),d()}),o.instance=this}function r(e){I=I.concat(a(e))}function a(e){var t=[];return[].forEach.call(e,function(n,i){-1===I.indexOf(n)&&-1===N.indexOf(n)&&t.push(e[i])}),t}function s(e){function t(){0===--n&&e&&e()}if(!c()&&!F.autoWebp)return void(e&&e());var n=0;c()&&(n++,y.getNetwork(function(e,n){R=e,t()})),F.autoWebp&&(n+=2,v.isSupport(function(e){C=e,t()}),v.isSupport(function(e){O=e,t()},"alpha"))}function c(){return F.enableIOSWifiLoad&&window.WindVane&&1==window.WindVane.isAvailable}function l(e){e=e||0;for(var t=I.length,n=F.enableIOSWifiLoad&&J&&"WIFI"==R,i=[],o=0;o<t;o++){var r=I[o],a=$(I[o]);if(n||F.stop||a.inView(F.offsetY,e)){var s=a.attr("data-bestsrc");if(s||N.indexOf(r)!==-1)N.indexOf(r)===-1&&N.push(r);else{var c=a.attr("data-srcset")||a.attr("data-src");if(c){N.push(r);var l=new A({src:a.attr("src"),srcset:c});s=x.getBestImage(l).src;var p=s.substr(-4,4);if(s.indexOf("cdn.")!=-1){if(".png"===p&&O||".jpg"===p&&C){var d=a.attr("data-webpsuffix");s+=d?d:k}var f=a.attr("data-network");if(".jpg"===p&&"close"!=f){f=a.attr("data-network"),f=f&&f.replace(/\s/g,""),f=f?f:"Q50s150,Q30s150",function(e,t,n){y.weld(e,t,function(e){u(n,e)})}(s,f,a);continue}}u(a,s)}}}else i.push(r)}I=i}function u(e,t){if(F.autoAnim)if(p(e),"img"==e[0].tagName.toLowerCase())e.on("load",function(){e.css("opacity",1)});else{var n="_lazyLoadImgRef"+Math.random();window[n]=$(new Image),window[n].on("load",function(){e.css("opacity",1),e.css({"background-image":"url("+t+")","background-repeat":"no-repeat","background-position":"center center","background-size":"cover"}),delete window[n]}),window[n].attr("src",t)}e.attr("data-lazyimg",e.attr("src")),e.attr("src",t),e.attr("data-bestsrc",t)}function p(e){e.css({"-webkit-transition":"opacity .35s",transition:"opacity .35s",opacity:0})}function d(){L||(L=!0,F.el.on("scroll",function(e){I.length>0&&(j=F.el.scrollTop()),U||S(function(){l(),U=!1}),U=!0}),F.el.on("resize",function(e){j=F.el.scrollTop(),q=F.el.height(),l()}),J&&F.el.on("touchend",function(e){W={y:(e.changedTouches?e.changedTouches[0]:e).pageY,time:(new Date).getTime()},W.y-D.y>5&&h()}).on("touchstart",function(e){D={y:(e.touches?e.touches[0]:e).pageY,time:(new Date).getTime()},h(q)}),window.MutationObserver&&F.observeDomChanges&&(P=new MutationObserver(function(e){f(e)}),P.observe(F.observeWrapper,M)))}function f(e){var t,n,i,o;e.forEach(function(e){t=e.removedNodes,t.forEach(function(e){"img"==e.tagName.toLowerCase()&&(n=$(e),i=n.attr("data-bestsrc")?N:I,(o=i.indexOf(e))>-1&&i.splice(o,1))})})}function h(e){l(e||m())}function m(){var e=W.y-D.y,t=W.time-D.time;t=t||1;var n=e/t,i=.005;return.5*n*(n/.005)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=n(10),v=n(15),_=n(16),y=new _,b=n(17),A=n(18),x=new b,E=n(19),S=window.requestAnimationFrame,T=window.cancelAnimationFrame,C=!1,O=!1,R="",k="_.webp",I=[],N=[],L=!1,U=!1,j,D={},W={},q=0,P,M={subtree:!0,childList:!0,attributes:!1},F={offsetY:0,maxNum:120,autoWebp:!0,autoAnim:!1,el:$(window),enableIOSWifiLoad:!1,observeDomChanges:!1,observeWrapper:document,stop:!1},J=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);i($.fn,{inView:function B(e,t){e=e||0,t=t||0;var n=j+t,i=$(this).offset(),o=F.el[0]!=window?this[0].offsetTop:i.top,r=o+(i.height||$(this).height());return o>=n-e&&o<=n+q+e||r>=n-e&&r<=n+q+e},lazyload:function V(e){e=e||{},e.el&&(e.el=$(e.el)),i(F,e),x.compute(),q=x.h,$(F.el)[0]!=window&&(F.el=$(F.el),q=F.el.height()),j=F.el.scrollTop(),new o(this.slice(0))}}),e.exports={setupConfig:function H(e){i(F,e)},destroy:function Q(){I=[],N=[]}}},function(e,t){function n(e,t){if("function"==typeof e){var n=new Image;n.onload=function(){var o=n.width>0&&n.height>0;i(o,t),e(o)},n.onerror=function(){i(!1,t),e(!1)},n.src="data:image/webp;base64,"+r[t]}}function i(e,t){if(window.localStorage&&"function"==typeof window.localStorage.setItem)try{window.localStorage.setItem("webpsupport-"+t,e)}catch(n){}}function o(e,t){if("function"==typeof e)if(t=t||"lossy",window.navigator.userAgent.match(/windows|win32/i)||a&&window.navigator.userAgent.match(/UCBrowser/i))e(!1);else if(window.chrome||window.opera)e(!0);else{var i=window.localStorage&&window.localStorage.getItem("webpsupport-"+t);i?e("true"==i):n(e,t)}}var r={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},a=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),s=!!navigator.userAgent.match(/windvane/i),c={};c.isSupport=o,e.exports=c},function(e,t,n){function i(e){if("object"===r(i.instance))return i.instance;this._init(e),i.instance=this}function o(e,t){for(var n in t)t[n]!=undefined&&(e[n]=t[n])}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(10),s=window.navigator.userAgent,c={network:["Q50s100","Q30s100"],enableDomainMerge:!0,mergeDomain:"gw.alicdn.com",enableRemoveScheme:!0,strongNet:["WIFI"]},l=/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.com)\/(.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i,u=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i;o(i.prototype,{network:null,poll:[],callback:!1,weld:function p(e,t,n){var i=this;if(navigator.userAgent.indexOf("WindVane")!==-1&&navigator.userAgent.indexOf("tae_sdk")===-1&&window.WindVane&&!this.callback){if(this.poll.push(arguments),this.poll.length>1)return;return void this._getNetwork()}n&&n(this._getWeldUrl(e,t))},_getNetwork:function d(){var e=this;if(this.isWeakNet!==undefined&&null!==this.isWeakNet)return void this._getInfoCallback();this.getNetwork(function(t,n){e._getInfoCallback.call(e)})},getNetwork:function f(e){function t(){0===--i&&(n.isWeakNet=null===c||c===undefined?n.config.strongNet.indexOf(r)==-1:c,e(r,c))}var n=this,i=1,o=/AliApp\(TB\/([\d\.]+)\)/.test(s),r,c;o&&(i++,a.call("TBWeakNetStatus","getStatus",{},function(e){c=e.WeakNetStatus===!0||"true"===e.WeakNetStatus,t()},function(e){t()})),a.call("WVNetwork","getNetworkType",{},function(e){r=e.type,t()},function(e){t()})},weldImg:function h(e){var t=e,n=this,i,o;if(t.length){[].forEach.call(t,function(e,t){if("IMG"==e.tagName){if(i=e.getAttribute("data-network"),!(o=e.getAttribute("data-src")))return;n.weld(o,i,function(t){t&&(e.src=t)})}})}},_init:function m(e){o(this.config={},c,e||{})},_getWeldUrl:function g(e,t){e=this.config.enableRemoveScheme?e.replace(/(http|https):/gi,""):e;var n=e.match(/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.com)\/(.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i);if(!n||~n[2].indexOf("gif"))return e;this.config.enableDomainMerge&&(e=e.replace(n[1],this.config.mergeDomain));var i=this._getQualitySuffix(t),o=n[2].match(/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i);return o?(e=e.replace(o[0],""),e+="_"+(o[1]||"")+(o[2]||"")+(o[3]||i)+o[4]+(o[5]||"")):e.match(/_\.webp$/)?e=e.replace(/_\.webp$/,"_"+i+".jpg_.webp"):e+="_"+i+".jpg",e},_getQualitySuffix:function w(e){var t=this._parseSuffix(e);return this.isWeakNet?t[1]:t[0]},_parseSuffix:function v(e){var t=this.config.network,n;return"[object String]"===Object.prototype.toString.call(e)&&(n=e.split(",")),"[object Array]"===Object.prototype.toString.call(e)&&(n=e),n&&n[0]&&(t[0]=n[0]),n&&n[1]&&(t[1]=n[1]),t},_getInfoCallback:function _(){var e=this,t=this.poll;this.callback=!0,this.poll=[],Array.prototype.forEach.call(t,function(t,n){e.weld.apply(e,t)})}}),e.exports=i},function(e,t){function n(){this.w=null,this.h=null,this.x=null}n.prototype.compute=function(){this.w=window.innerWidth||document.documentElement.clientWidth,this.h=window.innerHeight||document.documentElement.clientHeight,this.x=window.devicePixelRatio},n.prototype.setForTesting=function(e){this.w=e.w,this.h=e.h,this.x=e.x},n.prototype.getBestImage=function(e){var t=e.imageCandidates.slice(0),n=this._getBestCandidateIf(t,function(e,t){return e.w>t.w});this._removeCandidatesIf(t,function(e){return function(t){return t.w<e.w}}(this)),0===t.length&&(t=[n]);var i=this._getBestCandidateIf(t,function(e,t){return e.h>t.h});this._removeCandidatesIf(t,function(e){return function(t){return t.h<e.h}}(this)),0===t.length&&(t=[i]);var o=this._getBestCandidateIf(t,function(e,t){return e.x>t.x});this._removeCandidatesIf(t,function(e){return function(t){return t.x<e.x}}(this)),0===t.length&&(t=[o]);var r=this._getBestCandidateIf(t,function(e,t){return e.w<t.w});this._removeCandidatesIf(t,function(e,t){return e.w>r.w});var a=this._getBestCandidateIf(t,function(e,t){return e.h<t.h});this._removeCandidatesIf(t,function(e,t){return e.h>r.h});var s=this._getBestCandidateIf(t,function(e,t){return e.x<t.x});return this._removeCandidatesIf(t,function(e,t){return e.x>s.x}),t[0]},n.prototype._getBestCandidateIf=function(e,t){for(var n=e[0],i=0;i<e.length;i++){var o=e[i];t(o,n)&&(n=o)}return n},n.prototype._removeCandidatesIf=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n])&&e.splice(n,1)}return e},n.prototype.getBestImage2=function(e){for(var t=null,n=e.imageCandidates,i=0;i<n.length;i++){var o=n[i];if((t?t.x:0)<=o.x&&o.x<=this.x){if(null===t){t=o;continue}this.w<=o.w&&o.w<=t.w&&(t=o)}}return t},e.exports=n},function(e,t){function n(e){this.imageCandidates=[],this.srcValue=e.src,this.srcsetValue=e.srcset,this.isValid=!0,this.error="",this._parse(this.srcsetValue),this.isValid||console.log("error","Error: "+this.error)}function i(e){this.src=e.src,this.w=e.w||Infinity,this.h=e.h||Infinity,this.x=e.x||1}var o=/^[0-9]+$/;n.prototype._parse=function(){for(var e=this.srcsetValue,t=0,n=[],o,r;""!==e;){for(;" "===e.charAt(0);)e=e.slice(1);if((t=e.indexOf(" "))!==-1){if(""===(o=e.slice(0,t)))break;e=e.slice(t+1),t=e.indexOf(","),t===-1?(r=e,e=""):(r=e.slice(0,t),e=e.slice(t+1)),n.push({url:o,descriptors:r})}else n.push({url:e,descriptors:""}),e=""}for(var a=0,s=n.length;a<s;a++){var c=n[a],l=this._parseDescriptors(c.descriptors);this._addCandidate(new i({src:c.url,x:l.x,w:l.w,h:l.h}))}this.srcValue&&this._addCandidate(new i({src:this.srcValue}))},n.prototype._addCandidate=function(e){for(var t=0;t<this.imageCandidates.length;t++){var n=this.imageCandidates[t];if(n.x==e.x&&n.w==e.w&&n.h==e.h)return}this.imageCandidates.push(e)},n.prototype._parseDescriptors=function(e){for(var t=e.split(/\s/),n={},i=0;i<t.length;i++){var o=t[i];if(o.length>0){var r=o[o.length-1],a=o.substring(0,o.length-1),s=parseInt(a,10),c=parseFloat(a);a.match(/^[0-9]+$/)&&"w"===r?n[r]=s:a.match(/^[0-9]+$/)&&"h"==r?n[r]=s:isNaN(c)||"x"!=r?(this.error="Invalid srcset descriptor found in "+o+".",this.isValid=!1):n[r]=c}}return n},e.exports=n},function(e,t,n){e.exports=n(20)},function(e,t){for(var n=window,i=0,o="RequestAnimationFrame",r="CancelAnimationFrame",a=["ms","moz","webkit","o"],s=0;s<a.length&&!n.requestAnimationFrame;++s)n.requestAnimationFrame=n[a[s]+"RequestAnimationFrame"],n.cancelAnimationFrame=n[a[s]+r]||n[a[s]+r];n.requestAnimationFrame||(n.requestAnimationFrame=function(e,t){var o=(new Date).getTime(),r=Math.max(0,16-(o-i)),a=n.setTimeout(function(){e(o+r)},r);return i=o+r,a}),n.cancelAnimationFrame||(n.cancelAnimationFrame=function(e){n.clearTimeout(e)})},,,,function(e,t,n){n(25)},function(e,t){},,,,,,,,,function(e,t,n){function i(e){return this instanceof i?(o.mixBundle(this,{node:window,delay:15,margin:10,scrollToBottom:null},e),this.init.apply(this),this):new Error('please use "new ScrollMonitor()"')}var o=n(3);o.mix(i.prototype,{init:function r(){return o.mix(this,{_scrollTimeout:null,_scrollNode:$(this.node),afterScrollBind:o.bind(this._afterScroll,this)}),this},run:function a(){return this._bindScroll(),this},stop:function s(){return clearTimeout(this._scrollTimeout),this._lastScroll=null,this._detachScroll(),this},_bindScroll:function c(){return $(window).on("scroll",this.afterScrollBind),this},_detachScroll:function l(){return $(window).off("scroll",this.afterScrollBind),this},_afterScroll:function u(){var e=this;return clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){e._triggerScroll()},this._delay),this},_triggerScroll:function p(){var e=this._getScrollInfo(),t=this._lastScroll;if(this._lastScroll=e,!(e.scrollTop<0||e.scrollHeight-e.viewportHeight<e.scrollTop))return e.atBottom&&(!t||!t.atBottom||e.scrollHeight>t.scrollHeight)&&this.scrollToBottom(),this},_getScrollInfo:function d(){
var e=$(window).height(),t=this._scrollNode.scrollTop(),n=t+e,i=this._scrollNode[0].scrollHeight;return{atBottom:n>=i-this.margin,viewportHeight:e,scrollHeight:i,scrollTop:t,scrollBottom:n}}}),e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div id="J_Loading" class="km-loading">\n  <span class="loading-img"></span>\n  <span class="loading-text">\u6b63\u5728\u52a0\u8f7d\u4e2d</span>\n</div>';return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<article class="record '+(null==(__t=tabClass)?"":__t)+'">\n  <p class="title">'+(null==(__t=titleText)?"":__t)+'</p>\n  <ul class="list"></ul>\n</article>';return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)$.each(data,function(e,t){__p+='\n  <li class="item">\n    ',"10002"==e.recordFrontBizType?__p+='\n    <a href="'+(null==(__t=TJB.URL.exchangeDetail+"?id="+e.id)?"":__t)+'" data-openwindow="true">\n    ':"10003"==e.recordFrontBizType?(__p+='\n    <a href="',__p+=TJB.isPre()?"//market.wapa.taobao.com/markets/taojinbi/koubeiquan?recordId=":"//market.m.taobao.com/markets/taojinbi/koubeiquan?recordId=",__p+=(null==(__t=e.id)?"":__t)+'" data-openwindow="true">\n    '):__p+="10004"==e.recordFrontBizType?'\n    <a href="'+(null==(__t=e.detailUrl)?"":__t)+'" data-openwindow="true">\n    ':'\n    <a href="'+(null==(__t="//h5.m.taobao.com/awp/coupon/detail.htm?sellerId="+e.grantUserId+"&couponId="+e.outId)?"":__t)+'" data-openwindow="true">\n    ',__p+='\n      <div class="line-left"></div>\n      <div class="line-right"></div>\n      <div class="img-wrap">\n        <img class="img J_Lazyload" data-src="',__p+=e.picUrl?(null==(__t=e.picUrl)?"":__t)+"_40x40.jpg 1x, "+(null==(__t=e.picUrl)?"":__t)+"_75x75.jpg 2x, "+(null==(__t=e.picUrl)?"":__t)+"_90x90.jpg 3x":"//gtd.alicdn.com/tps/i3/T15Zo_FpBbXXaqQZrM-160-160.png \n",__p+='" alt="" src="'+(null==(__t=TJB.placeholder)?"":__t)+'">\n      </div>\n      <div class="info-wrap">\n        <p class="name">'+(null==(__t=e.title)?"":__t)+'</p>\n        <p class="coin">'+(null==(__t=e.exchangeResAmount)?"":__t)+"\u6dd8\u91d1\u5e01\u5151\u6362</p>\n        ","10002"!=e.recordFrontBizType&&e.desc.limitDetailsObj&&e.desc.limitDetailsObj["\u6709\u6548\u671f"]&&e.desc.limitDetailsObj["\u6709\u6548\u671f"].details&&(__p+='\n          <p class="deadline">\u4f7f\u7528\u671f\u9650\uff1a'+(null==(__t=e.desc.limitDetailsObj["\u6709\u6548\u671f"].details.join(","))?"":__t)+"</p>\n        "),__p+="\n      </div>\n      ","10002"==e.recordFrontBizType?__p+='\n        <div class="detail detail-exchange">\n          <div class="line-sep"></div>\n          <p class="main-info">'+(null==(__t=ellipsis(e.outId,12))?"":__t)+'</p>\n          <p class="sub-info">\u5151\u6362\u7801</p>\n        </div>\n        ':"10003"==e.recordFrontBizType?__p+='\n        <div class="detail detail-koubei">\n          <div class="line-sep"></div>\n          <p class="main-info">\u652f\u4ed8\u5b9d\u53e3\u7891\u5238</p>\n          <p class="sub-info">\u9650\u7ebf\u4e0b\u95e8\u5e97\u4f7f\u7528</p>\n        </div>\n      ':(__p+='\n        <div class="detail detail-coupon">\n          <div class="line-sep"></div>\n          <p class="main-info"><i class="price-symbol">&yen;</i>'+(null==(__t=e.desc.couponAmount)?"":__t)+"</p>\n          ",e.desc.couponStartFee&&(__p+='\n            <p class="sub-info">\u6ee1'+(null==(__t=e.desc.couponStartFee)?"":__t)+"\u4f7f\u7528</p>\n          "),__p+="\n        </div>\n      "),__p+="\n    </a>\n  </li>\n"});return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="empty-img">\u4eb2\uff0c\u4f60\u7684\u8bb0\u5f55\u4e3a\u7a7a\u54e6\uff01</div>\n';return __p}}]);