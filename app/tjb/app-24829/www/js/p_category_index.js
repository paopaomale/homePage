!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};e.m=t,e.c=n,e.p="/build/",e(0)}([function(t,e,n){function i(){a.apply(this,arguments)}n(1),n(2);var o=n(3),r=n(21),a=n(29),s=n(35);o.extend(i,a),new i(r,{tabTotal:10}),new s(".km-tab-contents","biyouhaohuo"),t.exports=i},function(t,e){},function(t,e,n){var i=n(3);n(14).setupConfig({delay:10,offsetPageY:800,maxNum:120,autoRemove:!1});var o=window.TJB={URL:{index:i.parseUrl("index3",!0),exchangeRecords:i.parseUrl("exchange-records"),coinDetails:i.parseUrl("coin-details"),exchangeDetail:i.parseUrl("exchange-detail"),myCoin:i.parseUrl("my-coin"),task:i.parseUrl("task"),coinExchange:i.parseUrl("coin-exchange"),category:i.parseUrl("category"),coinRules:"//market.m.taobao.com/markets/taojinbi/jinbibaoxiangzhinan_copy",taoxpInfo:i.parseUrl("taoxp/info"),taoxpDetail:i.parseUrl("taoxp/detail"),taoxpCreate:i.parseUrl("taoxp/create"),taoxpIndex:i.parseUrl("taoxp/index"),wishIndex:i.parseUrl("wish/index"),wishChest:i.parseUrl("wish/chest"),wishDetail:i.parseUrl("wish/detail"),wishHelp:i.parseUrl("wish/help"),wishHit:i.parseUrl("wish/hit"),wishSubmit:i.parseUrl("wish/submit"),wishMy:i.parseUrl("wish/my")},isPre:function r(){return location.origin.indexOf("wapa.taobao.com")>0},placeholder:"data:image/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII="};t.exports=o},function(t,e,n){var i=n(4);n(5),n(12);var o=n(13),r=navigator.userAgent,a=window.lib||{};t.exports=i.merge(i,{now:Date.now||function(){return(new Date).getTime()},isWindVaneSDK:function s(){return!!~r.indexOf("WindVane")},isEmptyArray:function c(t){return!t||!i.isArray(t)||0===t.length},mixBundle:function u(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];i.each(n,function(e,n){i.mix(t,e,{overwrite:!0,deep:!0})})},getUrlParams:function l(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],e=location.search,n={};if(e.indexOf("?")==-1)return n;var i=e.substr(1),o=i.split("&"),r=void 0;return o.forEach(function(e,i){r=e.split("="),t.indexOf(r[0])!==-1&&r[1]!==undefined&&(n[r[0]]=unescape(r[1]))}),n},getUrlParam:function d(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.location.href,n=encodeURIComponent(t)+"=",i=e.indexOf(n),o=null;if(i>-1){var r=e.indexOf("&",i);r==-1&&(r=e.length),o=decodeURIComponent(e.substring(i+n.length,r))}return o},request:function f(t){var e=this;return new o(function(n,i){a.mtop.request({api:t.api,v:t.v||"1.0",data:t.data,ecode:t.ecode||"0",isSec:t.isSec||0},function(t){n(t)},function(t,n){var o=t&&t.ret;o.join&&(o=o.join(",")),e.checkLoginResult(o,n)?e.goLogin():i(t)})})},checkLoginResult:function p(t,e){return t.indexOf("SESSION_EXPIRED")>-1||t.indexOf("FAIL_SYS_SESSION_EXPIRED")>-1||t.indexOf("SID_INVALID")>-1||t.indexOf("AUTH_REJECT")>-1||t.indexOf("NEED_LOGIN")>-1||1==e||2==e||"1"==e||"2"==e},isLogin:function h(){return a.login.isLogin()},goLogin:function m(){a.login.goLogin()},checkAndGoLogin:function g(){this.isLogin()||this.goLogin()},isTrue:function v(t){return t===!0||"true"===t},sendStatistic:function w(t,e,n,o){t&&o&&window.goldlog&&(i.isObject(n)&&(n=i.param(n)),goldlog.record(t,e,n,o))},sendCode:function _(t,e){t&&((new Image).src="//gm.mmstat.com/"+t+"?"+(e?i.param(e)+"&":"")+"cache="+this.now())},getGuid:function y(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},fromUnicode:function b(t){return unescape(t.replace(/\\u/g,"%u"))},parseUrl:function A(t,e){var n=location.origin,i=e?".html":"/index.html";return~location.href.indexOf("src/p")?n+="/src/p/":~location.href.indexOf("app/tjb/www")?n+="/app/tjb/www/":~location.href.indexOf("app/wish/www")?n+="/app/wish/www/":(n+="/vip/",i=".html"),n+t+i},ellipsis:function x(t,e){return t.length<=e?t:t.slice(0,e)+"..."},initDateFormat:function E(){Date.prototype.format=Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}},setTitle:function S(t){var e=this;t&&(document.title=t,window.WindVane&&WindVane.isAvailable===!0&&window.WindVane.call("WebAppInterface","setCustomPageTitle",t,function(){},function(){}))},openWindow:function T(t){if(window.WindVane&&WindVane.isAvailable===!0){var e={url:t,popBeforeOpen:!1};window.WindVane.call("Base","openWindow",e,function(t){},function(e){location.href=t})}else location.href=t},parseDate:function I(t){var e=t.match(/^(\d+)-(\d+)-(\d+) (\d+)\:(\d+)\:(\d+)$/);return new Date(e[1],e[2]-1,e[3],e[4],e[5],e[6])},htmlEncodeAll:function C(t){return null==t?"":t.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},addUrlParam:function k(t,e){return t+(t.indexOf("?")==-1?"?":"&")+e},arrToObj:function R(t,e){if(!i.isArray(t)||"string"!=typeof e)return t;var n={};return t.forEach(function(t){t[e]&&(n[t[e]]=t)}),n},renderMtopUrl:function O(t){return~location.host.indexOf("waptest.taobao.com")?"//h5.waptest.taobao.com/"+t:~location.host.indexOf("wapa.taobao.com")?"//wapp.wapa.taobao.com/"+t:~location.host.indexOf("m.taobao.com")?"//h5.m.taobao.com/"+t:void 0}})},function(t,e){t.exports=$.__util__},function(t,e,n){n(6),n(7),n(11),t.exports=window.lib.mtop},function(t,e,n){n(7),n(10),t.exports=window.lib.windvane},function(t,e,n){var i,i;(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function n(t,e,o){function r(s,c){if(!e[s]){if(!t[s]){var u="function"==typeof i&&i;if(!c&&u)return i(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=e[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return r(n?n:e)},d,d.exports,n,t,e,o)}return e[s].exports}for(var a="function"==typeof i&&i,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e){function n(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){n.shift()()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=n,i.addListener=n,i.once=n,i.off=n,i.removeListener=n,i.removeAllListeners=n,i.emit=n,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(t,n){function i(t){function n(t){return null===u?void d.push(t):void a(function(){var e=u?t.onFulfilled:t.onRejected;if(null===e)return void(u?t.resolve:t.reject)(l);var n;try{n=e(l)}catch(o){return void t.reject(o)}t.resolve(n)})}function i(t){try{if(t===f)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==(void 0===t?"undefined":e(t))||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void r(n.bind(t),i,s)}u=!0,l=t,c()}catch(o){s(o)}}function s(t){u=!1,l=t,c()}function c(){for(var t=0,e=d.length;e>t;t++)n(d[t]);d=null}if("object"!=e(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");var u=null,l=null,d=[],f=this;this.then=function(t,e){return new f.constructor(function(i,r){n(new o(t,e,i,r))})},r(t,i,s)}function o(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function r(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(r){if(i)return;i=!0,n(r)}}var a=t("asap");n.exports=i},{asap:4}],3:[function(t,n){function i(t){this.then=function(e){return"function"!=typeof e?this:new o(function(n,i){r(function(){try{n(e(t))}catch(r){i(r)}})})}}var o=t("./core.js"),r=t("asap");n.exports=o,i.prototype=o.prototype;var a=new i(!0),s=new i(!1),c=new i(null),u=new i(void 0),l=new i(0),d=new i("");o.resolve=function(t){if(t instanceof o)return t;if(null===t)return c;if(void 0===t)return u;if(t===!0)return a;if(t===!1)return s;if(0===t)return l;if(""===t)return d;if("object"==(void 0===t?"undefined":e(t))||"function"==typeof t)try{var n=t.then;if("function"==typeof n)return new o(n.bind(t))}catch(r){return new o(function(t,e){e(r)})}return new i(t)},o.all=function(t){var n=Array.prototype.slice.call(t);return new o(function(t,i){function o(a,s){try{if(s&&("object"==(void 0===s?"undefined":e(s))||"function"==typeof s)){var c=s.then;if("function"==typeof c)return void c.call(s,function(t){o(a,t)},i)}n[a]=s,0==--r&&t(n)}catch(u){i(u)}}if(0===n.length)return t([]);for(var r=n.length,a=0;a<n.length;a++)o(a,n[a])})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){t.forEach(function(t){o.resolve(t).then(e,n)})})},o.prototype["catch"]=function(t){return this.then(null,t)}},{"./core.js":2,asap:4}],4:[function(e,n){(function(e){function i(){for(;r.next;){r=r.next;var t=r.task;r.task=void 0;var e=r.domain;e&&(r.domain=void 0,e.enter());try{t()}catch(o){if(u)throw e&&e.exit(),setTimeout(i,0),e&&e.enter(),o;setTimeout(function(){throw o},0)}e&&e.exit()}s=!1}function o(t){a=a.next={task:t,domain:u&&e.domain,next:null},s||(s=!0,c())}var r={task:void 0,next:null},a=r,s=!1,c=void 0,u=!1;if(void 0!==e&&e.nextTick)u=!0,c=function d(){e.nextTick(i)};else if("function"==typeof t)c="undefined"!=typeof window?t.bind(window,i):function(){t(i)};else if("undefined"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=i,c=function f(){l.port2.postMessage(0)}}else c=function p(){setTimeout(i,0)};n.exports=o}).call(this,e("_process"))},{_process:1}],5:[function(){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(){(arguments.length?this.then.apply(this,arguments):this).then(null,function(t){setTimeout(function(){throw t},0)})})},{}],6:[function(t){t("asap"),"undefined"==typeof Promise&&(Promise=t("./lib/core.js"),t("./lib/es6-extensions.js")),t("./polyfill-done.js")},{"./lib/core.js":2,"./lib/es6-extensions.js":3,"./polyfill-done.js":5,asap:4}]},{},[6])}).call(e,n(8).setImmediate)},function(t,e,n){(function(t,i){function o(t,e){this._id=t,this._clearFn=e}var r=n(9).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,c={},u=0;e.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function n(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=u++,i=!(arguments.length<2)&&s.call(arguments,1);return c[n]=!0,r(function o(){c[n]&&(i?t.apply(null,i):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof i?i:function(t){delete c[t]}}).call(e,n(8).setImmediate,n(8).clearImmediate)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(d===setTimeout)return setTimeout(t,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(t,0);try{return d(t,0)}catch(e){try{return d.call(null,t,0)}catch(e){return d.call(this,t,0)}}}function r(t){if(f===clearTimeout)return clearTimeout(t);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){h&&m&&(h=!1,m.length?p=m.concat(p):g=-1,p.length&&s())}function s(){if(!h){var t=o(a);h=!0;for(var e=p.length;e;){for(m=p,p=[];++g<e;)m&&m[g].run();g=-1,e=p.length}m=null,h=!1,r(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l=t.exports={},d,f;!function(){try{d="function"==typeof setTimeout?setTimeout:n}catch(t){d=n}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(t){f=i}}();var p=[],h=!1,m,g=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new c(t,e)),1!==p.length||h||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(t,e){function i(t,e){t=t.toString().split("."),e=e.toString().split(".");for(var n=0;n<t.length||n<e.length;n++){var i=parseInt(t[n],10),o=parseInt(e[n],10);if(window.isNaN(i)&&(i=0),window.isNaN(o)&&(o=0),i<o)return-1;if(i>o)return 1}return 0}var o=t.Promise,r=t.document,a=t.navigator.userAgent,s=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(a)||/Windows\sNT\s[\d\.]+/i.test(a),c=s&&t.WindVane_Win_Private&&t.WindVane_Win_Private.call,u=/iPhone|iPad|iPod/i.test(a),l=/Android/i.test(a),d=a.match(/WindVane[\/\s](\d+[._]\d+[._]\d+)/),f=Object.prototype.hasOwnProperty,p=e.windvane=t.WindVane||(t.WindVane={}),h=(t.WindVane_Native,Math.floor(65536*Math.random())),m=1,g=[],v=3,w="hybrid",_="wv_hybrid",y="iframe_",b="param_",A="chunk_",x=6e5,E=6e5,S=6e4;d=d?(d[1]||"0.0.0").replace(/\_/g,"."):"0.0.0";var T={isAvailable:1===i(d,"0"),call:function k(t,e,n,i,r,a){var s,c;"number"==typeof arguments[arguments.length-1]&&(a=arguments[arguments.length-1]),"function"!=typeof i&&(i=null),"function"!=typeof r&&(r=null),o&&(c={},c.promise=new o(function(t,e){c.resolve=t,c.reject=e})),s=I.getSid();var u={success:i,failure:r,deferred:c};if(a>0&&(u.timeout=setTimeout(function(){T.onFailure(s,{ret:"HY_TIMEOUT"})},a)),I.registerCall(s,u),I.registerGC(s,a),T.isAvailable?I.callMethod(t,e,n,s):T.onFailure(s,{ret:"HY_NOT_IN_WINDVANE"}),c)return c.promise},fireEvent:function R(t,e,n){var i=r.createEvent("HTMLEvents");i.initEvent(t,!1,!0),i.param=I.parseData(e||I.getData(n)),r.dispatchEvent(i)},getParam:function O(t){return I.getParam(t)},setData:function P(t,e){I.setData(t,e)},onSuccess:function L(t,e){I.onComplete(t,e,"success")},onFailure:function N(t,e){I.onComplete(t,e,"failure")}},I={params:{},chunks:{},calls:{},getSid:function U(){return(h+m++)%65536+""},buildParam:function q(t){return t&&"object"==(void 0===t?"undefined":n(t))?JSON.stringify(t):t||""},getParam:function D(t){return this.params[b+t]||""},setParam:function j(t,e){this.params[b+t]=e},parseData:function M(t){var e;if(t&&"string"==typeof t)try{e=JSON.parse(t)}catch(t){e={ret:["WV_ERR::PARAM_PARSE_ERROR"]}}else e=t||{};return e},setData:function W(){this.chunks[A+sid]=this.chunks[A+sid]||[],this.chunks[A+sid].push(chunk)},getData:function $(t){return this.chunks[A+t]?this.chunks[A+t].join(""):""},registerCall:function V(t,e){this.calls[t]=e},unregisterCall:function F(t){var e={};return this.calls[t]&&(e=this.calls[t],delete this.calls[t]),e},useIframe:function B(t,e){var n=y+t,i=g.pop();i||(i=r.createElement("iframe"),i.setAttribute("frameborder","0"),i.style.cssText="width:0;height:0;border:0;display:none;"),i.setAttribute("id",n),i.setAttribute("src",e),i.parentNode||setTimeout(function(){r.body.appendChild(i)},5)},retrieveIframe:function J(t){var e=y+t,n=r.querySelector("#"+e);g.length>=3?r.body.removeChild(n):g.indexOf(n)<0&&g.push(n)},callMethod:function H(e,n,i,o){if(i=I.buildParam(i),s)c?t.WindVane_Win_Private.call(e,n,o,i):this.onComplete(o,{ret:"HY_NO_HANDLER_ON_WP"},"failure");else{var r="hybrid://"+e+":"+o+"/"+n+"?"+i;if(u)this.setParam(o,i),this.useIframe(o,r);else if(l){var a="wv_hybrid:";window.prompt(r,"wv_hybrid:")}else this.onComplete(o,{ret:"HY_NOT_SUPPORT_DEVICE"},"failure")}},registerGC:function X(t,e){var n=this,i=Math.max(e||0,6e5),o=Math.max(e||0,6e4),r=Math.max(e||0,6e5);setTimeout(function(){n.unregisterCall(t)},i),u?setTimeout(function(){n.params[b+t]&&delete n.params[b+t]},o):l&&setTimeout(function(){n.chunks[A+t]&&delete n.chunks[A+t]},r)},onComplete:function z(t,e,n){var i=this.unregisterCall(t),o=i.success,r=i.failure,a=i.deferred,s=i.timeout;s&&clearTimeout(s),e=e?e:this.getData(t),e=this.parseData(e);var c=e.ret;"string"==typeof c&&(e=e.value||e,e.ret||(e.ret=[c])),"success"===n?(o&&o(e),a&&a.resolve(e)):"failure"===n&&(r&&r(e),a&&a.reject(e)),u?(this.retrieveIframe(t),this.params[b+t]&&delete this.params[b+t]):l&&this.chunks[A+t]&&delete this.chunks[A+t]}};for(var C in T)f.call(p,C)||(p[C]=T[C])}(window,window.lib||(window.lib={})),t.exports=window.lib.windvane},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),!function(t,e){function i(){var t={},e=new m(function(e,n){t.resolve=e,t.reject=n});return t.promise=e,t}function o(t,e){for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}function r(t){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(t)}function a(t){var e=[];for(var n in t)t[n]&&e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")}function s(t){return t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1)}function c(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,i,o,r,a;return o=2147483648&t,r=2147483648&e,n=1073741824&t,i=1073741824&e,a=(1073741823&t)+(1073741823&e),n&i?2147483648^a^o^r:n|i?1073741824&a?3221225472^a^o^r:1073741824^a^o^r:a^o^r}function i(t,e,n){return t&e|~t&n}function o(t,e,n){return t&n|e&~n}function r(t,e,n){return t^e^n}function a(t,e,n){return e^(t|~n)}function s(t,o,r,a,s,c,u){return t=n(t,n(n(i(o,r,a),s),u)),n(e(t,c),o)}function c(t,i,r,a,s,c,u){return t=n(t,n(n(o(i,r,a),s),u)),n(e(t,c),i)}function u(t,i,o,a,s,c,u){return t=n(t,n(n(r(i,o,a),s),u)),n(e(t,c),i)}function l(t,i,o,r,s,c,u){return t=n(t,n(n(a(i,o,r),s),u)),n(e(t,c),i)}function d(t){for(var e,n=t.length,i=n+8,o=(i-i%64)/64,r=16*(o+1),a=new Array(r-1),s=0,c=0;n>c;)e=(c-c%4)/4,s=c%4*8,a[e]=a[e]|t.charCodeAt(c)<<s,c++;return e=(c-c%4)/4,s=c%4*8,a[e]=a[e]|128<<s,a[r-2]=n<<3,a[r-1]=n>>>29,a}function f(t){var e,n,i="",o="";for(n=0;3>=n;n++)e=t>>>8*n&255,o="0"+e.toString(16),i+=o.substr(o.length-2,2);return i}function p(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e+=String.fromCharCode(i):i>127&&2048>i?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e}var h,m,g,v,w,_,y,b,A,x=[],E=7,S=12,T=17,I=22,C=5,k=9,R=14,O=20,P=4,L=11,N=16,U=23,q=6,D=10,j=15,M=21;for(t=p(t),x=d(t),_=1732584193,y=4023233417,b=2562383102,A=271733878,h=0;h<x.length;h+=16)m=_,g=y,v=b,w=A,_=s(_,y,b,A,x[h+0],7,3614090360),A=s(A,_,y,b,x[h+1],12,3905402710),b=s(b,A,_,y,x[h+2],17,606105819),y=s(y,b,A,_,x[h+3],22,3250441966),_=s(_,y,b,A,x[h+4],7,4118548399),A=s(A,_,y,b,x[h+5],12,1200080426),b=s(b,A,_,y,x[h+6],17,2821735955),y=s(y,b,A,_,x[h+7],22,4249261313),_=s(_,y,b,A,x[h+8],7,1770035416),A=s(A,_,y,b,x[h+9],12,2336552879),b=s(b,A,_,y,x[h+10],17,4294925233),y=s(y,b,A,_,x[h+11],22,2304563134),_=s(_,y,b,A,x[h+12],7,1804603682),A=s(A,_,y,b,x[h+13],12,4254626195),b=s(b,A,_,y,x[h+14],17,2792965006),y=s(y,b,A,_,x[h+15],22,1236535329),_=c(_,y,b,A,x[h+1],5,4129170786),A=c(A,_,y,b,x[h+6],9,3225465664),b=c(b,A,_,y,x[h+11],14,643717713),y=c(y,b,A,_,x[h+0],20,3921069994),_=c(_,y,b,A,x[h+5],5,3593408605),A=c(A,_,y,b,x[h+10],9,38016083),b=c(b,A,_,y,x[h+15],14,3634488961),y=c(y,b,A,_,x[h+4],20,3889429448),_=c(_,y,b,A,x[h+9],5,568446438),A=c(A,_,y,b,x[h+14],9,3275163606),b=c(b,A,_,y,x[h+3],14,4107603335),y=c(y,b,A,_,x[h+8],20,1163531501),_=c(_,y,b,A,x[h+13],5,2850285829),A=c(A,_,y,b,x[h+2],9,4243563512),b=c(b,A,_,y,x[h+7],14,1735328473),y=c(y,b,A,_,x[h+12],20,2368359562),_=u(_,y,b,A,x[h+5],4,4294588738),A=u(A,_,y,b,x[h+8],11,2272392833),b=u(b,A,_,y,x[h+11],16,1839030562),y=u(y,b,A,_,x[h+14],23,4259657740),_=u(_,y,b,A,x[h+1],4,2763975236),A=u(A,_,y,b,x[h+4],11,1272893353),b=u(b,A,_,y,x[h+7],16,4139469664),y=u(y,b,A,_,x[h+10],23,3200236656),_=u(_,y,b,A,x[h+13],4,681279174),A=u(A,_,y,b,x[h+0],11,3936430074),b=u(b,A,_,y,x[h+3],16,3572445317),y=u(y,b,A,_,x[h+6],23,76029189),_=u(_,y,b,A,x[h+9],4,3654602809),A=u(A,_,y,b,x[h+12],11,3873151461),b=u(b,A,_,y,x[h+15],16,530742520),y=u(y,b,A,_,x[h+2],23,3299628645),_=l(_,y,b,A,x[h+0],6,4096336452),A=l(A,_,y,b,x[h+7],10,1126891415),b=l(b,A,_,y,x[h+14],15,2878612391),y=l(y,b,A,_,x[h+5],21,4237533241),_=l(_,y,b,A,x[h+12],6,1700485571),A=l(A,_,y,b,x[h+3],10,2399980690),b=l(b,A,_,y,x[h+10],15,4293915773),y=l(y,b,A,_,x[h+1],21,2240044497),_=l(_,y,b,A,x[h+8],6,1873313359),A=l(A,_,y,b,x[h+15],10,4264355552),b=l(b,A,_,y,x[h+6],15,2734768916),y=l(y,b,A,_,x[h+13],21,1309151649),_=l(_,y,b,A,x[h+4],6,4149444226),A=l(A,_,y,b,x[h+11],10,3174756917),b=l(b,A,_,y,x[h+2],15,718787259),y=l(y,b,A,_,x[h+9],21,3951481745),_=n(_,m),y=n(y,g),b=n(b,v),A=n(A,w);return(f(_)+f(y)+f(b)+f(A)).toLowerCase()}function u(t,e,n){var i=n||{};document.cookie=t.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+e.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(i.domain?";domain="+i.domain:"")+(i.path?";path="+i.path:"")+(i.secure?";secure":"")+(i.httponly?";HttpOnly":"")}function l(t){var e=new RegExp("(?:^|;\\s*)"+t+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return e?e[1]:void 0}function d(t,e,n){var i=new Date;i.setTime(i.getTime()-864e5);var o="/";document.cookie=t+"=;path=/;domain=."+e+";expires="+i.toGMTString(),document.cookie=t+"=;path=/;domain=."+n+"."+e+";expires="+i.toGMTString()}function f(){var e=t.location.hostname;if(!e){var n=t.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(e=n)}var i=["taobao.net","taobao.com","tmall.com","tmall.hk","etao.com","alibaba-inc.com"],o=new RegExp("([^.]*?)\\.?((?:"+i.join(")|(?:").replace(/\./g,"\\.")+"))","i"),r=e.match(o)||[],a=r[2]||"taobao.com",s=r[1]||"m";"taobao.net"!==a||"x"!==s&&"waptest"!==s&&"daily"!==s?"taobao.net"===a&&"demo"===s?s="demo":"alibaba-inc.com"===a&&"zebra"===s?s="zebra":"waptest"!==s&&"wapa"!==s&&"m"!==s&&(s="m"):s="waptest";var c="etao.com"===a?"apie":"api";c="taobao.com"===a?"acs":c,_.mainDomain=a,_.subDomain=s,_.prefix=c}function p(){var e=t.navigator.userAgent,n=e.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(_.WindVaneVersion=n[1]);var i=e.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);i&&(_.AliAppName=i[1],_.AliAppVersion=i[2])}function h(t){this.id=++A,this.params=o(t||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==n(this.params.data)&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=y.slice(0)}var m=t.Promise;if(!m){var g="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Promise\uff0c\u8bf7\u5728windows\u5bf9\u8c61\u4e0a\u6302\u8f7dPromise\u5bf9\u8c61\u53ef\u53c2\u8003\uff08http://gitlab.alibaba-inc.com/mtb/lib-es6polyfill/tree/master\uff09\u4e2d\u7684\u89e3\u51b3\u65b9\u6848";throw e.mtop={ERROR:g},new Error(g)}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var v,w=m.resolve();try{v=t.localStorage,v.setItem("@private","false")}catch(R){v=!1}var _={useAlipayJSBridge:!1},y=[],b={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};f(),p();var A=0,x="2.3.16";h.prototype.use=function(t){if(!t)throw new Error("middleware is undefined");return this.middlewares.push(t),this},h.prototype.__processRequestMethod=function(t){var e=this.params,n=this.options;"get"===e.type&&"jsonp"===e.dataType?n.getJSONP=!0:"get"===e.type&&"originaljsonp"===e.dataType?n.getOriginalJSONP=!0:"get"===e.type&&"json"===e.dataType?n.getJSON=!0:"post"===e.type&&(n.postJSON=!0),t()},h.prototype.__processRequestType=function(t){var n=this,i=this.options;if(_.H5Request===!0&&(i.H5Request=!0),_.WindVaneRequest===!0&&(i.WindVaneRequest=!0),i.H5Request===!1&&i.WindVaneRequest===!0){if(!e.windvane||parseFloat(i.WindVaneVersion)<5.4)throw new Error("WINDVANE_NOT_FOUND::\u7f3a\u5c11WindVane\u73af\u5883")}else i.H5Request===!0?i.WindVaneRequest=!1:"undefined"==typeof i.WindVaneRequest&&"undefined"==typeof i.H5Request&&(e.windvane&&parseFloat(i.WindVaneVersion)>=5.4?i.WindVaneRequest=!0:i.H5Request=!0);return t?t().then(function(){var t=i.retJson.ret;return t instanceof Array&&(t=t.join(",")),i.WindVaneRequest===!0&&(!t||t.indexOf("HY_FAILED")>-1||t.indexOf("HY_NO_HANDLER")>-1||t.indexOf("HY_CLOSED")>-1||t.indexOf("HY_EXCEPTION")>-1||t.indexOf("HY_NO_PERMISSION")>-1)?(_.H5Request=!0,n.__sequence([n.__processRequestType,n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])):void 0}):void 0};var E="_m_h5_c",S="_m_h5_tk",T="_m_h5_tk_enc";h.prototype.__getTokenFromAlipay=function(){var e=i(),n=this.options,o=(t.navigator.userAgent,!!location.protocol.match(/^https?\:$/)),r="AP"===n.AliAppName&&parseFloat(n.AliAppVersion)>=8.2;return n.useAlipayJSBridge===!0&&!o&&r&&t.AlipayJSBridge&&t.AlipayJSBridge.call?t.AlipayJSBridge.call("getMtopToken",function(t){t&&t.token&&(n.token=t.token),e.resolve()},function(){e.resolve()}):e.resolve(),e.promise},h.prototype.__getTokenFromCookie=function(){var t=this.options;return t.token=t.token||l(S),t.token&&(t.token=t.token.split("_")[0]),m.resolve()},h.prototype.__processToken=function(t){var e=this,n=this.options;return this.params,n.token&&delete n.token,n.WindVaneRequest!==!0?w.then(function(){return e.__getTokenFromAlipay()}).then(function(){return e.__getTokenFromCookie()}).then(t).then(function(){var t=n.retJson,i=t.ret;if(i instanceof Array&&(i=i.join(",")),i.indexOf("TOKEN_EMPTY")>-1||n.CDR===!0&&i.indexOf("ILLEGAL_ACCESS")>-1||i.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes)return e.__sequence([e.__processToken,e.__processRequestUrl,e.__processUnitPrefix,e.middlewares,e.__processRequest]);n.maxRetryTimes>0&&(d(E,n.pageDomain,"*"),d(S,n.mainDomain,n.subDomain),d("_m_h5_tk_enc",n.mainDomain,n.subDomain)),t.retType=b.TOKEN_EXPIRED}}):void t()},h.prototype.__processRequestUrl=function(e){var n=this.params,i=this.options;if(i.hostSetting&&i.hostSetting[t.location.hostname]){var o=i.hostSetting[t.location.hostname];o.prefix&&(i.prefix=o.prefix),o.subDomain&&(i.subDomain=o.subDomain),o.mainDomain&&(i.mainDomain=o.mainDomain)}if(i.H5Request===!0){var r="//"+(i.prefix?i.prefix+".":"")+(i.subDomain?i.subDomain+".":"")+i.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",a=n.appKey||("waptest"===i.subDomain?"4272":"12574478"),s=(new Date).getTime(),u=c(i.token+"&"+s+"&"+a+"&"+n.data),l={jsv:"2.3.16",appKey:a,t:s,sign:u},d={data:n.data,ua:n.ua};Object.keys(n).forEach(function(t){"undefined"==typeof l[t]&&"undefined"==typeof d[t]&&(l[t]=n[t])}),i.getJSONP?l.type="jsonp":i.getOriginalJSONP?l.type="originaljsonp":(i.getJSON||i.postJSON)&&(l.type="originaljson"),i.querystring=l,i.postdata=d,i.path=r}e()},h.prototype.__processUnitPrefix=function(e){var n=this.params,i=this.options;if(i.disabledUnit===!0)return void e();if(v&&i.H5Request===!0){var o=n.api,a=!1,s=l("_m_user_unitinfo_"),c=v.getItem("unitinfo");s&&s.split("|")[0].indexOf("center")<0&&c&&c.indexOf(o.toLowerCase())>=0&&(a=s.split("|")[1]),i.h5UnitPrefix?i.path=i.path.replace(/^\/\//,"//"+i.h5UnitPrefix):a&&i.path&&(i.useAcsUnit===!0||i.path.indexOf("taobao.com")>-1&&"acs"===i.prefix?i.path=i.path.replace(/^\/\//,"//"+a):i.path=i.path.replace(/^\/\//,"//"+a+".")),e().then(function(){if(v){var e=l("_m_unitapi_v_"),n=v.getItem("unitinfo");if(e){var o=n?JSON.parse(n):{};if(!n||e!==o.version){var a=!1,s="//h5."+i.subDomain+".taobao.com/js/mtop/unit/"+e+"/unitApi.js",c=document.createElement("script");c.src=s,c.async=!0;var u=function d(){a||(a=!0,c.onload=c.onerror=null,c.parentNode&&c.parentNode.removeChild(c))};c.onerror=function(){u()},t.jsonp_unitapi||(t.jsonp_unitapi=function(t){u(),v.setItem("unitinfo",JSON.stringify(t))}),r(c)}}}})}else e()};var I=0;h.prototype.__requestJSONP=function(t){function e(t){if(l&&clearTimeout(l),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===t)window[u]=function(){window[u]=void 0;try{delete window[u]}catch(t){}};else{window[u]=void 0;try{delete window[u]}catch(e){}}}var n=i(),o=this.params,s=this.options,c=o.timeout||2e4,u="mtopjsonp"+ ++I,l=setTimeout(function(){t("TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),e("TIMEOUT")},c);s.querystring.callback=u;var d=document.createElement("script");return d.src=s.path+"?"+a(s.querystring)+"&"+a(s.postdata),d.async=!0,d.onerror=function(){e("ABORT"),t("ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")},window[u]=function(){s.results=Array.prototype.slice.call(arguments),e(),n.resolve()},r(d),n.promise},h.prototype.__requestJSON=function(e){function n(t){f&&clearTimeout(f),"TIMEOUT"===t&&u.abort()}var o=i(),r=this.params,c=this.options,u=new t.XMLHttpRequest,d=r.timeout||2e4,f=setTimeout(function(){e("TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),n("TIMEOUT")},d);c.pageDomain=c.pageDomain||s(t.location.hostname),c.mainDomain!=c.pageDomain&&(c.maxRetryTimes=3,c.CDR=!0,l(E)&&(c.querystring.c=decodeURIComponent(l(E)))),u.onreadystatechange=function(){if(4==u.readyState){var t,i,r=u.status;if(r>=200&&300>r||304==r){n(),t=u.responseText,i=u.getAllResponseHeaders()||"";try{t=/^\s*$/.test(t)?{}:JSON.parse(t),t.responseHeaders=i,c.results=[t],o.resolve()}catch(s){e("PARSE_JSON_ERROR::\u89e3\u6790JSON\u5931\u8d25")}}else n("ABORT"),e("ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")}};var p,h,m=c.path+"?"+a(c.querystring);if(c.getJSON?(p="GET",m+="&"+a(c.postdata)):c.postJSON&&(p="POST",h=a(c.postdata)),u.open(p,m,!0),u.withCredentials=!0,u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.headers)for(var g in r.headers)u.setRequestHeader(g,r.headers[g]);return u.send(h),o.promise},h.prototype.__requestWindVane=function(t){function n(t){u.results=[t],s.resolve()}var o,r,a,s=i(),c=this.params,u=this.options,l=c.data,d=c.api,f=c.v,p=u.postJSON?1:0,h=u.getJSON||u.postJSON?"originaljson":"",m="https"===location.protocol?1:0,g=c.isSec||0,v=c.sessionOption||"AutoLoginOnly"
;if("undefined"==typeof c.ecode)throw new Error("UNEXCEPT_PARAM_ECODE::\u7f3a\u5c11ecode\u53c2\u6570");return o=parseInt(c.ecode),a="undefined"!=typeof c.timer?parseInt(c.timer):"undefined"!=typeof c.timeout?parseInt(c.timeout):2e4,r=2*a,c.needLogin===!0&&"undefined"==typeof c.sessionOption&&(v="AutoLoginAndManualLogin"),"undefined"!=typeof c.secType&&"undefined"==typeof c.isSec&&(g=c.secType),e.windvane.call("MtopWVPlugin","send",{api:d,v:f,post:String(p),type:h,isHttps:String(m),ecode:String(o),isSec:String(g),param:JSON.parse(l),timer:a,sessionOption:v,ext_headers:{referer:location.href}},n,n,r),s.promise},h.prototype.__processRequest=function(t,e){var n=this;return w.then(function(){var t=n.options;if(t.H5Request&&(t.getJSONP||t.getOriginalJSONP))return n.__requestJSONP(e);if(t.H5Request&&(t.getJSON||t.postJSON))return n.__requestJSON(e);if(t.WindVaneRequest)return n.__requestWindVane(e);throw new Error("UNEXCEPT_REQUEST::\u9519\u8bef\u7684\u8bf7\u6c42\u7c7b\u578b")}).then(t).then(function(){var t=n.options,e=(n.params,t.results[0]),i=e&&e.ret||[];e.ret=i,i instanceof Array&&(i=i.join(","));var o=e.c;if(t.CDR&&o){var r=o.split(";");u(E,o,{domain:t.pageDomain,path:"/"}),u(S,r[0],{domain:t.pageDomain,path:"/"})}i.indexOf("SUCCESS")>-1?e.retType=b.SUCCESS:e.retType=b.ERROR,t.retJson=e})},h.prototype.__sequence=function(t){function e(t){if(t instanceof Array)t.forEach(e);else{var a,s=i(),c=i();o.push(function(){return s=i(),a=t.call(n,function(t){return s.resolve(t),c.promise},function(t){return s.reject(t),c.promise}),a&&(a=a["catch"](function(t){s.reject(t)})),s.promise}),r.push(function(t){return c.resolve(t),a})}}var n=this,o=[],r=[];t.forEach(e);for(var a,s=w;a=o.shift();)s=s.then(a);for(;a=r.pop();)s=s.then(a);return s};var C=function O(t){t()},k=function P(t){t()};h.prototype.request=function(t){var e=this;this.options=o(t||{},_);var n=m.resolve([C,k]).then(function(t){var n=t[0],i=t[1];return e.__sequence([n,e.__processRequestMethod,e.__processRequestType,e.__processToken,e.__processRequestUrl,e.__processUnitPrefix,e.middlewares,e.__processRequest,i])}).then(function(){var t=e.options.retJson;return t.retType!==b.SUCCESS?m.reject(t):e.options.successCallback?void e.options.successCallback(t):m.resolve(t)})["catch"](function(t){var n;return t instanceof Error?(console.error(t.stack),n={ret:[t.message],stack:[t.stack],retJson:b.ERROR}):n="string"==typeof t?{ret:[t],retJson:b.ERROR}:void 0!==t?t:e.options.retJson,e.options.failureCallback?void e.options.failureCallback(n):m.reject(n)});return this.__processRequestType(),e.options.H5Request&&(e.constructor.__firstProcessor||(e.constructor.__firstProcessor=n),C=function i(t){e.constructor.__firstProcessor.then(t)["catch"](t)}),n},e.mtop=function(t){return new h(t)},e.mtop.request=function(t,e,n){var i={H5Request:t.H5Request,WindVaneRequest:t.WindVaneRequest,LoginRequest:t.LoginRequest,AntiCreep:t.AntiCreep,AntiFlood:t.AntiFlood,successCallback:e,failureCallback:n||e};return new h(t).request(i)},e.mtop.H5Request=function(t,e,n){var i={H5Request:!0,successCallback:e,failureCallback:n||e};return new h(t).request(i)},e.mtop.middlewares=y,e.mtop.config=_,e.mtop.RESPONSE_TYPE=b,e.mtop.CLASS=h}(window,window.lib||(window.lib={})),function(t,e){function n(t){return t.preventDefault(),!1}function i(e,i){var o=this,r=t.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/r,u=Math.max(s.height,window.innerHeight)/r;a.style.cssText=["-webkit-transform:scale("+r+") translateZ(0)","-ms-transform:scale("+r+") translateZ(0)","transform:scale("+r+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+u+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var l=document.createElement("div");l.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),l.innerText=e;var d=document.createElement("a");d.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),d.innerText="\u5173\u95ed";var f=document.createElement("iframe");f.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),l.appendChild(d),a.appendChild(l),a.appendChild(f),document.body.appendChild(a),f.src=i,d.addEventListener("click",function(){o.hide();var t=document.createEvent("HTMLEvents");t.initEvent("close",!1,!1),a.dispatchEvent(t)},!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-s.top),a.parentNode&&a.parentNode.removeChild(a)}}function o(t){var n=this,i=this.options,o=this.params;return t().then(function(){var t=i.retJson,r=t.ret;if(r instanceof Array&&(r=r.join(",")),(r.indexOf("SESSION_EXPIRED")>-1||r.indexOf("SID_INVALID")>-1||r.indexOf("AUTH_REJECT")>-1||r.indexOf("NEED_LOGIN")>-1)&&(t.retType=l.SESSION_EXPIRED,!i.WindVaneRequest&&(u.LoginRequest===!0||i.LoginRequest===!0||o.needLogin===!0))){if(!e.login)throw new Error("LOGIN_NOT_FOUND::\u7f3a\u5c11lib.login");if(i.CDR!==!0)return e.login.goLoginAsync().then(function(t){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})["catch"](function(t){throw"CANCEL"===t?new Error("LOGIN_CANCEL::\u7528\u6237\u53d6\u6d88\u767b\u5f55"):new Error("LOGIN_FAILURE::\u7528\u6237\u767b\u5f55\u5931\u8d25")});e.login.goLogin()}})}function r(t){var e=this.options;return this.params,e.H5Request!==!0||u.AntiFlood!==!0&&e.AntiFlood!==!0?void t():t().then(function(){var t=e.retJson,n=t.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&t.data.url&&(e.AntiFloodReferer?location.href=t.data.url.replace(/(http_referer=).+/,"$1"+e.AntiFloodReferer):location.href=t.data.url)})}function a(e){var n=this,o=this.options,r=this.params;return r.forceAntiCreep!==!0&&o.H5Request!==!0||u.AntiCreep!==!0&&o.AntiCreep!==!0?void e():e().then(function(){var e=o.retJson,a=e.ret;return a instanceof Array&&(a=a.join(",")),a.indexOf("RGV587_ERROR::SM")>-1&&e.data.url?new s(function(o,a){function s(){l.removeEventListener("close",s),t.removeEventListener("message",c),a("USER_INPUT_CANCEL::\u7528\u6237\u53d6\u6d88\u8f93\u5165")}function c(e){var i;try{i=JSON.parse(e.data)||{}}catch(u){}if(i&&"child"===i.type){l.removeEventListener("close",s),t.removeEventListener("message",c),l.hide();var u;try{"string"==typeof(u=JSON.parse(decodeURIComponent(i.content)))&&(u=JSON.parse(u));for(var d in u)r[d]=u[d];n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(u){a("USER_INPUT_FAILURE::\u7528\u6237\u8f93\u5165\u5931\u8d25")}}}var u=e.data.url,l=new i("",u);l.addEventListener("close",s,!1),t.addEventListener("message",c,!1),l.show()}):void 0})}if(!e||!e.mtop||e.mtop.ERROR)throw new Error("Mtop \u521d\u59cb\u5316\u5931\u8d25\uff01\u8bf7\u53c2\u8003Mtop\u6587\u6863http://gitlab.alibaba-inc.com/mtb/lib-mtop");var s=t.Promise,c=e.mtop.CLASS,u=e.mtop.config,l=e.mtop.RESPONSE_TYPE;e.mtop.middlewares.push(o),e.mtop.loginRequest=function(t,e,n){var i={LoginRequest:!0,H5Request:!0,successCallback:e,failureCallback:n||e};return new c(t).request(i)},e.mtop.antiFloodRequest=function(t,e,n){var i={AntiFlood:!0,successCallback:e,failureCallback:n||e};return new c(t).request(i)},e.mtop.middlewares.push(r),e.mtop.antiCreepRequest=function(t,e,n){var i={AntiCreep:!0,successCallback:e,failureCallback:n||e};return new c(t).request(i)},e.mtop.middlewares.push(a)}(window,window.lib||(window.lib={})),t.exports=window.lib.mtop},function(t,e){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(t,e,n){function i(t){var e=new RegExp("(?:^|;\\s*)"+t+"\\=([^;]+)(?:;\\s*|$)").exec(b.cookie);return e?e[1]:n}function o(t){return t.preventDefault(),!1}function r(e,n){var i=this,r=t.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/r,u=Math.max(s.height,window.innerHeight)/r;a.style.cssText=["-webkit-transform:scale("+r+") translateZ(0)","-ms-transform:scale("+r+") translateZ(0)","transform:scale("+r+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+u+"px","z-index:999999","position:absolute","left:0","top:0px","background:#FFF","display:none"].join(";");var l=document.createElement("div");l.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),l.innerText=e;var d=document.createElement("a");d.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),d.innerText="\u5173\u95ed";var f=document.createElement("iframe");f.style.cssText=["width:100%","height:"+window.innerHeight/r+"px","border:0","overflow:hidden"].join(";"),l.appendChild(d),a.appendChild(l),a.appendChild(f),b.body.appendChild(a),f.src=n,d.addEventListener("click",function(){i.hide();var t=b.createEvent("HTMLEvents");t.initEvent("close",!1,!1),a.dispatchEvent(t)},!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",o,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",o),window.scrollTo(0,-s.top),b.body.removeChild(a)}}function a(t){if(!t||"function"!=typeof t||!e.mtop){return!!this.getUserNick()}e.mtop.request({api:"mtop.user.getUserSimple",v:"1.0",data:{isSec:0},H5Request:!0},function(i){i.retType===e.mtop.RESPONSE_TYPE.SUCCESS?t(!0,i):i.retType===e.mtop.RESPONSE_TYPE.SESSION_EXPIRED?t(!1,i):t(n,i)})}function s(t){var e;return y&&(e={},e.promise=new y(function(t,n){e.resolve=t,e.reject=n})),this.isLogin(function(n,i){t&&t(n,i),n===!0?e&&e.resolve(i):e&&e.reject(i)}),e?e.promise:void 0}function c(t){if(!t||"function"!=typeof t){var e="",o=i("_w_tb_nick"),r=i("_nk_")||i("snk"),a=i("sn");return o&&o.length>0&&"null"!=o?e=decodeURIComponent(o):r&&r.length>0&&"null"!=r?e=unescape(unescape(r).replace(/\\u/g,"%u")):a&&a.length>0&&"null"!=a&&(e=decodeURIComponent(a)),e=e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}this.isLogin(function(e,i){t(e===!0&&i&&i.data&&i.data.nick?i.data.nick:e===!1?"":n)})}function u(t){var e;return y&&(e={},e.promise=new y(function(t,n){e.resolve=t,e.reject=n})),this.getUserNick(function(n){t&&t(n),n?e&&e.resolve(n):e&&e.reject()}),e?e.promise:void 0}function l(t,n){var i="//"+P+"."+L.subDomain+"."+R+"/"+L[(t||"login")+"Name"];if(n){var o=[];for(var r in n)o.push(r+"="+encodeURIComponent(n[r]));i+="?"+o.join("&")}var a=e.login.config.loginUrlParams;if(a){var s=[];for(var c in a)s.push(c+"="+encodeURIComponent(a[c]));i+=/\?/.test(i)?"&"+s.join("&"):"?"+o.join("&")}return i}function d(t,e){e?location.replace(t):location.href=t}function f(e,n,i){function o(e){u.removeEventListener("close",o),t.removeEventListener("message",a),i("CANCEL")}function a(e){var n=e.data||{};n&&"child"===n.type&&n.content.indexOf("SUCCESS")>-1?(u.removeEventListener("close",o),t.removeEventListener("message",a),u.hide(),i("SUCCESS")):i("FAILURE")}var s=location.protocol+"//h5."+L.subDomain+".taobao.com/"+("waptest"===L.subDomain?"src":"other")+"/"+e+"end.html?origin="+encodeURIComponent(location.protocol+"//"+location.hostname),c=l(e,{ttid:"h5@iframe",redirectURL:s}),u=new r(n.title||"\u60a8\u9700\u8981\u767b\u5f55\u624d\u80fd\u7ee7\u7eed\u8bbf\u95ee",c);u.addEventListener("close",o,!1),t.addEventListener("message",a,!1),u.show()}function p(e,n,i){var o=l(e,{wvLoginCallback:"wvLoginCallback"});t.wvLoginCallback=function(e){delete t.wvLoginCallback,i(e.indexOf(":SUCCESS")>-1?"SUCCESS":e.indexOf(":CANCEL")>-1?"CANCEL":"FAILURE")},d(o)}function h(t,e,n){if("function"==typeof e?(n=e,e=null):"string"==typeof e&&(e={redirectUrl:e}),e=e||{},n&&T)p(t,e,n);else if(n&&!S&&"login"===t)f(t,e,n);else{var i=l(t,{redirectURL:e.redirectUrl||location.href});d(i,e.replace)}}function m(t,e,n){var i;return y&&(i={},i.promise=new y(function(t,e){i.resolve=t,i.reject=e})),h(t,e,function(t){n&&n(t),"SUCCESS"===t?i&&i.resolve(t):i&&i.reject(t)}),i?i.promise:void 0}function g(t){h("login",t)}function v(t){return m("login",t)}function w(t){h("logout",t)}function _(t){return m("logout",t)}var y=t.Promise,b=t.document,A=t.navigator.userAgent,x=location.hostname,E=(t.location.search,A.match(/WindVane[\/\s]([\d\.\_]+)/)),S=A.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i),T=!!(S&&"TB"===S[1]&&E&&parseFloat(E[1])>5.2),I=["taobao.net","taobao.com"],C=new RegExp("([^.]*?)\\.?((?:"+I.join(")|(?:").replace(/\./g,"\\.")+"))","i"),k=x.match(C)||[],R=function(){return(k[2]||"taobao.com").match(/\.?taobao\.net$/)?"taobao.net":"taobao.com"}(),O=function(){var t=R,e=k[1]||"m";return"taobao.net"===t&&(e="waptest"),"m"!=e&&"wapa"!=e&&"waptest"!=e&&(e="m"),e}(),P="login";e.login=e.login||{};var L={loginName:"login.htm",logoutName:"logout.htm",subDomain:O};e.login.config=L,e.login.isLogin=a,e.login.isLoginAsync=s,e.login.getUserNick=c,e.login.getUserNickAsync=u,e.login.generateUrl=l,e.login.goLogin=g,e.login.goLoginAsync=v,e.login.goLogout=w,e.login.goLogoutAsync=_}(window,window.lib||(window.lib={})),t.exports=window.lib.login},function(t,e){t.exports=$.__promise__},function(t,e,n){function i(t,e){for(var n in e)e[n]!=undefined&&(t[n]=e[n])}function o(t){if(r(t),"object"===g(o.instance))return u(),o.instance;s(function(){u(),f()}),o.instance=this}function r(t){O=O.concat(a(t))}function a(t){var e=[];return[].forEach.call(t,function(n,i){-1===O.indexOf(n)&&-1===P.indexOf(n)&&e.push(t[i])}),e}function s(t){function e(){0===--n&&t&&t()}if(!c()&&!V.autoWebp)return void(t&&t());var n=0;c()&&(n++,y.getNetwork(function(t,n){k=t,e()})),V.autoWebp&&(n+=2,w.isSupport(function(t){I=t,e()}),w.isSupport(function(t){C=t,e()},"alpha"))}function c(){return V.enableIOSWifiLoad&&window.WindVane&&1==window.WindVane.isAvailable}function u(t){t=t||0;for(var e=O.length,n=V.enableIOSWifiLoad&&F&&"WIFI"==k,i=[],o=0;o<e;o++){var r=O[o],a=$(O[o]);if(n||V.stop||a.inView(V.offsetY,t)){var s=a.attr("data-bestsrc");if(s||P.indexOf(r)!==-1)P.indexOf(r)===-1&&P.push(r);else{var c=a.attr("data-srcset")||a.attr("data-src");if(c){P.push(r);var u=new A({src:a.attr("src"),srcset:c});s=x.getBestImage(u).src;var d=s.substr(-4,4);if(s.indexOf("cdn.")!=-1){if(".png"===d&&C||".jpg"===d&&I){var f=a.attr("data-webpsuffix");s+=f?f:R}var p=a.attr("data-network");if(".jpg"===d&&"close"!=p){p=a.attr("data-network"),p=p&&p.replace(/\s/g,""),p=p?p:"Q50s150,Q30s150",function(t,e,n){y.weld(t,e,function(t){l(n,t)})}(s,p,a);continue}}l(a,s)}}}else i.push(r)}O=i}function l(t,e){if(V.autoAnim)if(d(t),"img"==t[0].tagName.toLowerCase())t.on("load",function(){t.css("opacity",1)});else{var n="_lazyLoadImgRef"+Math.random();window[n]=$(new Image),window[n].on("load",function(){t.css("opacity",1),t.css({"background-image":"url("+e+")","background-repeat":"no-repeat","background-position":"center center","background-size":"cover"}),delete window[n]}),window[n].attr("src",e)}t.attr("data-lazyimg",t.attr("src")),t.attr("src",e),t.attr("data-bestsrc",e)}function d(t){t.css({"-webkit-transition":"opacity .35s",transition:"opacity .35s",opacity:0})}function f(){L||(L=!0,V.el.on("scroll",function(t){O.length>0&&(U=V.el.scrollTop()),N||S(function(){u(),N=!1}),N=!0}),V.el.on("resize",function(t){U=V.el.scrollTop(),j=V.el.height(),u()}),F&&V.el.on("touchend",function(t){D={y:(t.changedTouches?t.changedTouches[0]:t).pageY,time:(new Date).getTime()},D.y-q.y>5&&h()}).on("touchstart",function(t){q={y:(t.touches?t.touches[0]:t).pageY,time:(new Date).getTime()},h(j)}),window.MutationObserver&&V.observeDomChanges&&(M=new MutationObserver(function(t){p(t)}),M.observe(V.observeWrapper,W)))}function p(t){var e,n,i,o;t.forEach(function(t){e=t.removedNodes,e.forEach(function(t){"img"==t.tagName.toLowerCase()&&(n=$(t),i=n.attr("data-bestsrc")?P:O,(o=i.indexOf(t))>-1&&i.splice(o,1))})})}function h(t){u(t||m())}function m(){var t=D.y-q.y,e=D.time-q.time;e=e||1;var n=t/e,i=.005;return.5*n*(n/.005)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=n(10),w=n(15),_=n(16),y=new _,b=n(17),A=n(18),x=new b,E=n(19),S=window.requestAnimationFrame,T=window.cancelAnimationFrame,I=!1,C=!1,k="",R="_.webp",O=[],P=[],L=!1,N=!1,U,q={},D={},j=0,M,W={subtree:!0,childList:!0,attributes:!1},V={offsetY:0,maxNum:120,autoWebp:!0,autoAnim:!1,el:$(window),enableIOSWifiLoad:!1,observeDomChanges:!1,observeWrapper:document,stop:!1},F=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);i($.fn,{inView:function B(t,e){t=t||0,e=e||0;var n=U+e,i=$(this).offset(),o=V.el[0]!=window?this[0].offsetTop:i.top,r=o+(i.height||$(this).height());return o>=n-t&&o<=n+j+t||r>=n-t&&r<=n+j+t},lazyload:function J(t){t=t||{},t.el&&(t.el=$(t.el)),i(V,t),x.compute(),j=x.h,$(V.el)[0]!=window&&(V.el=$(V.el),j=V.el.height()),U=V.el.scrollTop(),new o(this.slice(0))}}),t.exports={setupConfig:function H(t){i(V,t)},destroy:function X(){O=[],P=[]}}},function(t,e){function n(t,e){if("function"==typeof t){var n=new Image;n.onload=function(){var o=n.width>0&&n.height>0;i(o,e),t(o)},n.onerror=function(){i(!1,e),t(!1)},n.src="data:image/webp;base64,"+r[e]}}function i(t,e){if(window.localStorage&&"function"==typeof window.localStorage.setItem)try{window.localStorage.setItem("webpsupport-"+e,t)}catch(n){}}function o(t,e){if("function"==typeof t)if(e=e||"lossy",window.navigator.userAgent.match(/windows|win32/i)||a&&window.navigator.userAgent.match(/UCBrowser/i))t(!1);else if(window.chrome||window.opera)t(!0);else{var i=window.localStorage&&window.localStorage.getItem("webpsupport-"+e);i?t("true"==i):n(t,e)}}var r={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},a=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),s=!!navigator.userAgent.match(/windvane/i),c={};c.isSupport=o,t.exports=c},function(t,e,n){function i(t){if("object"===r(i.instance))return i.instance;this._init(t),i.instance=this}function o(t,e){for(var n in e)e[n]!=undefined&&(t[n]=e[n])}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(10),s=window.navigator.userAgent,c={network:["Q50s100","Q30s100"],enableDomainMerge:!0,mergeDomain:"gw.alicdn.com",enableRemoveScheme:!0,strongNet:["WIFI"]},u=/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.com)\/(.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i,l=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i;o(i.prototype,{network:null,poll:[],callback:!1,weld:function d(t,e,n){var i=this;if(navigator.userAgent.indexOf("WindVane")!==-1&&navigator.userAgent.indexOf("tae_sdk")===-1&&window.WindVane&&!this.callback){if(this.poll.push(arguments),this.poll.length>1)return;return void this._getNetwork()}n&&n(this._getWeldUrl(t,e))},_getNetwork:function f(){var t=this;if(this.isWeakNet!==undefined&&null!==this.isWeakNet)return void this._getInfoCallback();this.getNetwork(function(e,n){t._getInfoCallback.call(t)})},getNetwork:function p(t){function e(){0===--i&&(n.isWeakNet=null===c||c===undefined?n.config.strongNet.indexOf(r)==-1:c,t(r,c))}var n=this,i=1,o=/AliApp\(TB\/([\d\.]+)\)/.test(s),r,c;o&&(i++,a.call("TBWeakNetStatus","getStatus",{},function(t){c=t.WeakNetStatus===!0||"true"===t.WeakNetStatus,e()},function(t){e()})),a.call("WVNetwork","getNetworkType",{},function(t){r=t.type,e()},function(t){e()})},weldImg:function h(t){var e=t,n=this,i,o;if(e.length){[].forEach.call(e,function(t,e){if("IMG"==t.tagName){if(i=t.getAttribute("data-network"),!(o=t.getAttribute("data-src")))return;n.weld(o,i,function(e){e&&(t.src=e)})}})}},_init:function m(t){o(this.config={},c,t||{})},_getWeldUrl:function g(t,e){t=this.config.enableRemoveScheme?t.replace(/(http|https):/gi,""):t;var n=t.match(/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.com)\/(.*(?:\.(jpg|png|gif|jpeg|webp))?)$/i);if(!n||~n[2].indexOf("gif"))return t;this.config.enableDomainMerge&&(t=t.replace(n[1],this.config.mergeDomain));var i=this._getQualitySuffix(e),o=n[2].match(/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i);return o?(t=t.replace(o[0],""),t+="_"+(o[1]||"")+(o[2]||"")+(o[3]||i)+o[4]+(o[5]||"")):t.match(/_\.webp$/)?t=t.replace(/_\.webp$/,"_"+i+".jpg_.webp"):t+="_"+i+".jpg",t},_getQualitySuffix:function v(t){var e=this._parseSuffix(t);return this.isWeakNet?e[1]:e[0]},_parseSuffix:function w(t){var e=this.config.network,n;return"[object String]"===Object.prototype.toString.call(t)&&(n=t.split(",")),"[object Array]"===Object.prototype.toString.call(t)&&(n=t),n&&n[0]&&(e[0]=n[0]),n&&n[1]&&(e[1]=n[1]),e},_getInfoCallback:function _(){var t=this,e=this.poll;this.callback=!0,this.poll=[],Array.prototype.forEach.call(e,function(e,n){t.weld.apply(t,e)})}}),t.exports=i},function(t,e){function n(){this.w=null,this.h=null,this.x=null}n.prototype.compute=function(){this.w=window.innerWidth||document.documentElement.clientWidth,this.h=window.innerHeight||document.documentElement.clientHeight,this.x=window.devicePixelRatio},n.prototype.setForTesting=function(t){this.w=t.w,this.h=t.h,this.x=t.x},n.prototype.getBestImage=function(t){var e=t.imageCandidates.slice(0),n=this._getBestCandidateIf(e,function(t,e){return t.w>e.w});this._removeCandidatesIf(e,function(t){return function(e){return e.w<t.w}}(this)),0===e.length&&(e=[n]);var i=this._getBestCandidateIf(e,function(t,e){return t.h>e.h});this._removeCandidatesIf(e,function(t){return function(e){return e.h<t.h}}(this)),0===e.length&&(e=[i]);var o=this._getBestCandidateIf(e,function(t,e){return t.x>e.x});this._removeCandidatesIf(e,function(t){return function(e){return e.x<t.x}}(this)),0===e.length&&(e=[o]);var r=this._getBestCandidateIf(e,function(t,e){return t.w<e.w});this._removeCandidatesIf(e,function(t,e){return t.w>r.w});var a=this._getBestCandidateIf(e,function(t,e){return t.h<e.h});this._removeCandidatesIf(e,function(t,e){return t.h>r.h});var s=this._getBestCandidateIf(e,function(t,e){return t.x<e.x});return this._removeCandidatesIf(e,function(t,e){return t.x>s.x}),e[0]},n.prototype._getBestCandidateIf=function(t,e){for(var n=t[0],i=0;i<t.length;i++){var o=t[i];e(o,n)&&(n=o)}return n},n.prototype._removeCandidatesIf=function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n])&&t.splice(n,1)}return t},n.prototype.getBestImage2=function(t){for(var e=null,n=t.imageCandidates,i=0;i<n.length;i++){var o=n[i];if((e?e.x:0)<=o.x&&o.x<=this.x){if(null===e){e=o;continue}this.w<=o.w&&o.w<=e.w&&(e=o)}}return e},t.exports=n},function(t,e){function n(t){this.imageCandidates=[],this.srcValue=t.src,this.srcsetValue=t.srcset,this.isValid=!0,this.error="",this._parse(this.srcsetValue),this.isValid||console.log("error","Error: "+this.error)}function i(t){this.src=t.src,this.w=t.w||Infinity,this.h=t.h||Infinity,this.x=t.x||1}var o=/^[0-9]+$/;n.prototype._parse=function(){for(var t=this.srcsetValue,e=0,n=[],o,r;""!==t;){for(;" "===t.charAt(0);)t=t.slice(1);if((e=t.indexOf(" "))!==-1){if(""===(o=t.slice(0,e)))break;t=t.slice(e+1),e=t.indexOf(","),e===-1?(r=t,t=""):(r=t.slice(0,e),t=t.slice(e+1)),n.push({url:o,descriptors:r})}else n.push({url:t,descriptors:""}),t=""}for(var a=0,s=n.length;a<s;a++){var c=n[a],u=this._parseDescriptors(c.descriptors);this._addCandidate(new i({src:c.url,x:u.x,w:u.w,h:u.h}))}this.srcValue&&this._addCandidate(new i({src:this.srcValue}))},n.prototype._addCandidate=function(t){for(var e=0;e<this.imageCandidates.length;e++){var n=this.imageCandidates[e];if(n.x==t.x&&n.w==t.w&&n.h==t.h)return}this.imageCandidates.push(t)},n.prototype._parseDescriptors=function(t){for(var e=t.split(/\s/),n={},i=0;i<e.length;i++){var o=e[i];if(o.length>0){var r=o[o.length-1],a=o.substring(0,o.length-1),s=parseInt(a,10),c=parseFloat(a);a.match(/^[0-9]+$/)&&"w"===r?n[r]=s:a.match(/^[0-9]+$/)&&"h"==r?n[r]=s:isNaN(c)||"x"!=r?(this.error="Invalid srcset descriptor found in "+o+".",this.isValid=!1):n[r]=c}}return n},t.exports=n},function(t,e,n){t.exports=n(20)},function(t,e){for(var n=window,i=0,o="RequestAnimationFrame",r="CancelAnimationFrame",a=["ms","moz","webkit","o"],s=0;s<a.length&&!n.requestAnimationFrame;++s)n.requestAnimationFrame=n[a[s]+"RequestAnimationFrame"],n.cancelAnimationFrame=n[a[s]+r]||n[a[s]+r];n.requestAnimationFrame||(n.requestAnimationFrame=function(t,e){var o=(new Date).getTime(),r=Math.max(0,16-(o-i)),a=n.setTimeout(function(){t(o+r)},r);return i=o+r,a}),n.cancelAnimationFrame||(n.cancelAnimationFrame=function(t){n.clearTimeout(t)})},function(t,e,n){function i(){r.apply(this,arguments)}var o=n(3),r=n(22);o.extend(i,r),o.augment(i,{config:{param:{appId:"10",flowId:"24",bucketId:"1",pageSize:100},pageLimit:1,commodityTmpl:n(28),isCloseLog:!0}}),t.exports=i},function(t,e,n){function i(t,e,n){return this instanceof i?this.init(t,e,n):new i(t,e,n)}n(23),n(24);var o=n(26),r=n(4),a=n(27),s=n(14),c=function u(){return'<div id="J_Loading" class="km-loading"><span class="loading-img"></span><span class="loading-text">\u6b63\u5728\u52a0\u8f7d\u4e2d</span></div>'};r.augment(i,{init:function l(t,e,n){if(!e)throw new Error("please pase blockId");if(!t)throw new Error("please pase wrapper");this.wrapper=$(t),this.setConfig(e,n),this.initLog()},setConfig:function d(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.mixBundle(this,{isLoading:!1,pageNum:0,param:{blockId:t,startRow:0,viewId:this.getGuid(),pageSize:30,appId:""},totalItem:0,pageLimit:!1,commodityWrapper:".J_CommodityWrap",loadingWrapper:".J_LoadingWrap",loadingTmpl:c,isCloseLog:!1,lazyloadQuery:".J_Lazyload",commodityTmpl:null,goldlogConfig:{}},this.config,e),this.loadingWrapper=$(this.loadingWrapper,this.wrapper),this.commodityWrapper=$(this.commodityWrapper,this.wrapper),!this.commodityTmpl)throw new Error("please pase commodity template");if(!this.isCloseLog&&(r.isEmptyObject(this.goldlogConfig)||!this.goldlogConfig.logkey||!this.goldlogConfig.chksum))throw new Error("please pase goldlog config with logkey and chksum");if(!this.param.appId)throw new Error("please pase appId")},initLog:function f(){this.isCloseLog||(this.logEntity=new o(this.wrapper,r.merge({appId:this.param.appId,blockId:this.param.blockId},this.goldlogConfig)))},load:function p(t){var e=this;0!=this.param.startRow&&this.param.startRow>=this.totalItem||this.pageLimit!==!1&&this.pageNum>=this.pageLimit||this.isLoading||(this.isLoading=!0,this.showState("loading"),a.request({api:"mtop.taobao.tejia.fantomas.items",v:"1.0",data:r.mix(this.param,{requestId:this.getGuid()})}).then(function(n){e.isLoading=!1;var i=n.data,o=i.summary,r=i.data;if("SUCCESS"!=o)return e.showState("error"),void(t&&t(!1));e.pageNum++;var a=e.parseData(r),s=a.startRow,c=a.totalItem,u=c===undefined?0:c,l=a.data,d=a.clientInfo,f=d===undefined?{}:d;if(e.param.startRow=Number(s)+e.param.pageSize,e.totalItem=Number(u||0),l.length<=0)return e.showState("noMore"),void(t&&t(!1));e.commodityWrapper.append($(e.commodityTmpl({data:l,pageNum:e.pageNum,pvid:f.pvid,scm:f.scm,requestId:e.param.requestId,fromUnicode:e.fromUnicode,ellipsis:e.ellipsis}))),$(e.lazyloadQuery,e.wrapper).lazyload(),t&&t(!0),e.param.startRow>=e.totalItem||e.pageLimit!==!1&&e.pageNum>=e.pageLimit?e.showState("noMore"):e.showState("reset"),e.sendPV(r)})["catch"](function(n){e.isLoading=!1,e.showState("error"),t&&t(!1)}))},sendPV:function h(t){if(!this.isCloseLog){var e=t.data,n=t.clientInfo;if(n){var i=[];r.each(e,function(t,e){i.push(t.itemId)}),this.logEntity.sendPV({ids:i.join(","),page:this.pageNum,requestId:this.param.requestId,realViewId:this.param.viewId},n)}}},getGuid:function m(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},mixBundle:function g(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.each(n,function(e,n){r.mix(t,e,{overwrite:!0,deep:!0})})},fromUnicode:function v(t){return unescape(t.replace(/\\u/g,"%u"))},ellipsis:function w(t,e){return t.length<=e?t:t.slice(0,e)+"..."},config:{},parseData:function _(t){return t},showState:function y(t){var e="";switch(t){case"loading":e=this.loadingTmpl({});break;case"error":e="\u7cfb\u7edf\u51fa\u9519\u5566~";break;case"noMore":e="\u6682\u65e0\u66f4\u591a\u5546\u54c1~";break;case"reset":default:e=""}this.loadingWrapper.html(e)}}),t.exports=i},function(t,e){},function(t,e,n){n(25)},function(t,e){},function(t,e,n){function i(t,e){return this instanceof i?this.init(t,e):new i(t,e)}var o=n(4);o.augment(i,{init:function r(t,e){if(!t)throw new Error("please pase wrapper");this.wrapper=$(t),this.setConfig(e),this.bindEvent()},setConfig:function a(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};o.mix(this,o.merge({logkey:"",chksum:"",clickTarget:"a",appId:"",blockId:"",clientInfo:{},attrId:"data-id",attrPage:"data-pageNum",attrRequestId:"data-requestId"},t))},sendPV:function s(t,e){if(e&&(this.clientInfo=e),this.clientInfo){t=this.checkParam(t);var n=o.merge(this.clientInfo,{appId:this.appId,blockId:this.blockId,page:t.page,logType:"pv",ids:t.ids,requestId:t.requestId,flag:"new",realViewId:t.realViewId});this.sendGoldlog("",n)}},bindEvent:function c(){var t=this;this.wrapper.delegate("click",this.clickTarget,function(e){var n=$(e.currentTarget),i=t.checkParam({ids:n.attr(t.attrId),page:n.attr(t.attrPage),requestId:n.attr(t.attrRequestId)}),r=o.merge(t.clientInfo,{appId:t.appId,blockId:t.blockId,page:i.page,logType:"click",ids:i.ids,requestId:i.requestId});t.sendGoldlog("",r)})},checkParam:function u(t){var e=t.ids,n=t.page,i=t.requestId,o=t.realViewId;return e&&n&&i||console.warn("ids, page, requestId should be required"),{ids:e||"",page:n||"",requestId:i||"",realViewId:o||""}},sendGoldlog:function l(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",e=arguments[1];this.logkey&&this.chksum&&window.goldlog&&(o.isObject(e)&&(e=this.parseParam(e)),goldlog.record(this.logkey,t,e,this.chksum))},parseParam:function d(t){var e="";return o.each(t,function(t,n){e+=n+"="+t+"&"}),""!=e&&(e=e.substring(0,e.length-1)),e}}),t.exports=i},function(t,e,n){var i=n(5),o=n(12),r=n(13);t.exports={request:function a(t){var e=this;return new r(function(n,o){i.request({api:t.api,v:t.v||"1.0",data:t.data,ecode:t.ecode||"0"},function(t){n(t)},function(t,n){var i=(t&&t.ret||[]).join(",");e.checkLoginResult(i,n)?e.goLogin():o(t)})})},checkLoginResult:function s(t,e){return t.indexOf("SESSION_EXPIRED")>-1||t.indexOf("SID_INVALID")>-1||t.indexOf("AUTH_REJECT")>-1||t.indexOf("NEED_LOGIN")>-1||1==e||2==e||"1"==e||"2"==e},isLogin:function c(){return o.isLogin()},goLogin:function u(){o.goLogin()},checkAndGoLogin:function l(){this.isLogin()||this.goLogin()}}
},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)$.each(data,function(t,e){__p+='\n  <li class="item">\n    <a href="'+(null==(__t="//h5.m.taobao.com/awp/core/detail.htm?id="+t.itemId+"&pvid="+pvid+"&scm="+scm)?"":__t)+'" data-openwindow="true" data-billingType="'+(null==(__t=t.billingType)?"":__t)+'" data-clickId="'+(null==(__t=t.coinAdvertiseClickId)?"":__t)+'" data-itemId="'+(null==(__t=t.itemId)?"":__t)+'">\n      <div class="img-wrap">\n        <img class="img J_Lazyload" data-src="'+(null==(__t="//gw.alicdn.com/"+t.activityPicUrl)?"":__t)+"_160x160.jpg 1x, "+(null==(__t="//gw.alicdn.com/"+t.activityPicUrl)?"":__t)+"_320x320.jpg 2x, "+(null==(__t="//gw.alicdn.com/"+t.activityPicUrl)?"":__t)+'_360x360.jpg 3x" alt="" src="'+(null==(__t=TJB.placeholder)?"":__t)+'">\n      </div>\n      <p class="title">'+(null==(__t=ellipsis(fromUnicode(t.title),28))?"":__t)+'</p>\n      <p class="price"><i class="price-symbol">&yen;</i>'+(null==(__t=t.coinShowPrice)?"":__t)+'<span class="icon-plus">+</span><i class="icon-coin"></i><span class="coin">'+(null==(__t=t.decreaseCoin)?"":__t)+'</span></p>\n      <p class="origin-price"><i class="price-symbol">&yen;</i>'+(null==(__t=t.reservePrice)?"":__t)+'</p>\n      <p class="sell-num">'+(null==(__t=t.currentSellOut)?"":__t)+"\u4eba\u5df2\u4e70</p>\n    </a>\n  </li>\n"});return __p}},function(t,e,n){function i(t,e){this.CommodityClass=t,this.init(e)}n(30);var o=n(3),r=n(34);o.augment(i,{init:function a(t){this.setConfig(t),this.initTab(),this.initScrollMonitor()},setConfig:function s(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};o.mixBundle(this,{tabContents:{},positions:{},tabIndex:Number(o.getUrlParam("tabIndex"))||0,isFirstOnSwitch:!0,tabEle:"#J_Tab",commodityEle:".list",dataBlockId:"data-blockId",dataExtQuery:"data-extQuery",tabTotal:0,opts:{},autoLocate:!0},t),(!o.isNumber(this.tabIndex)||this.tabIndex<0||this.tabIndex>this.tabTotal-1)&&(this.tabIndex=0)},initTab:function c(){var t=this;this.tab=$(this.tabEle).tab(o.merge(this.opts,{onSwitch:function e(){t.switchTab(this)}})),this.tab.on("beforeMove",function(){}),this.tab.moveTo(this.tabIndex)},switchTab:function u(t){if(0!=this.tabIndex&&this.isFirstOnSwitch)return void(this.isFirstOnSwitch=!1);if(!this.tabContents[t.currentIndex]){var e=$(t.currentTrigger),n=e.attr(this.dataBlockId),i=e.attr(this.dataExtQuery),o={};i&&(o={param:{extQuery:i}}),this.tabContents[t.currentIndex]=new this.CommodityClass($(this.commodityEle,t.currentContent),n,o),this.tabContents[t.currentIndex].load()}this.tabIndex=t.currentIndex,this.autoLocate&&this.setPosition(this.tabIndex),this.isFirstOnSwitch=!1},initScrollMonitor:function l(){this.scrollMonitor=new r({node:"body",delay:0,margin:300,scrollToBottom:o.bind(this.scrollToBottom,this)}).run()},scrollToBottom:function d(){this.tabContents[this.tabIndex].load()},setPosition:function f(t){var e=this.isFirstOnSwitch?0:$(this.tabEle).offset().top;window.scrollTo(0,e)}}),t.exports=i},function(t,e,n){function i(t){this.config=$.mix({el:"#J_Test",activeCls:"km-active",triggers:".km-tab-trigger",contents:".km-tab-content",contentShare:!1,contentScroll:!1,type:"normal",activePos:"1x",random:!1,position:"top",delay:0,effect:"fadeIn",scrollable:!0,autoSwitch:!0,onSwitch:null},t),this.constructor=i,this.eventHandler=$({}),this.init()}n(31);var o=n(32),r=n(33);$.mix(i.prototype,{init:function a(){this.inited||(this.render(),this.bind(),this.config.autoSwitch&&this.moveTo(),this.inited=!0)},render:function s(){this.container=$(this.config.el),this.container.addClass("km-tab");var t=this.config.data;console.log(t),$.isArray(t)&&t.length&&(t.share=!!this.config.contentShare,t.less=!!this.config.contentLess,this.container.append($(o({data:t})))),this.triggers=$(this.config.triggers,this.container),this.contents=$(this.config.contents,this.container),this.triggers.parent().addClass("km-tab-"+(this.config.type||"normal")),this.lens=this.triggers.length,this.setWidth(),this.setContents(),this.trigger("afterRender")},setWidth:function c(){var t=0,e=this.triggers.parent(),n=this.lens;this.triggers.each(function(e,n){t+=$(e).width()}),this.singleWidth=Math.round(t/n),this.config.scrollable&&t>this.container.width()?(e.width(t),this.flip=this.flip||r(e[0],{distance:(e.width()-e.parent().width())/n,maxPoint:this.triggers.length}),this.flip.refresh()):this.triggers.each(function(t,e){$(t).css("width",100/n+"%")})},setContents:function u(){var t=$(".km-tab-contents",this.container),e=this.container.width(),n=this.contents,i=null,o=this;this.config.contentScroll&&t[0]&&(t.addClass("km-content-scroll"),1==n.length&&(this.triggers.each(function(t,e){e>0&&n.after(n.clone())}),n=$(this.config.contents,t),this.contents=n,this.currentContent=n[this.currentIndex]),this._refresh())},_refresh:function l(){var t=this.container.width(),e=$(".km-tab-contents",this.container),n=this.contents;$(e).width(t*n.length),n.width(t),this.contentFlip=this.contentFlip||r(e[0]),this.contentFlip.refresh()},on:function d(t,e){this.eventHandler.on(t,e)},off:function f(t,e){this.eventHandler.off(t,e)},trigger:function p(t){this.eventHandler.trigger(t)},bind:function h(){var t=this,e=this.config.data,n=this.contentFlip,i=this.config.contentShare,o=this.config.contents;this.triggers.each(function(e,n){$(e).on("click",function(){t.moveTo(n)})}),n&&$(n.element).on("fspointmove",function(){t.moveTo(n.currentPoint)}),this.config.contentShare&&$.isArray(e)&&this.on("beforeMove",function(){$(t.currentContent).html((e[t.currentIndex]||{}).content||"")}),this.on("afterMove",function(){if(t.flip){var e=t.currentIndex;if(0===e)t.flip.moveToPoint(e);else if(e==t.triggers.length-1)t.flip.moveToPoint(e+1),$(t.triggers[e]).addClass("last");else{for(var n=0,i=t.config.activePos,o=null,r=$(t.triggers[e]).width(),a=$(t.triggers[e-1]).width(),s=$(t.triggers[e+1]).width(),c=0;c<e;c++)n-=$(t.triggers[c]).width();(o=i.match(/(\d)x/))&&(n=t.singleWidth*(o[1]-e)),"left"==i&&(n+=a/2),"right"==i&&(n+=t.container.width()-r-s/2),"center"==i&&(n+=t.container.width()/2-r/2),n>0&&(n=0),n<t.flip._maxX&&(n=t.flip._maxX),t.flip._setX(n)}}}),this.on("afterMove",function(){var e=t.config.onSwitch;"function"==typeof e&&e.call(t)})},moveTo:function m(t){if(t===undefined&&(t=this.config.random===!0&&this.currentIndex===undefined?Math.floor(Math.random()*this.triggers.length):this.currentIndex||0),(t=t>this.triggers.length-1?this.triggers.length-1:t<0?0:t)!=this.currentIndex)return this.lastIndex=this.currentIndex,this.currentIndex=t,this.currentTrigger=this.triggers[this.currentIndex],this.currentContent=this.contents[this.currentIndex]||this.contents[0],this.trigger("beforeMove"),this._move(t),this.trigger("afterMove"),this},_move:function g(t){var e=this,n=this.config.contentShare,i=this.contentFlip;this.lastIndex!==undefined?(n||i||$(this.contents[this.lastIndex]).hide(),$(this.triggers[this.lastIndex]).removeClass(this.config.activeCls)):(n||i||this.contents.each(function(t,e){$(t).hide()}),this.triggers.each(function(t,n){$(t).removeClass(e.config.activeCls)})),n||i||$(this.contents[t]).show(),i&&i.moveToPoint(this.contents.length-1<t?0:t),$(this.triggers[t]).addClass(this.config.activeCls)}}),$.fn.tab=function(t){return t=t||{},t.el=this,new i(t)},t.exports=i},function(t,e){},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="km-tab-wrapper">\n  <ul class="km-tab-triggers">\n    ',data.forEach(function(t,e){__p+='\n    <li class="km-tab-trigger"><span>'+(null==(__t=t.title)?"":__t)+"</span></li>\n    "}),__p+="\n  </ul>\n</div>\n",data.less||(__p+='\n<div class="km-content-wrapper">\n  <div class="km-tab-contents">\n',data.share?__p+='\n  <div class="km-tab-content"></div>\n':(__p+="\n  ",data.forEach(function(t,e){__p+='\n  <div class="km-tab-content">'+(null==(__t=t.content)?"":__t)+"</div>\n  "}),__p+="\n"),__p+="\n  </div>\n</div>\n"),__p+="\n";return __p}},function(t,e){function n(t,e){return this instanceof n?this.init(t,e):new n(t,e)}function i(t,e){return t.changedTouches?t.changedTouches[0][e]:t[e]}function o(t){return c(t,function(t){return d.style[t]!==undefined})}function r(t,e,n){var i=p[e];i?t[i]=n:t[e]!==undefined?(p[e]=e,t[e]=n):c(f,function(i){var o=s(i)+s(e);if(t[o]!==undefined)return p[e]=o,t[o]=n,!0})}function a(t){if(d.style[t]!==undefined)return t;var e;return c(f,function(n){var i=s(n)+s(t);if(d.style[i]!==undefined)return e="-"+n+"-"+t,!0}),e}function s(t){return t.charAt(0).toUpperCase()+t.substr(1)}function c(t,e){for(var n=0,i=t.length;n<i;n++)if(e(t[n],n))return!0;return!1}function u(t,e,n,i){var o=Math.abs(t-n),r=Math.abs(e-i);return{x:o,y:r,z:Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function l(t){var e=t.y/t.z,n=Math.acos(e);return 180/(Math.PI/n)}var d=document.createElement("div"),f=["webkit","moz","o","ms"],p={},h=n.support={},m=!1,g=5,v=55;h.transform3d=o(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),h.transform=o(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),h.transition=o(["transitionProperty","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","msTransitionProperty"]),h.addEventListener="addEventListener"in window,h.mspointer=window.navigator.msPointerEnabled,h.cssAnimation=(h.transform3d||h.transform)&&h.transition;var w=["touch","mouse"],_={start:{touch:"touchstart",mouse:"mousedown"},move:{touch:"touchmove",mouse:"mousemove"},end:{touch:"touchend",mouse:"mouseup"}};h.addEventListener&&(document.addEventListener("gesturestart",function(){m=!0}),document.addEventListener("gestureend",function(){m=!1})),n.prototype.init=function(t,e){var n=this;if(n.element=t,"string"==typeof t&&(n.element=document.querySelector(t)),!n.element)throw new Error("element not found");return h.mspointer&&(n.element.style.msTouchAction="pan-y"),e=e||{},n.distance=e.distance,n.maxPoint=e.maxPoint,n.disableTouch=e.disableTouch!==undefined&&e.disableTouch,n.disable3d=e.disable3d!==undefined&&e.disable3d,n.transitionDuration=e.transitionDuration===undefined?"350ms":e.transitionDuration+"ms",n.currentPoint=0,n.currentX=0,n.animation=!1,n.use3d=h.transform3d,n.disable3d===!0&&(n.use3d=!1),h.cssAnimation?n._setStyle({transitionProperty:a("transform"),transitionTimingFunction:"cubic-bezier(0,0,0.25,1)",transitionDuration:"0ms",transform:n._getTranslate(0)}):n._setStyle({position:"relative",left:"0px"}),n.refresh(),w.forEach(function(t){n.element.addEventListener(_.start[t],n,!1)}),n},n.prototype.handleEvent=function(t){var e=this;switch(t.type){case _.start.touch:e._touchStart(t,"touch");break;case _.start.mouse:e._touchStart(t,"mouse");break;case _.move.touch:e._touchMove(t,"touch");break;case _.move.mouse:e._touchMove(t,"mouse");break;case _.end.touch:e._touchEnd(t,"touch");break;case _.end.mouse:e._touchEnd(t,"mouse");break;case"click":e._click(t)}},n.prototype.refresh=function(){var t=this;t._maxPoint=t.maxPoint===undefined?function(){for(var e=t.element.childNodes,n=-1,i=0,o=e.length,r;i<o;i++)r=e[i],1===r.nodeType&&n++;return n}():t.maxPoint,t.distance===undefined?t._maxPoint<0?t._distance=0:t._distance=t.element.scrollWidth/(t._maxPoint+1):t._distance=t.distance,t._maxX=-t._distance*t._maxPoint,t.moveToPoint()},n.prototype.hasNext=function(){var t=this;return t.currentPoint<t._maxPoint},n.prototype.hasPrev=function(){return this.currentPoint>0},n.prototype.toNext=function(t){var e=this;e.hasNext()&&e.moveToPoint(e.currentPoint+1,t)},n.prototype.toPrev=function(t){var e=this;e.hasPrev()&&e.moveToPoint(e.currentPoint-1,t)},n.prototype.moveToPoint=function(t,e){var n=this;e=e===undefined?n.transitionDuration:e+"ms";var i=n.currentPoint;t===undefined&&(t=n.currentPoint),t<0?n.currentPoint=0:t>n._maxPoint?n.currentPoint=n._maxPoint:n.currentPoint=parseInt(t,10),h.cssAnimation?n._setStyle({transitionDuration:e}):n.animation=!0,n._setX(-n.currentPoint*n._distance,e),i!==n.currentPoint&&(n._triggerEvent("fsmoveend",!0,!1),n._triggerEvent("fspointmove",!0,!1))},n.prototype._setX=function(t,e){var n=this;n.currentX=t,h.cssAnimation?n.element.style[p.transform]=n._getTranslate(t):n.animation?n._animate(t,e||n.transitionDuration):n.element.style.left=t+"px"},n.prototype._touchStart=function(t,e){var n=this;if(!(n.disableTouch||n.scrolling||m)){n.element.addEventListener(_.move[e],n,!1),document.addEventListener(_.end[e],n,!1);var o=t.target.tagName;"mouse"===e&&"SELECT"!==o&&"INPUT"!==o&&"TEXTAREA"!==o&&"BUTTON"!==o&&t.preventDefault(),h.cssAnimation?n._setStyle({transitionDuration:"0ms"}):n.animation=!1,n.scrolling=!0,n.moveReady=!1,n.startPageX=i(t,"pageX"),n.startPageY=i(t,"pageY"),n.basePageX=n.startPageX,n.directionX=0,n.startTime=t.timeStamp,n._triggerEvent("fstouchstart",!0,!1)}},n.prototype._touchMove=function(t,e){var n=this;if(n.scrolling&&!m){var o=i(t,"pageX"),r=i(t,"pageY"),a,s;if(n.moveReady){t.preventDefault(),a=o-n.basePageX,s=n.currentX+a,(s>=0||s<n._maxX)&&(s=Math.round(n.currentX+a/3)),n.directionX=0===a?n.directionX:a>0?-1:1;!n._triggerEvent("fstouchmove",!0,!0,{delta:a,direction:n.directionX})?n._touchAfter({moved:!1,originalPoint:n.currentPoint,newPoint:n.currentPoint,cancelled:!0}):n._setX(s)}else{var c=u(n.startPageX,n.startPageY,o,r);c.z>5&&(l(c)>55?(t.preventDefault(),n.moveReady=!0,n.element.addEventListener("click",n,!0)):n.scrolling=!1)}n.basePageX=o}},n.prototype._touchEnd=function(t,e){var n=this;if(n.element.removeEventListener(_.move[e],n,!1),document.removeEventListener(_.end[e],n,!1),n.scrolling){var i=-n.currentX/n._distance;i=n.directionX>0?Math.ceil(i):n.directionX<0?Math.floor(i):Math.round(i),i<0?i=0:i>n._maxPoint&&(i=n._maxPoint),n._touchAfter({moved:i!==n.currentPoint,originalPoint:n.currentPoint,newPoint:i,cancelled:!1}),n.moveToPoint(i)}},n.prototype._click=function(t){var e=this;t.stopPropagation(),t.preventDefault()},n.prototype._touchAfter=function(t){var e=this;e.scrolling=!1,e.moveReady=!1,setTimeout(function(){e.element.removeEventListener("click",e,!0)},200),e._triggerEvent("fstouchend",!0,!1,t)},n.prototype._setStyle=function(t){var e=this,n=e.element.style;for(var i in t)r(n,i,t[i])},n.prototype._animate=function(t,e){var n=this,i=n.element,o=+new Date,r=parseInt(i.style.left,10),a=t,s=parseInt(e,10),c=function l(t,e){return-(t/=e)*(t-2)},u=setInterval(function(){var t=new Date-o,e,n;t>s?(clearInterval(u),n=a):(e=c(t,s),n=e*(a-r)+r),i.style.left=n+"px"},10)},n.prototype.destroy=function(){var t=this;w.forEach(function(e){t.element.removeEventListener(_.start[e],t,!1)})},n.prototype._getTranslate=function(t){return this.use3d?"translate3d("+t+"px, 0, 0)":"translate("+t+"px, 0)"},n.prototype._triggerEvent=function(t,e,n,i){var o=this,r=document.createEvent("Event");if(r.initEvent(t,e,n),i)for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a]);return o.element.dispatchEvent(r)},t.exports=n},function(t,e,n){function i(t){return this instanceof i?(o.mixBundle(this,{node:window,delay:15,margin:10,scrollToBottom:null},t),this.init.apply(this),this):new Error('please use "new ScrollMonitor()"')}var o=n(3);o.mix(i.prototype,{init:function r(){return o.mix(this,{_scrollTimeout:null,_scrollNode:$(this.node),afterScrollBind:o.bind(this._afterScroll,this)}),this},run:function a(){return this._bindScroll(),this},stop:function s(){return clearTimeout(this._scrollTimeout),this._lastScroll=null,this._detachScroll(),this},_bindScroll:function c(){return $(window).on("scroll",this.afterScrollBind),this},_detachScroll:function u(){return $(window).off("scroll",this.afterScrollBind),this},_afterScroll:function l(){var t=this;return clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){t._triggerScroll()},this._delay),this},_triggerScroll:function d(){var t=this._getScrollInfo(),e=this._lastScroll;if(this._lastScroll=t,!(t.scrollTop<0||t.scrollHeight-t.viewportHeight<t.scrollTop))return t.atBottom&&(!e||!e.atBottom||t.scrollHeight>e.scrollHeight)&&this.scrollToBottom(),this},_getScrollInfo:function f(){var t=$(window).height(),e=this._scrollNode.scrollTop(),n=e+t,i=this._scrollNode[0].scrollHeight;return{atBottom:n>=i-this.margin,viewportHeight:t,scrollHeight:i,scrollTop:e,scrollBottom:n}}}),t.exports=i},function(t,e,n){function i(t,e,n){return this instanceof i?this.init(t,e,n):new i(t,e,n)}var o=n(3);o.augment(i,{init:function r(t,e,n){if(!e)throw new Error("please pase source");if(!t)throw new Error("please pase wrapper");this.wrapper=$(t),this.setConfig(e,n),this.bindEvent()},setConfig:function a(t,e){o.mixBundle(this,{source:t,attrItemId:"data-itemId",attrBillingType:"data-billingType",attrClickId:"data-clickId"},e)},bindEvent:function s(){var t=this.wrapper,e=this.attrItemId,n=this.attrBillingType,i=this.source,r=this.attrClickId;t.delegate("click","a",function(t){var a=$(t.currentTarget),s=a.attr(e),c=a.attr(n),u=a.attr(r);"1"===c&&s?o.request({api:"mtop.matrixexchange.userclink.add",v:"1.0",data:{itemId:s,source:i}})["catch"](function(t){}):"2"===c&&u&&o.request({api:"mtop.taobao.coin.advertise.click.add",v:"1.0",data:{click_id:u,app_id:10,request_id:o.getGuid(),source:i}})["catch"](function(t){})})}}),t.exports=i}]);