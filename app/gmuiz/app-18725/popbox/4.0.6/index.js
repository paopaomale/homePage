define("mui/popbox/index",function(i,n,t){var a=function(){function i(i,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(i,a.key,a)}}return function(n,t,a){if(t)i(n.prototype,t);if(a)i(n,a);return n}}();function e(i,n){if(!(i instanceof n)){throw new TypeError("Cannot call a class as a function")}}var o=i("mui/custom-event/index");var s=i("mui/zepto/event");i("mui/popbox/index.css");i("mui/babel-polyfill/");function r(i,n){var t=s(i);t.removeClass(n[0]);t.removeClass(n[1]);t.css({display:"",opacity:""})}var c=function(){function i(n,t){e(this,i);if(n.className&&!s.isArray(n.className)){n.className=[n.className]}this.config=s.extend(true,{},i.config,n);this.animations=s.extend(true,{},i.animations,t);this._init()}a(i,[{key:"_init",value:function n(){this.$container=this._render();this.container=this.$container[0];if(!this.animations[this.config.animation]){this.config.animation=null}this._bindEvents();return this}},{key:"_render",value:function t(){var i=this.config;var n=i.className;var t="ui-platform-"+(/Android/i.test(navigator.userAgent)?"android":"ios");var a=i.showCloseBtn?"ui-show-close-btn":"";var e="";e+='<div class="ui-dialog-wrapper '+t+" "+a+" "+n.join(" ")+'">'+'<div class="ui-dialog-container">'+'<a class="ui-dialog-close" href="javascript: void(0);"></a>';if(i.icon){e+='<div class="ui-dialog-icon">'+'<div class="ui-icon-content">'+i.icon+"</div>"+"</div>"}e+='<div class="ui-dialog-content">'+i.content+"</div>";var o=[];for(var r in i.btns){o.push('<div data-action="'+r+'" class="ui-button ui-button-'+r+'">'+i.btns[r]+"</div>")}if(o.length>0){e+='<div class="ui-button-container ui-btns-'+o.length+'">'+o.join("")+"</div>"}e+="</div>";var c=s(e);var l=i.root||s("body");l.append(c);c.css({width:parseFloat(i.width)+"px","z-index":i.zIndex});var u=c.find("a.ui-dialog-close");u.css({"z-index":i.zIndex+1});return c}},{key:"_bindEvents",value:function o(){var i=this;var n=this.config;var t=this.$container.find("a.ui-dialog-close");if(t&&t.length>0){t.on("click",function(){i.hide()})}if(n.autoCenter){window.onorientationchange=window.onresize=function(){i.center()}}this.$container.on("click",".ui-button",function(n){n.stopPropagation();n.preventDefault();var t=n.target.getAttribute("data-action");i.hide();i.trigger(t,n)})}},{key:"show",value:function c(){this.trigger("showDialogStart");var i=this.$container;var n=this.config;this.center();if(n.animation){var t=this.animations[n.animation];r(i,t);i.addClass(t[0]);i.css({display:"block","-webkit-animation-play-state":"running","-moz-animation-play-state":"running","-ms-animation-play-state":"running","animation-play-state":"running"});setTimeout(function(){i.css({opacity:1})},t[2])}else{i.css({opacity:1,display:"block"})}if(n.mask){var a=s(".ui-dialog-overlay");if(a&&a.length>0){a.css({display:"block","z-index":n.zIndex-1})}else{var e=s('<div class="ui-dialog-overlay"></div>');s("body").append(e);e.css({display:"block","z-index":n.zIndex-1})}}this.trigger("showDialogEnd");return this}},{key:"hide",value:function l(){this.trigger("hideDialogStart");var i=this.config;var n=this.$container;var t=this;if(i.animation){var a=this.animations[i.animation];n.addClass(a[1]);n.css({display:"block","-webkit-animation-play-state":"running","-moz-animation-play-state":"running","-ms-animation-play-state":"running","animation-play-state":"running"});setTimeout(function(){n.css({opacity:0,display:"none"});if(i.autoDestroy){t.destroy()}},a[2])}else{n.css({opacity:0,display:"none"});if(i.autoDestroy){t.destroy()}}var e=s(".ui-dialog-overlay");if(e&&e.length>0){e.css({display:"none"})}this.trigger("hideDialogEnd")}},{key:"destroy",value:function u(){this.$container.remove();this.container=null;this.trigger("destroyDialogEnd")}},{key:"center",value:function d(){var i=this.$container;var n=this.$container.css("display");this.$container.css({position:"absolute",visibility:"hidden",display:"block"});var t=parseFloat(i.width())/2;var a=parseFloat(i.height())/2;var e=s(window).width()/2;var o=s(window).height()/2;if(o<a){o=0;a=0}i.css({left:e+"px",top:o+"px","margin-top":-1*a+"px","margin-left":-1*t+"px",display:n,position:"fixed",visibility:"visible"});this.trigger("setCenterEnd")}}]);return i}();var l=Math.min(.8*window.innerWidth,400);if(0>=l){l=246}c.animations={zoomOut:["ui-effect-zoomout-normal","ui-effect-zoomout-reverse",200],bounceIn:["ui-effect-bouncein-normal","ui-effect-bouncein-reverse",400]};c.config={autoCenter:true,autoDestroy:true,root:null,content:null,showCloseBtn:false,icon:"",width:l,zIndex:99,mask:false,className:[],animation:"zoomOut",btns:{}};c.alert=function(i,n){var t=void 0;if(s.isPlainObject(i)){t=s.extend({content:"",mask:true,btns:{ok:"\u786e\u5b9a"},className:"ui-dialog-white"},i)}else{t={content:i,mask:true,btns:{ok:"\u786e\u5b9a"},className:"ui-dialog-white"}}return new c(t).on("ok",function(){n&&n()}).show()};c.Alert=c.alert;c.confirm=function(i,n,t){var a=void 0;if(s.isPlainObject(i)){a=s.extend({content:"",mask:true,btns:{ok:"\u786e\u5b9a",cancel:"\u53d6\u6d88"},className:"ui-dialog-white"},i)}else{a={content:i,mask:true,btns:{ok:"\u786e\u5b9a",cancel:"\u53d6\u6d88"},className:"ui-dialog-white"}}return new c(a).on("ok",function(){n&&n()}).on("cancel",function(){t&&t()}).show()};c.Confirm=c.confirm;c.toast=function(i,n,t){if(!s.isFunction(n)){t=parseInt(n,10);n=null}var a=void 0;if(s.isPlainObject(i)){a=s.extend({content:"",autoDestroy:true},i)}else{a={content:i,autoDestroy:true}}t=t||1e3;var e=new c(a).show();setTimeout(function(){n&&n();e.hide()},t)};c.Toast=c.toast;Object.assign(c.prototype,o);t.exports=c});