define("mui/cover/index",function(e,i,t){"use strict";var n=function(){function e(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(i,t,n){if(t)e(i.prototype,t);if(n)e(i,n);return i}}();function o(e,i){if(!(e instanceof i)){throw new TypeError("Cannot call a class as a function")}}var s=e("mui/zepto/zepto");var r=e("mui/custom-event/index");e("mui/cover/index.css");var h=function(){var e=document.createElement("div");e.style.position="fixed";return e.style.position==="fixed"}();var a="onTransitionEnd"in window?"transitionEnd":"webkitTransitionEnd";var u="mui-cover";var c=0;var l=function(){function e(i){o(this,e);this.config=i||{};this.renderUI().bindUI().bindRoute()}n(e,[{key:"renderUI",value:function i(){this.$el=s('<div class="mui-cover"></div>');if(!h){this.$el.css({position:"absolute"})}if(this.config.className){this.$el.addClass(this.config.className)}s("body").append(this.$el);return this}},{key:"bindUI",value:function t(){var e=function(){this.$el.css("height",window.innerHeight)}.bind(this);var i=s("body");this.on("show",function(){if(!h){window.addEventListener("resize",e)}i.css("-webkit-tap-highlight-color","transparent")}).on("hide",function(){if(!h){window.removeEventListener("resize",e)}i.css("-webkit-tap-highlight-color","")});return this}},{key:"bindRoute",value:function r(){var e=this;if(this.config.disableRoute){return this}var i="#"+(this.config.route||u+"-"+c);c++;if(i===location.hash){this.show()}this.on("show",function(){if(location.hash!==i){location.hash=i}}).on("hide",function(){if(location.hash===i){if(history.length&&history.length>1){history.back()}else{history.replaceState&&history.replaceState(null,document.title,location.href.replace(i,""))}}});window.addEventListener("hashchange",function(){if(location.hash===i){e.show()}else{e.hide()}});return this}},{key:"setContent",value:function l(e){this.$el.empty().append(e);return this}},{key:"show",value:function f(){var e=this;this.showed=true;if(!h){this.$el.css({top:window.pageYOffset,height:window.innerHeight})}this.$el.show();setTimeout(function(){e.$el.addClass("show");e.trigger("show")},50);return this}},{key:"hide",value:function d(){var e=this;if(this.showed){this.showed=false}else{return this}var i=undefined;this.$el.on(a,i=function t(){e.$el.hide();e.$el.off(a,i)});this.$el.removeClass("show");this.trigger("hide");return this}},{key:"destroy",value:function v(){this.hide();this.$el.remove()}}]);return e}();Object.assign(l.prototype,r);t.exports=l});