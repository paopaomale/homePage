define("mui/custom-event/index",function(t,n,e){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol?"symbol":typeof t};var r=0,l=function _(t){var n=++r+"";return t?t+n:n};var s=Math.pow(2,53)-1;var o=function x(t){var n=t!==null&&t!==undefined?t.length:null;return typeof n=="number"&&n>=0&&n<=s};var c=function k(t){if(t==null)return true;var n=Object.prototype.toString.call(t);if(o(t)&&(n==="[object Array]"||n==="[object String]"||n==="[object Arguments]"))return t.length===0;return Object.keys(t).length===0};var a=function j(t){if(t==null)return 0;return o(t)?t.length:Object.keys(t).length};var u={};var f=/\s+/;var v=function m(t,n,e,r,l){var s=0,o;if(e&&(typeof e==="undefined"?"undefined":i(e))==="object"){if(r!==void 0&&"context"in l&&l.context===void 0)l.context=r;for(o=Object.keys(e);s<o.length;s++){n=m(t,n,o[s],e[o[s]],l)}}else if(e&&f.test(e)){for(o=e.split(f);s<o.length;s++){n=t(n,o[s],r,l)}}else{n=t(n,e,r,l)}return n};u.on=function(t,n,e){return h(this,t,n,e)};var h=function T(t,n,e,i,r){t._events=v(b,t._events||{},n,e,{context:i,ctx:t,listening:r});if(r){var l=t._listeners||(t._listeners={});l[r.id]=r}return t};u.listenTo=function(t,n,e){if(!t)return this;var i=t._listenId||(t._listenId=l("l"));var r=this._listeningTo||(this._listeningTo={});var s=r[i];if(!s){var o=this._listenId||(this._listenId=l("l"));s=r[i]={obj:t,objId:i,id:o,listeningTo:r,count:0}}h(t,n,e,this,s);return this};var b=function I(t,n,e,i){if(e){var r=t[n]||(t[n]=[]);var l=i.context,s=i.ctx,o=i.listening;if(o)o.count++;r.push({callback:e,context:l,ctx:l||s,listening:o})}return t};u.off=function(t,n,e){if(!this._events)return this;this._events=v(g,this._events,t,n,{context:e,listeners:this._listeners});return this};u.stopListening=function(t,n,e){var i=this._listeningTo;if(!i)return this;var r=t?[t._listenId]:Object.keys(i);for(var l=0;l<r.length;l++){var s=i[r[l]];if(!s)break;s.obj.off(n,e,this)}if(c(i))this._listeningTo=void 0;return this};var g=function O(t,n,e,i){if(!t)return;var r=0,l;var s=i.context,o=i.listeners;if(!n&&!e&&!s){var c=Object.keys(o);for(;r<c.length;r++){l=o[c[r]];delete o[l.id];delete l.listeningTo[l.objId]}return}var u=n?[n]:Object.keys(t);for(;r<u.length;r++){n=u[r];var f=t[n];if(!f)break;var v=[];for(var h=0;h<f.length;h++){var b=f[h];if(e&&e!==b.callback&&e!==b.callback._callback||s&&s!==b.context){v.push(b)}else{l=b.listening;if(l&&--l.count===0){delete o[l.id];delete l.listeningTo[l.objId]}}}if(v.length){t[n]=v}else{delete t[n]}}if(a(t))return t};u.once=function(t,n,e){var i=v(d,{},t,n,this.off.bind(this));return this.on(i,void 0,e)};u.listenToOnce=function(t,n,e){var i=v(d,{},n,e,function(){this.stopListening.apply(this,arguments)}.bind(this));return this.listenTo(t,i)};var d=function w(t,n,e,i){if(e){var r=t[n]=function(){var t;return function(){if(t){return}t=true;i(n,r);e.apply(this,arguments)}}();r._callback=e}return t};u.trigger=function(t){if(!this._events)return this;var n=Math.max(0,arguments.length-1);var e=Array(n);for(var i=0;i<n;i++){e[i]=arguments[i+1]}v(y,this._events,t,void 0,e);return this};var y=function S(t,n,e,i){if(t){var r=t[n];var l=t.all;if(r&&l)l=l.slice();if(r)p(r,i);if(l)p(l,[n].concat(i))}return t};var p=function A(t,n){var e,i=-1,r=t.length,l=n[0],s=n[1],o=n[2];switch(n.length){case 0:while(++i<r){(e=t[i]).callback.call(e.ctx)}return;case 1:while(++i<r){(e=t[i]).callback.call(e.ctx,l)}return;case 2:while(++i<r){(e=t[i]).callback.call(e.ctx,l,s)}return;case 3:while(++i<r){(e=t[i]).callback.call(e.ctx,l,s,o)}return;default:while(++i<r){(e=t[i]).callback.apply(e.ctx,n)}return}};u.bind=u.on;u.unbind=u.off;e.exports=u});