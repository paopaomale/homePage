define("mui/city-selector/gps",function(e,i,n){"use strict";var o=function(){function e(e,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||false;o.configurable=true;if("value"in o)o.writable=true;Object.defineProperty(e,o.key,o)}}return function(i,n,o){if(n)e(i.prototype,n);if(o)e(i,o);return i}}();function t(e,i){if(!(e instanceof i)){throw new TypeError("Cannot call a class as a function")}}var r=e("mui/hybrid/index");var a=e("mui/dialog/index");var c={enableHighAcuracy:true,address:true};var l="gps_time";var d=function(){function e(i){t(this,e);if(!i.cityCode&&!i.cityName)return;var n={time:7,confirmCb:function s(){},cancelCb:function f(){},biz:"chaoshi"};var i=Object.assign(n,i);try{var o=(new Date).getTime()/1e3;var r=localStorage[l];if(!r)localStorage[l]=o;var c=o-r;var d=i.time*24*60*60;if(c<d){return}else{localStorage[l]=o}}catch(u){console.log(u)}e.getGeo().then(function(e){var n=e.address.city,o=e.address.cityCode,t=e.address.areaCode;if(!n||!o)return;if(o===i.cityCode||n===i.cityName||n.indexOf(i.cityName)>-1||i.cityName.indexOf(n)>-1){return}else{window.goldlog&&window.goldlog.record("/tbchaoshi.230.1","","biz="+i.biz,"H46896547");var r=new a({title:"GPS\u5b9a\u4f4d",content:"\u5f53\u524d\u57ce\u5e02\u662f"+n+"\uff0c\u662f\u5426\u5207\u6362\uff1f",buttons:{"\u53d6\u6d88":function c(){window.goldlog&&window.goldlog.record("/tbchaoshi.230.3","","biz="+i.biz,"H46896570");i.cancelCb&&i.cancelCb({cityName:n,cityCode:o,areaCode:t});this.hide()},"\u786e\u5b9a":{className:"ok",fn:function l(){window.goldlog&&window.goldlog.record("/tbchaoshi.230.2","","biz="+i.biz,"H46896569");i.confirmCb&&i.confirmCb({cityName:n,cityCode:o,areaCode:t});this.hide()}}}}).show()}},function(e){console.log(e)})}o(e,null,[{key:"getGeo",value:function i(){return new Promise(function(e,i){r.ready(function(){r.callWindVane("WVLocation.getLocation",{enableHighAcuracy:true,address:true},function(n){if(n.address)e(n);i(n)})})})}}]);return e}();n.exports=d});