define("mui/xtemplate/runtime/commands",function(e,n,t){"use strict";var a=e("./scope");var r=e("./util");var i={range:function s(e,n){var t=n.params;var a=t[0];var r=t[1];var i=t[2];if(!i){i=a>r?-1:1}else if(a>r&&i>0||a<r&&i<0){i=-i}var s=[];for(var o=a;a<r?o<r:o>r;o+=i){s.push(o)}return s},foreach:function o(e,n,t){var r=t;var i=n.params;var s=i[0];var o=i[2]||"xindex";var u=i[1];var f=undefined;var p=undefined;var l=undefined;var c=undefined;if(s){f=s.length;for(c=0;c<f;c++){p=new a(s[c],{xcount:f,xindex:c},e);l=p.affix;if(o!=="xindex"){l[o]=c;l.xindex=undefined}if(u){l[u]=s[c]}r=n.fn(p,r)}}return r},forin:function u(e,n,t){var r=t;var i=n.params;var s=i[0];var o=i[2]||"xindex";var u=i[1];var f=undefined;var p=undefined;var l=undefined;if(s){for(l in s){f=new a(s[l],{xindex:l},e);p=f.affix;if(o!=="xindex"){p[o]=l;p.xindex=undefined}if(u){p[u]=s[l]}r=n.fn(f,r)}}return r},each:function f(e,n,t){var a=n.params;var s=a[0];if(s){if(r.isArray(s)){return i.foreach(e,n,t)}return i.forin(e,n,t)}return t},"with":function p(e,n,t){var r=t;var i=n.params;var s=i[0];if(s){var o=new a(s,undefined,e);r=n.fn(o,r)}return r},"if":function l(e,n,t){var a=t;var r=n.params;var i=r[0];if(i){var s=n.fn;if(s){a=s(e,a)}}else{var o=false;var u=n.elseIfs;var f=n.inverse;if(u){for(var p=0,l=u.length;p<l;p++){var c=u[p];o=c.test(e);if(o){a=c.fn(e,a);break}}}if(!o&&f){a=f(e,a)}}return a},set:function c(e,n,t){var a=e;var r=n.hash;var i=r.length;for(var s=0;s<i;s++){var o=r[s];var u=o.key;var f=o.depth;var p=o.value;if(u.length===1){var l=a.root;while(f&&l!==a){a=a.parent;--f}a.set(u[0],p)}else{var c=a.resolve(u.slice(0,-1),f);if(c){c[u[u.length-1]]=p}}}return t},include:1,includeOnce:1,parse:1,extend:1,block:function h(e,n,t){var a=t;var r=this;var i=r.runtime;var s=n.params;var o=s[0];var u=undefined;if(s.length===2){u=s[0];o=s[1]}var f=i.blocks=i.blocks||{};var p=f[o];var l=undefined;var c={fn:n.fn,type:u};if(!p){f[o]=c}else if(p.type){if(p.type==="append"){c.next=p;f[o]=c}else if(p.type==="prepend"){var h=undefined;l=p;while(l&&l.type==="prepend"){h=l;l=l.next}c.next=l;h.next=c}}if(!i.extendTpl){l=f[o];while(l){if(l.fn){a=l.fn.call(r,e,a)}l=l.next}}return a},macro:function v(e,n,t){var r=t;var i=n.hash;var s=n.params;var o=s[0];var u=s.slice(1);var f=this;var p=f.runtime;var l=p.macros=p.macros||{};var v=l[o];if(n.fn){l[o]={paramNames:u,hash:i,fn:n.fn}}else if(v){var c=v.hash||{};var h=undefined;if(h=v.paramNames){for(var m=0,d=h.length;m<d;m++){var b=h[m];c[b]=u[m]}}if(i){for(var x in i){c[x]=i[x]}}var y=new a(c);y.root=e.root;r=v.fn.call(f,y,r)}else{var g="can not find macro: "+o;r.error(g)}return r}};t.exports=i});