define("mui/zebra-brand-celebration-calendar/index",function(e,a,t){var n=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(a,t,n){if(t)e(a.prototype,t);if(n)e(a,n);return a}}();function i(e,a){if(!(e instanceof a)){throw new TypeError("Cannot call a class as a function")}}e("mui/kissy-polyfill/index");var r=e("mui/zepto/zepto");var o=e("mui/tengine-detector/index");var d=e("mui/datalazyload/index").instance();var s=e("mui/crossimage/index");var l=e("./mods/swipecards");var c=e("./mods/card.tpl");var u=e("mui/mtop/index");var f=window.innerWidth/3.75;u.config.prefix="api";u.config.subDomain=!~location.hostname.search("^(pre-wormhole|zebra|test)")?"m":"wapa";u.config.mainDomain="tmall.com";var h=function(){function e(a){i(this,e);d.addStartListener(s.DatalazyPlugin(a));this.$el=r(a);this.fetchData()}n(e,[{key:"fetchData",value:function a(){var e=this;u.request({api:"mtop.taobao.shopsell.service.getCalendar",v:"1.0",ecode:0,data:{}}).then(function(a){if(a.data&&a.data.resultValue&&a.data.resultValue.length){e.fetchDone(a.data.resultValue)}else{e.$el.empty()}},function(a){e.$el.empty()})}},{key:"fetchDone",value:function t(e){var a=[];for(var t=0;t<e.length;t++){var n=document.createElement("li"),i=e[t];n.className="card-wrapper";n.setAttribute("data-id",t);n.setAttribute("data-spm","calendar"+t);if(i.shops&&i.shops.length&&!(i.shops.length&1)){i.odd=true}n.innerHTML=c(e[t]);a.push(n)}this.initSwipeCard(a)}},{key:"initSwipeCard",value:function h(e){var a=new l({container:this.$el.find(".calendar")[0],cards:e,cardWidth:3.59*f,cardHeight:4.41*f,showIndex:0,offsetY:.1*f,isAndroid:o.os==="android"});a.addEventListener("cardChange",function(e){setTimeout(function(){d.addElements(a.cards[a.showIndex])},501)});d.addElements(this.$el[0])}}]);return e}();t.exports=function(e){d.addCallback(e,function(){new h(e)})}});