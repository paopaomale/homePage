define("mui/zebra-brand-celebration-calendar/mods/swipecards",function(e,a,t){var i=window;var r=i.innerWidth,n=i.innerHeight;var o=false;(function(){var e=document,a=e.head,t=e.documentElement;var i=e.createElement("div"),r=i.style;var n=r["webkitTransform"]!=undefined;var s=r["webkitPerspective"]!=undefined;if(s){i.id="test3d";r=e.createElement("style");r.textContent="@media(-webkit-transform-3d){#test3d{height:3px}}";a.appendChild(r);t.appendChild(i);s=i.offsetHeight==3;a.removeChild(r);t.removeChild(i)}o=s})();var s=i.SwipeCard=function(e){this.init(e)};s.prototype={container:null,cards:null,noBackSwipePage:1,cardWidth:0,cardHeight:0,showMaxCount:3,showIndex:0,pageNumber:0,isAndroid:false,offsetY:5,offsetScale:.06,transitionDuration:300,swipeOutDistance:80,swipeInDistance:10,init:function v(e){var a=this;for(var t in e){a[t]=e[t]}if(a.isAndroid){a.swipeInDistance=5}var i=a.container;if(typeof i==="string")i=d(i);a.container=i;i.addEventListener("touchstart",function(e){var t=u(e);a.startX=t.x;a.startY=t.y;a.touchEnd=false},false);i.addEventListener("touchmove",function(e){var t=u(e);var i=t.x-a.startX;var r=t.y-a.startY;var n=Math.abs(i)>Math.abs(r);if(n){this.isHorizontal=true}if(n&&i<0){a._moveCard(i)}if(this.isHorizontal){e.preventDefault()}},false);i.addEventListener("touchend",function(e){var t=u(e);var i=t.x-a.startX;var r=t.y-a.startY;var n=a.isAndroid&&Math.abs(i)>0?true:Math.abs(i)>=Math.abs(r);if(n&&i<=-a.swipeInDistance){a.swipeLeft=true;a._swipeOut()}else if(n&&i>=a.swipeOutDistance){a.swipeLeft=false;if(a.pageNumber!==a.noBackSwipePage){a._swipeIn()}}else{a._bounceBack()}this.isHorizontal=false},false);a.cards=[];var r=e.cards;if(r)a.addCard(r);var n=a._cardstates=[],o=a.showMaxCount;for(var s=0;s<o;s++){n[s]={x:s*a.offsetScale*a.cardWidth*.5,y:-s*a.offsetScale*a.cardHeight+a.offsetY*(o-1-s),scaleX:1-s*a.offsetScale,scaleY:1-s*a.offsetScale}}if(a.showIndex>=0&&a.cards.length>0)a.showCardAt(a.showIndex)},addCard:function f(e){e=e instanceof Array?e:[e];var a=this;for(var t=0,i=e.length;t<i;t++){var r=e[t];a.cards.push(r);a._setCardTransition(r)}},beforeAddCard:function h(e){e=e instanceof Array?e:[e];var a=this;for(var t=e.length-1,i=t;i>=0;i--){var r=e[i];a.cards.splice(0,0,r);a._setCardTransition(r)}},disableSwipe:function g(){this.container.style.pointerEvents="none"},enableSwipe:function w(){this.container.style.pointerEvents="auto"},removeCard:function b(e){var a=this,t=a.cards;for(var i=0;i<t.length;i++){var r=t[i];if(r===e){t.splice(i,1);if(r.parentNode)r.parentNode.removeChild(r);return}}},removeAllCards:function x(){var e=this;e.showIndex=-1;e.cards.length=0;e.container.innerHTML=""},showCardAt:function y(e,a,t){var i=this,r=i.cards,n=r.length,o=i.container;var s=Math.min(i.showMaxCount,n),u=0,d,m=[];e=e>=n?0:e;i.showIndex=e;i.showCount=s;while(u<s){d=r[e];d.style.zIndex=s-u;d.style.opacity=1-u*.3;if(!d.parentNode)o.appendChild(d);d.offsetWidth;d.style.webkitTransition=a?"-webkit-transform "+i.transitionDuration+"ms ease-out":"";l(d,i._cardstates[u]);c(d,false);m[u]=d;e=e+1>=n?0:e+1;u++}o.offsetWidth;u=o.childNodes.length-s;while(--u>=0){var v=o.childNodes[u];if(m.indexOf(v)===-1&&v!==i._swipeOutCard){o.removeChild(v)}}if(!t){p(i.container,i,"cardChange",{cardIndex:e,swipeLeft:i.swipeLeft,touchCard:i._swipeOutCard})}},_setCardTransition:function z(e){var a=this;e.style.webkitTransformOrigin="0 100% 0";e.addEventListener("webkitTransitionEnd",function(e){var t=e.target,i=t.parentNode;t.style.webkitTransition="";var r=t.style.zIndex;if(i&&t.tagName!=="SECTION"&&(t===a._swipeOutCard||r<1||r>a.showCount)){i.removeChild(t)}})},_moveCard:function k(e,a){var t=this,i=t.cards,r=i.length;var n=t.showCount,o=t.showIndex,s=0,u,d;while(s<n){u=i[o];d=t._cardstates[s];u.style.webkitTransition=a?"-webkit-transform "+t.transitionDuration+"ms ease-out":"";var m=(n-s)*(n-1-s)*Math.min(e*.01,20);l(u,{x:-(d.x+Math.max(0,(n-s)*(n-1-s)*Math.min(e*.01,20))),y:d.y,scaleX:d.scaleX,scaleY:d.scaleY,rotation:m});c(u,true);if(s==n-1)t._lastRotation=m;o=o+1>=r?0:o+1;s++}},_bounceBack:function C(){var e=this,a=e.cards,t=a.length;var i=e.showCount,r=e.showIndex,n=0,o,s;while(n<i){o=a[r];s=e._cardstates[n];o.style.webkitTransition="-webkit-transform "+e.transitionDuration+"ms ease-out";l(o,{x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY});c(o,false);r=r+1>=t?0:r+1;n++}},_swipeOut:function I(){var e=this,a=e.cards,t=a.length;var i=e.showCount,n=e.showIndex,o=0,s,u;s=e._swipeOutCard=a[n];u=e._cardstates[0];s.style.zIndex=i+1;s.style.webkitTransition="-webkit-transform "+e.transitionDuration+"ms ease-out";l(s,{x:-r,y:u.y,rotation:e._lastRotation||0});e.showCardAt(n+1,true)},_swipeIn:function E(){var e=this,a=e.cards,t=a.length;var i=e.showCount,n=e.showIndex,o=0,s,u;e._swipeOutCard=null;n=n>0?n-1:t-1;s=a[n];u=e._cardstates[0];l(s,{x:-r,y:u.y,rotation:e._lastRotation||10});e.showCardAt(n,true)},_onTouchStart:function _(e){var a=this,t=u(e);a.startX=t.x;a.startY=t.y;a.touchEnd=false},_onTouchMove:function L(e){var a=this,t=u(e);var i=t.x-a.startX;var r=t.y-a.startY;var n=Math.abs(i)>Math.abs(r);if(n){this.isHorizontal=true}if(n&&i<0){a._moveCard(i)}if(this.isHorizontal){e.preventDefault()}},_onTouchEnd:function q(e){var a=this,t=u(e);var i=t.x-a.startX;var r=t.y-a.startY;var n=Math.abs(i)>Math.abs(r);if(n&&i<=-a.swipeInDistance){a.swipeLeft=true;a._swipeOut()}else if(n&&i>=a.swipeOutDistance){a.swipeLeft=false;if(a.pageNumber!==a.noBackSwipePage){a._swipeIn()}}else{a._bounceBack()}this.isHorizontal=false},updatePageIndex:function N(e){this.pageNumber=e},addEventListener:function T(e,a,t){this.container.addEventListener(e,a,t)},removeEventListener:function Y(e,a,t){this.container.removeEventListener(e,a,t)}};function u(e){var a=e.touches,t=e.changedTouches;var i=a&&a.length?a[0]:t&&t.length?t[0]:null;var r=i.pageX||i.clientX,n=i.pageY||i.clientY;return{touch:i,x:r,y:n}}function d(e,a,t){t=t||document;return a?t.querySelectorAll(e):t.querySelector(e)}function l(e,a,t){e.style.webkitTransform=m(a)}function c(e,a){e.style.webkitTransformOrigin=a?"100% 100% 0":"0 100% 0"}function m(e){e.x=e.x||0;e.y=e.y||0;e.pivotX=e.pivotX||0;e.pivotY=e.pivotY||0;e.rotation=e.rotation||0;e.scaleX=e.scaleX||1;e.scaleY=e.scaleY||1;var a=o,t=a?"3d":"";return"translate"+t+"("+(e.x-e.pivotX)+"px, "+(e.y-e.pivotY)+(a?"px, 0)":"px)")+"rotate"+t+(a?"(0, 0, 1, ":"(")+e.rotation+"deg)"+"scale"+t+"("+e.scaleX+", "+e.scaleY+(a?", 1)":")")}function p(e,a,t,i){var r=document.createEvent("HTMLEvents");r.initEvent(t,false,true);r.data=i;r.eventTarget=a||e;e.dispatchEvent(r)}t.exports=s});