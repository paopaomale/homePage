define("mui/datalazylist/index",function(e,t,n){var i=e("mui/zepto/zepto"),o=e("mui/zepto/event");function r(){return i.extend.apply(this,arguments)}function a(e){window.console&&console.log(e)}function d(e,t,n){var i,o=0,r=0,t=t||150;function a(){if(i){i.cancel();i=0}o=+new Date;e.apply(n||this,arguments);r=+new Date}function d(e,t){var n=setTimeout(e,t);return{cancel:function(){clearTimeout(n)}}}var l=function(){var e=arguments;if(!o||r>=o&&+new Date-r>t||r<o&&+new Date-o>t*8){a()}else{if(i){i.cancel()}i=d(function(){a.apply(null,e)},t)}};l.stop=function(){if(i){i.cancel();i=0}};return l}function l(e){var t=this;r(t,e);var n,l,u,c,f,s=e.scrollPanel,m=function(e){return f.get(e)},h=function(){if(!u||!f||!n){return}var e,i,o=t.minIndex||0,r=Math.min(t.maxIndex!==undefined?t.maxIndex:Number.MAX_VALUE,f.totalNum!==undefined?f.totalNum-1:Number.MAX_VALUE);t.onStart&&t.onStart(l,o,r,c);u.start(l,o,r,c);while(l[0]<l[1]&&(e=l[1]>r+1&&l[1]-r-1||u.checkRemove(l[1]-1,1))){i=u.remove(l[1]-1,1,e);l[1]-=i;a(["remove",1,e,i])}while(l[0]<l[1]&&(e=o>l[0]&&o-l[0]||u.checkRemove(l[0],-1))){i=u.remove(l[0],-1,e);l[0]+=i;a(["remove",-1,e,i])}u.adjust(l,o,r);if(l[0]<o&&l[0]==l[1]){l[0]=l[1]=o}while(l[0]>o&&(e=u.checkAdd(l[0]-1,-1))){f.fetch(l[0]-1);if(!m(l[0]-1)){return f.fetch(l[0]-1,w)}i=u.add(l[0]-1,-1,e,m);l[0]-=i;a(["add",-1,e,i])}while(l[1]<=r&&(e=u.checkAdd(l[1],1))){f.fetch(l[1]);if(!m(l[1])){return f.fetch(l[1],w)}i=u.add(l[1],1,e,m);l[1]+=i;a(["add",1,e,i])}u.finish(l,o,r);t.onFinish&&t.onFinish(l,o,r)},w=d(h,100);var p,v=0;function g(){var e=+new Date;if(c>1||c===1&&e-v<1024){return}c=1;v=e;if(p){clearTimeout(p)}p=setTimeout(function(){c=0;w()},2048)}function z(){g();w()}t.setLoader=function(e){f=e};t.setRender=function(e){l=[0,0];u=e};t.pause=function(){if(!n){return}o(window).off("scroll touchmove resize",z);if(s){o(s).off("scroll touchmove",z)}c=2;w.stop();h();n=false};t.resume=function(){if(n){return}n=true;c=0;g();o(window).on("scroll touchmove resize",z);if(s){o(s).on("scroll touchmove",z)}};t.refresh=w;if(t.loader){t.setLoader(t.loader)}if(t.render){t.setRender(t.render)}if(t.start!==false){t.resume();w();i(function(){w();setTimeout(w,2048)})}}l.NodeRender=e("mui/datalazylist/render/node");l.MultiNodeRender=e("mui/datalazylist/render/multinode");l.FixedSizeDataLoader=function(e){return l.RandomSizeDataLoader(r({fixedSize:true},e))};l.RandomSizeDataLoader=e("mui/datalazylist/loader/page");l.StaticDataLoader=e("mui/datalazylist/loader/static");n.exports=l});