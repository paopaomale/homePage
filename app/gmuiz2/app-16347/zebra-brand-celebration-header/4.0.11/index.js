define("mui/zebra-brand-celebration-header/index",function(e,t,a){var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,a,n){if(a)e(t.prototype,a);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}e("mui/kissy-polyfill/index");var r=e("mui/zepto/zepto");var o=e("./mods/broadcast");var l=e("./mods/banners");var s=e("mui/mtop/index");s.config.prefix="api";s.config.subDomain=!~location.href.search("(pre-wormhole|zebra)")?"m":"wapa";s.config.mainDomain="tmall.com";function f(e){new u(e)}var u=function(){function e(t){i(this,e);this.$el=r(t);this.init()}n(e,[{key:"init",value:function t(){this.fetchData()}},{key:"fetchData",value:function a(e){var t=this;var a=location.search;var n={};var i=a.match(/[?&]itemId(=([^&#]*)|&|#|$)/);var r=i&&i[2];if(r){n.itemId=r}var o=a.match(/[?&]sellerId(=([^&#]*)|&|#|$)/);n.sellerId=Number(o&&o[2])||0;s.request({api:"mtop.taobao.shopsell.service.getBanners",v:"1.0",ecode:0,data:n}).then(function(e){t.fetchDone(e.data.resultValue)},function(e){t.fetchDone({broadcast:[{msg:"\u54c1\u724c\u5e97\u5e86\uff0c\u4e00\u8d77\u72c2\u6b22",logo:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",url:"#"}]})})}},{key:"fetchDone",value:function f(e){var t=new o(this.$el.find(".broadcast-container"),e);var a=new l(this.$el.find(".banners-container"),e);var n=this.$el.offset().top+this.$el.height()+10,i=false;var r=function s(){if(window.scrollY>n&&!i){t.slider._stopAuto();a.slider._stopAuto();i=true}else if(window.scrollY<n&&i){t.slider._startAuto();a.slider._startAuto();i=false}};window.addEventListener("scroll",c(r,200),false)}}]);return e}();function c(e,t,a){var n,i,r;var o=null;var l=0;if(!a)a={};var s=function f(){l=a.leading===false?0:(new Date).getTime();o=null;r=e.apply(n,i);if(!o)n=i=null};return function(){var f=(new Date).getTime();if(!l&&a.leading===false)l=f;var u=t-(f-l);n=this;i=arguments;if(u<=0||u>t){if(o){clearTimeout(o);o=null}l=f;r=e.apply(n,i);if(!o)n=i=null}else if(!o&&a.trailing!==false){o=setTimeout(s,u)}return r}}a.exports=f});