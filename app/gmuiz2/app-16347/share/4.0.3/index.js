define("mui/share/index",function(e,i,n){var t=function(){function e(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||false;t.configurable=true;if("value"in t)t.writable=true;Object.defineProperty(e,t.key,t)}}return function(i,n,t){if(n)e(i.prototype,n);if(t)e(i,t);return i}}();function o(e,i){if(!(e instanceof i)){throw new TypeError("Cannot call a class as a function")}}e("mui/kissy-polyfill/index");e("mui/babel-polyfill/index");var r=e("mui/zepto/zepto");e("mui/zepto/event");e("mui/zepto/touch");var c=e("mui/hybrid/");e(["mui/share/index.css"]);var a=function(){function e(i){o(this,e);var n=this;n.cfg=Object.assign({title:"",comment:"",picUrl:"",url:"",qrcode:""},i);var t='<div class="mui-share">'+'<div class="mui-share-qrcode-layout"><img width="150" src="'+n.cfg.qrcode+'"></div>'+'<div class="mui-share-types">'+'<li class="mui-share-sina"><div data-type="1"></div><span>\u65b0\u6d6a\u5fae\u535a</span></li>'+(n.cfg.qrcode?'<li class="mui-share-qrcode"><div data-type="qrcode"></div><span>\u4e8c\u7ef4\u7801</span></li>':"")+"</div>"+'<button class="mui-share-cancel">\u53d6\u6d88</button>'+"</div>";n.container=r(t)}t(e,[{key:"popup",value:function i(){var e=this;c.ready(function(i){if(!(i.isTmall||i.isTaobao)){r("body").append(e.container);r(".mui-share-types",e.container).on("click",function(i){if(i.target.getAttribute("data-type")){e._share(i.target.getAttribute("data-type"));i.preventDefault()}});r(".mui-share-cancel",e.container).on("click",function(i){i.preventDefault();e._close()});r(e.container).show()}else{i.share({shareType:i.share.type.AUTO,title:e.cfg.title,text:e.cfg.comment,image:e.cfg.picUrl,url:e.cfg.url},function(e){if(e.errorCode){i.toast(e.error)}})}})}},{key:"_close",value:function n(){r(this.container).hide()}},{key:"_share",value:function a(e){var i=this;if(e==="qrcode"){r(".mui-share-qrcode-layout",i.container).show();r(".mui-share-types",i.container).hide()}else{n(i.cfg.picUrl)}function n(n){i._close();if(r.isArray(n)){n=n.join("||")}if(e==="1"){window.open("http://service.weibo.com/share/share.php?title="+encodeURIComponent(i.cfg.comment)+"&url="+encodeURIComponent(i.cfg.url)+"&pic="+encodeURIComponent(n),"\u5206\u4eab\u5fae\u535a")}}}}]);return e}();n.exports=a});