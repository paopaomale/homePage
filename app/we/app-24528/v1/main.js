define("@weex-component/module-follow-split",function(e,t,i){i.exports={data:function(){return{topTitle:"猜你喜欢",bottomTitle:"你关注的账号内容有点少哦"}},methods:{ready:function(e){}}},i.exports.style={tag:{display:"flex",flexDirection:"column",justifyContent:"flex-start",position:"relative",width:750,paddingTop:44,paddingBottom:44,backgroundColor:"#f4f4f4"},"top-contaner":{display:"flex",flexDirection:"row",justifyContent:"flex-start",position:"relative",width:160,marginLeft:293},"contaner-image":{marginTop:2,width:36,height:36},"contaner-text":{marginLeft:12,color:"#3e3e3e",width:115,height:40,fontSize:28,paddingTop:6,textAlign:"center"},"tag-text":{marginLeft:231,paddingTop:8,color:"#999999",fontSize:24,width:288,height:33}},i.exports.template={type:"div",classList:["tag"],children:[{type:"div",classList:["top-contaner"],children:[{type:"image",classList:["contaner-image"],attr:{src:"https://img.alicdn.com/tps/TB11StyNVXXXXXPapXXXXXXXXXX-36-36.png"}},{type:"text",classList:["contaner-text"],attr:{value:function(){return this.topTitle}}}]},{type:"text",classList:["tag-text"],attr:{value:function(){return this.bottomTitle}}}]}}),define("@weex-component/module-follow-tag",function(e,t,i){i.exports={data:function(){return{title:"上次看到这里",rightwidth:230,leftwidth:230,textwidth:200}},methods:{ready:function(e){var t=this;t.setTextDate(t)},setTextDate:function(e){var t=new Date,i=t.getTime(),n=i-parseInt(e.feed.timestamp,10);if(0>n)e.title="上次看到这里",e.rightwidth=255,e.leftwidth=255,e.textwidth=150;else if(n>2592e6)e.title="一个月前看到这里";else if(n>6048e5)e.title="一周前看到这里";else if(n>864e5)e.title="一天前看到这里";else if(n>36e5){var o=Math.round(n/36e5);e.title=o+"小时前看到这里"}else if(n>6e4){var r=parseInt(n/6e4);if(5>r)e.title="1分钟前看到这里";else{var a=parseInt(r/5),d=5*a;e.title=d+"分钟前看到这里"}}else if(n>1e3){var s=parseInt(n/1e3);e.title=s+"秒前看到这里"}}}},i.exports.style={tag:{display:"flex",flexDirection:"row",justifyContent:"flex-start",position:"relative",width:750,paddingTop:26,paddingBottom:44,backgroundColor:"#f4f4f4"},"right-line":{marginTop:16,width:230,marginLeft:24,height:1,backgroundColor:"#bfbfbf"},"tag-text":{marginLeft:24,color:"#999999",fontSize:24,width:200,height:33,paddingTop:4,textAlign:"center"},"left-line":{marginTop:16,width:230,marginLeft:24,height:1,backgroundColor:"#bfbfbf"}},i.exports.template={type:"div",classList:["tag"],children:[{type:"div",classList:["right-line"],style:{width:function(){return this.rightwidth}}},{type:"text",classList:["tag-text"],style:{width:function(){return this.textwidth}},attr:{value:function(){return this.title}}},{type:"div",classList:["left-line"],style:{width:function(){return this.leftwidth}}}]}}),define("@weex-component/module-banner",function(e,t,i){i.exports={data:function(){return{width:0,height:0,path:"",feed:{}}},methods:{ready:function(e){var t=this;t.initFeed(t.feed.newTiles)},initFeed:function(e){var t=e||[];if(t.length){var i=this;i.width=0,i.height=0,i.setOneImageSize(e[0],function(t,n){i.width=t,i.height=n,i.path=e[0].path})}},onImageClick:function(e){var t=this;t.goDetail("")},setOneImageSize:function(e,t){var i,n,o=parseFloat(e.picWidth),r=parseFloat(e.picHeight);i=750,n=Math.round(750*r/o),t(i,n)},goDetail:function(e){var t=this,i=t.feed.detailUrl,e="Banner",n={feed_Num:t.index+1};t.feed&&(t.feed.id&&(n.feed_id=t.feed.id),t.feed.feedType&&(n.feed_type=t.feed.feedType),t.feed.scm&&(n.scm=t.feed.scm)),t.account&&t.account.id&&(n.account_id=t.account.id),t.$userTrack("click","",e,n),t.$openURL(i)}}},i.exports.style={"image-grid":{marginLeft:0,paddingRight:0,flexDirection:"column",width:750,paddingBottom:0},"grid-container":{display:"flex",flexDirection:"row",justifyContent:"flex-start",position:"relative"},"grid-item":{position:"relative",marginRight:6,resizeMode:"contain"},"mask-layer":{position:"absolute",left:0,top:0,backgroundColor:"rgba(0,0,0,0.02)"}},i.exports.template={type:"div",classList:["image-grid"],children:[{type:"div",classList:["grid-container"],children:[{type:"div",classList:["grid-item"],events:{click:"onImageClick"},style:{width:function(){return this.width},height:function(){return this.height}},children:[{type:"image",classList:["grid-item-image"],attr:{src:function(){return this.path}},style:{width:function(){return this.width},height:function(){return this.height}}},{type:"div",classList:["mask-layer"],style:{width:function(){return this.width},height:function(){return this.height}}}]}]}]}}),define("@weex-component/discuss",function(e,t,i){i.exports={data:function(){return{source:0,url:""}},methods:{ready:function(e){var t=this;t.source&&"0"!=t.source||(t.source="评论")},goUrl:function(){var t=this,i="WeiTaoFeedComment",n={account_id:t.account.id,feed_id:t.feed.id,feed_type:t.feed.feedType,feed_Num:t.index+1};if(t.feed.scm&&(n.scm=t.feed.scm),t.$userTrack("click","",i,n),t.feed.commentUrl)t.$openURL(t.feed.commentUrl);else{var o=e("@weex-module/WeiTaoTimeLineModule");if(o&&o.isGotoCommentList){var r="//h5.m.taobao.com/comment/commentlist.htm";r=r+"?isShowKeyboard="+("评论"==t.source?"true":"false"),r=r+"&targetId="+t.feed.id,r+="&namespace=10002",r=r+"&targetCover="+encodeURIComponent(t.share.shareCover),r=r+"&targetTitle="+encodeURIComponent(t.share.shareTitle),r=r+"&targetUrl="+encodeURIComponent(t.share.shareUrl),r=r+"&targetAccountId="+t.account.id,t.$openURL(r)}else-1===t.url.indexOf("?")?t.$openURL(t.url+"?JumptoComment=true"):t.$openURL(t.url+"&JumptoComment=true")}}}},i.exports.style={discuss:{flexDirection:"row",flex:1,height:70},"discuss-btn":{flexDirection:"row",alignItems:"center",justifyContent:"center",marginLeft:12,marginTop:6,height:40,position:"relative",borderRadius:20,borderColor:"#999999",borderStyle:"solid",paddingRight:18,borderWidth:1},"discuss-txt":{color:"#666666",fontSize:20,textAlign:"center",flex:1},"discuss-img":{width:24,height:24,marginLeft:18,marginRight:5,resizeMode:"contain"},"discuss-txt-wrap":{flex:1,minWidth:40,alignItems:"center"}},i.exports.template={type:"div",classList:["discuss"],events:{click:"goUrl"},children:[{type:"div",classList:["discuss-btn"],children:[{type:"image",classList:["discuss-img"],attr:{src:"https://gw.alicdn.com/mt/TB1E10rMXXXXXckXVXXXXXXXXXX-24-24.png"}},{type:"div",classList:["discuss-txt-wrap"],children:[{type:"text",classList:["discuss-txt"],attr:{value:function(){return this.source}}}]}]}]}}),define("@weex-component/praise",function(e,t,i){i.exports={data:function(){return{count:0,countShow:0,feed:{id:"",isFeedFavoured:""},account:{id:""},isFavoured:!1,fontColor:"#666666",borderColor:"#999999",currentSrc:"",cancelSrc:"//gw.alicdn.com/mt/TB1CGBvMXXXXXc8XFXXXXXXXXXX-24-24.png",addSrc:"//gw.alicdn.com/mt/TB1pw8KMXXXXXXBXXXXXXXXXXXX-24-24.png"}},methods:{ready:function(e){var t=this,i=t.count;i||(i=0),i=parseInt(i,10),t.countShow=i,t.isFavoured="1"===t.feed.isFeedFavoured,t.isFavoured?(t.currentSrc=t.addSrc,t.fontColor="#FF4B23",t.borderColor="#FF4B23"):(t.currentSrc=t.cancelSrc,t.fontColor="#666666",t.borderColor="#999999"),0==i?t.countShow="点赞":t.countShow=i},trigger:function(){var e=this,t=e.countShow;e.isFavoured?e.goCancelPraise(t):e.goAddPraise(!1,t),e.isFavoured=!e.isFavoured},goAddPraise:function(t,i){var n=this,o={feed:n.feed,account:n.account};if(n.fontColor="#FF4B23",n.currentSrc=n.addSrc,n.borderColor="#FF4B23",!t){i=parseInt(i,10)||0,i++,n.feed.isFeedFavoured="1",n.feed.feedCount&&(n.feed.feedCount.feedFavourCount&&i!=n.feed.feedCount.feedFavourCount?n.feed.feedCount.feedFavourCount++:n.feed.feedCount.feedFavourCount=1),n.countShow=i;var r=e("@weex-module/WeiTaoTimeLineModule");r&&r.like?n.$call("WeiTaoTimeLineModule","like",{feedItem:o,pagename:n.pagename},function(e){}):n.requestMtop()}var a="WeiTaoFeedPraise",d={account_id:n.account.id,feed_id:n.feed.id,feed_type:n.feed.feedType,feed_Num:n.index+1};n.feed.scm&&(d.scm=n.feed.scm),n.$userTrack("click","",a,d)},goCancelPraise:function(t){var i=this,n={feed:i.feed,account:i.account};t=parseInt(t,10)||0,t--,i.feed.isFeedFavoured="0",i.feed.feedCount&&(i.feed.feedCount.feedFavourCount&&t!=i.feed.feedCount.feedFavourCount?i.feed.feedCount.feedFavourCount--:i.feed.feedCount.feedFavourCount=0),0==t||0>t?i.countShow="点赞":i.countShow=t,i.fontColor="#666666",i.currentSrc=i.cancelSrc,i.borderColor="#999999";var o=e("@weex-module/WeiTaoTimeLineModule");o&&o.unlike?i.$call("WeiTaoTimeLineModule","unlike",{feedItem:n,pagename:i.pagename},function(e){}):i.requestMtop();var r="WeiTaoFeedCancelPraise",a={account_id:i.account.id,feed_id:i.feed.id,feed_type:i.feed.feedType,feed_Num:i.index+1};i.feed.scm&&(a.scm=i.feed.scm),i.$userTrack("click","",r,a)},requestMtop:function(){var e=this;e.isFavoured?e.$sendMtop({api:"mtop.taobao.social.like.remove",v:"1.0",needLogin:!0,ecode:1,requestType:"mtop",param:{targetId:e.feed.id,namespace:1002}},function(e){}):e.$sendMtop({api:"mtop.taobao.social.like.add",v:"1.0",needLogin:!0,ecode:1,requestType:"mtop",param:{targetId:e.feed.id,namespace:1002}},function(e){})}}},i.exports.style={praise:{flexDirection:"row",flex:1,height:70},"praise-btn":{flexDirection:"row",alignItems:"center",justifyContent:"center",marginRight:12,marginLeft:12,marginTop:6,height:40,position:"relative",borderRadius:20,borderStyle:"solid",paddingRight:18,borderWidth:1,backgroundColor:"#ffffff"},"praise-img":{width:24,height:24,marginLeft:18,marginRight:5,resizeMode:"contain"},"praise-txt-wrap":{flex:1,minWidth:40,alignItems:"center"},"praise-txt":{fontSize:20,textAlign:"center",minWidth:40},"haspraise-txt":{color:"#ffffff"},haspraise:{backgroundColor:"#ff5500",borderWidth:0},"haspraise-img":{width:24,height:24}},i.exports.template={type:"div",children:[{type:"div",events:{click:"trigger"},classList:["praise"],children:[{type:"div",classList:["praise-btn"],style:{borderColor:function(){return this.borderColor}},children:[{type:"image",classList:["praise-img"],attr:{src:function(){return this.currentSrc}}},{type:"div",classList:["praise-txt-wrap"],children:[{type:"text",style:{color:function(){return this.fontColor}},classList:["praise-txt"],attr:{value:function(){return this.countShow}}}]}]}]}]}}),define("@weex-component/read",function(e,t,i){i.exports={data:function(){return{count:0}},methods:{ready:function(e){},goUrl:function(){var e=this,t="WeiTaoFeedComment",i={account_id:e.account.id,feed_id:e.feed.id,feed_type:e.feed.feedType,feed_Num:e.index+1};e.feed.scm&&(i.scm=e.feed.scm),e.$userTrack("click","",t,i),-1===e.url.indexOf("?")?e.$openURL(e.url+"?JumptoComment=true"):e.$openURL(e.url+"&JumptoComment=true")}}},i.exports.style={read:{flexDirection:"row",display:"flex",alignItems:"center",height:60,position:"absolute",left:0,bottom:10},"read-text":{fontSize:24,color:"#999999",marginRight:10},"read-icon":{width:24,height:24,marginRight:10,flex:1}},i.exports.template={type:"div",classList:["read"],events:{click:"goUrl"},children:[{type:"image",classList:["read-icon"],attr:{src:"https://img.alicdn.com/tps/TB1iiyBPpXXXXX1XVXXXXXXXXXX-24-24.png"}},{type:"text",classList:["read-text"],attr:{value:function(){return this.count}}}]}}),define("@weex-component/module-footer",function(e,t,i){i.exports={data:function(){return{showRead:!1,feed:{id:"",isFeedFavoured:"",detailUrl:"",feedCount:{feedFavoriteCount:"",commentCount:""}},account:{id:""},readCountStr:"",feedFavourCount:"",commentCountStr:"",index:-1}},methods:{ready:function(e){var t=this;t.feed&&t.feed.feedCount&&(t.feed.feedCount.readCountStr&&(t.readCountStr=t.feed.feedCount.readCountStr),t.feed.feedCount.feedFavourCount&&(t.feedFavourCount=t.feed.feedCount.feedFavourCount),t.feed.feedCount.commentCountStr&&(t.commentCountStr=t.feed.feedCount.commentCountStr)),t.readCountStr&&"0"!=t.readCountStr?t.showRead=!0:t.showRead=!1,e&&(t.showRead&&this.$("read").ready(!0),this.$("praise").ready(!0),this.$("discuss").ready(!0))},goDetail:function(e){}}},i.exports.style={"main-foot":{marginLeft:24,flexDirection:"row",width:702,height:70,position:"relative",marginTop:0},"main-foot-inner":{flexDirection:"row",position:"absolute",right:0}},i.exports.template={type:"div",classList:["main-foot"],events:{click:"goDetail"},children:[{type:"read",id:"read",shown:function(){return this.showRead},attr:{count:function(){return this.readCountStr}}},{type:"div",classList:["main-foot-inner"],children:[{type:"praise",id:"praise",attr:{feed:function(){return this.feed},account:function(){return this.account},share:function(){return this.share},index:function(){return this.index},count:function(){return this.feedFavourCount},pagename:function(){return this.pagename}}},{type:"discuss",id:"discuss",attr:{feed:function(){return this.feed},account:function(){return this.account},share:function(){return this.share},index:function(){return this.index},url:function(){return this.feed.detailUrl},source:function(){return this.commentCountStr}}}]}]}}),define("@weex-component/module-new-mark",function(e,t,i){i.exports={data:function(){return{feed:{feedTypeName:"",feedTypeIcon:""}}},methods:{ready:function(e){}}},i.exports.style={mark:{paddingLeft:24,paddingRight:24,height:24,flexDirection:"row",display:"flex",alignItems:"center",justifyContent:"flex-start",marginTop:6,marginBottom:6},"mark-txt":{color:"#ff5000",fontSize:24},"mark-icon":{left:0,width:24,height:24,marginRight:12}},i.exports.template={type:"div",classList:["mark"],children:[{type:"image",classList:["mark-icon"],attr:{src:function(){return this.feed.feedTypeIcon}}},{type:"text",classList:["mark-txt"],attr:{value:function(){return this.feed.feedTypeName}}}]}}),define("@weex-component/module-long-text-b",function(e,t,i){i.exports={data:function(){return{width:0,height:0,maxVideoWidth:702,minVideoWidth:466,videoIconLeftStyle:0,videoIconTopStyle:0,path:"",feed:{},totalJoinCount:"",longStatusTxt:"",descTxt:"",isShowTotalJoinCount:!1}},methods:{ready:function(e){var t=this;t.initFeed(t.feed.newTiles),t.feed.features&&t.feed.features.contentDesc&&(t.descTxt=t.feed.features.contentDesc)},initFeed:function(e){var t=e||[];if(t.length){var i=this;i.width=0,i.height=0,i.setOneImageSize(e[0],function(t,n){i.width=t,i.height=n,i.path=e[0].path})}},onClick:function(t){var i=this,n={feed:i.feed,account:i.account,share:i.share},o={account_id:i.account.id,feed_id:i.feed.id,feed_type:i.feed.feedType,feed_Num:i.index+1};i.feed.scm&&(o.scm=i.feed.scm),i.$userTrack("click","","WeiTaoFeedContent",o);var r=e("@weex-module/WeiTaoTimeLineModule");r&&r.openDetail&&-1!=i.feed.detailUrl.indexOf("/we/detail3.htm")?i._app.callTasks([{module:"WeiTaoTimeLineModule",method:"openDetail",args:[{feedItem:n},t.target]}]):i.goDetail("WeiTaoFeedContent")},setOneImageSize:function(e,t){var i,n,o=this,r=parseFloat(e.picWidth),a=parseFloat(e.picHeight),d=1.95;r>0&&a>0&&(d=r/a,1.75>d&&(d=1.75)),i=o.maxVideoWidth,n=Math.round(o.maxVideoWidth/d),o.videoIconLeftStyle=parseInt(i/2,10)-60,o.videoIconTopStyle=parseInt(n/2,10)-60,t(i,n)},goDetail:function(e){var t=this,i=t.feed.detailUrl;t.$openURL(i)}}},i.exports.style={"image-grid":{marginLeft:24,flexDirection:"column",width:702,paddingBottom:12},"grid-container":{display:"flex",flexDirection:"row",justifyContent:"flex-start",position:"relative"},"grid-item":{position:"relative",marginRight:6,resizeMode:"contain"},"long-wrap":{backgroundColor:"#fafafa",marginBottom:12,flexDirection:"row",paddingLeft:18,paddingRight:18,justifyContent:"space-between",alignItems:"center"},"long-status-wrap":{flexDirection:"column"},"long-title":{color:"#444444",fontSize:32,marginBottom:0,width:670,lines:2,paddingTop:24,paddingBottom:24,textOverflow:"ellipsis"},"long-sub-txt":{fontSize:24,color:"#999999",width:670,lines:2,paddingTop:18,paddingBottom:12},"mask-layer":{position:"absolute",left:0,top:0,backgroundColor:"rgba(0,0,0,0.02)"}},i.exports.template={type:"div",classList:["image-grid"],events:{click:"onClick"},children:[{type:"div",classList:["grid-container"],children:[{type:"div",classList:["grid-item"],style:{width:function(){return this.width},height:function(){return this.height}},children:[{type:"image",attr:{resize:"cover",src:function(){return this.path}},style:{width:function(){return this.width},height:function(){return this.height}}},{type:"div",classList:["mask-layer"],style:{width:function(){return this.width},height:function(){return this.height}}}]}]},{type:"div",classList:["long-wrap"],children:[{type:"div",classList:["long-status-wrap"],children:[{type:"text",classList:["long-title"],attr:{value:function(){return this.feed.title}}},{type:"wtrichtext",shown:function(){return this.feed.subTitle},classList:["long-sub-txt"],attr:{value:function(){return this.feed.subTitle}}}]}]}]}}),define("@weex-component/module-long-text-a",function(e,t,i){i.exports={data:function(){return{width:0,height:0,maxVideoWidth:702,minVideoWidth:466,videoIconLeftStyle:0,videoIconTopStyle:0,path:"",feed:{},totalJoinCount:"",longStatusTxt:"",descTxt:"",isShowTotalJoinCount:!1}},methods:{ready:function(e){var t=this;t.initFeed(t.feed.newTiles),t.feed.features&&t.feed.features.contentDesc&&(t.descTxt=t.feed.features.contentDesc)},initFeed:function(e){var t=e||[];if(t.length){var i=this;i.width=0,i.height=0,i.setOneImageSize(e[0],function(t,n){i.width=t,i.height=n,i.path=e[0].path})}},onClick:function(t){var i=this,n={feed:i.feed,account:i.account,share:i.share},o={account_id:i.account.id,feed_id:i.feed.id,feed_type:i.feed.feedType,feed_Num:i.index+1};i.feed.scm&&(o.scm=i.feed.scm),i.$userTrack("click","","WeiTaoFeedContent",o);var r=e("@weex-module/WeiTaoTimeLineModule");r&&r.openDetail&&-1!=i.feed.detailUrl.indexOf("/we/detail3.htm")?i._app.callTasks([{module:"WeiTaoTimeLineModule",method:"openDetail",args:[{feedItem:n},t.target]}]):i.goDetail("WeiTaoFeedContent")},setOneImageSize:function(e,t){var i,n,o=this,r=parseFloat(e.picWidth),a=parseFloat(e.picHeight),d=1.95;r>0&&a>0&&(d=r/a,1.75>d&&(d=1.75),d>2&&(d=2)),i=o.maxVideoWidth,n=Math.round(o.maxVideoWidth/d),o.videoIconLeftStyle=parseInt(i/2,10)-60,o.videoIconTopStyle=parseInt(n/2,10)-60,t(i,n)},goDetail:function(e){var t=this,i=t.feed.detailUrl;t.$openURL(i)}}},i.exports.style={"image-grid":{marginLeft:24,flexDirection:"column",width:702,paddingBottom:12},"grid-container":{display:"flex",flexDirection:"row",justifyContent:"flex-start",position:"relative"},"grid-item":{position:"relative",marginRight:6,resizeMode:"contain"},"long-wrap":{backgroundColor:"#fafafa",flexDirection:"row",marginBottom:6,justifyContent:"space-between",alignItems:"center"},"long-status-wrap":{flexDirection:"column"},"long-sub-txt":{fontSize:24,color:"#999999",marginTop:24,width:708,lines:2,marginBottom:24,paddingLeft:18,paddingRight:18},"mask-layer":{position:"absolute",left:0,top:0,backgroundColor:"rgba(0,0,0,0.02)"}},i.exports.template={type:"div",classList:["image-grid"],events:{click:"onClick"},children:[{type:"div",classList:["grid-container"],children:[{type:"div",classList:["grid-item"],style:{width:function(){return this.width},height:function(){return this.height}},children:[{type:"image",attr:{src:function(){return this.path},resize:"cover"},style:{width:function(){return this.width},height:function(){return this.height}}},{type:"div",classList:["mask-layer"],style:{width:function(){return this.width},height:function(){return this.height}}}]}]},{type:"div",classList:["long-wrap"],children:[{type:"div",classList:["long-status-wrap"],children:[{type:"wtrichtext",shown:function(){return this.feed.subTitle},classList:["long-sub-txt"],attr:{value:function(){return this.feed.subTitle}}}]}]}]}}),define("@weex-component/module-short-text",function(e,t,i){i.exports={data:function(){return{feedNewTilePic:"",account:{},feed:{}}},methods:{ready:function(e){var t=this;t.feedNewTilePic=t.feed.newTiles[0].path+"_200x200xz.jpg"},goDetail:function(){var e=this,t=e.feed.detailUrl;e.$openURL(t);var i="WeiTaoFeedContent",n={account_id:e.account.id,feed_id:e.feed.id,feed_type:e.feed.feedType,feed_Num:e.index+1};e.feed.scm&&(n.scm=e.feed.scm),e.$userTrack("click","",i,n)}}},i.exports.style={"main-isv":{marginLeft:24,flexDirection:"row",width:702,height:128,alignItems:"center",marginTop:0,backgroundColor:"#fafafa",marginBottom:18},"main-isv-img":{width:128,height:128,marginRight:24,resizeMode:"contain"},"main-isv-txt":{lines:2,flex:1,color:"#051b28",fontSize:28,paddingRight:10},"mask-layer":{position:"absolute",left:0,top:0,backgroundColor:"rgba(0,0,0,0.04)"}},i.exports.template={type:"div",classList:["main-isv"],events:{click:"goDetail"},children:[{type:"image",classList:["main-isv-img"],attr:{src:function(){return this.feedNewTilePic}}},{type:"div",classList:["mask-layer"],style:{width:128,height:128}},{type:"text",classList:["main-isv-txt"],attr:{value:function(){return this.feed.title}}}]}}),define("@weex-component/module-video-live",function(e,t,i){i.exports={data:function(){return{width:0,height:0,maxVideoWidth:702,minVideoWidth:466,videoIconLeftStyle:0,videoIconTopStyle:0,path:"",feed:{},totalJoinCount:"",totalJoinCountString:"",predictTimeTxt:"",liveStatusTxt:"",videoLiveIcon:"",joinCountStr:"",isShowTotalJoinCount:!1,isShowImage:!1,liveVideoStatus:0,isCalendar:!1}},methods:{ready:function(e){var t=this;t.initFeed(t.feed.newTiles),"1"==t.isPredictCard?(t.isShowTotalJoinCount=!0,t.isShowImage=!1,t.liveStatusTxt="直播预告中",t.joinCountStr=t.predictTimeTxt,t.videoLiveIcon="https://img.alicdn.com/tps/TB1HVCnKVXXXXa7aXXXXXXXXXXX-60-30.png"):"0"==t.liveVideoStatus?(t.isShowImage=!0,t.liveStatusTxt="视频直播中",t.isShowTotalJoinCount?t.joinCountStr=t.totalJoinCountString+" 观看":(t.isShowTotalJoinCount=!0,t.joinCountStr="正在直播"),t.videoLiveIcon="https://img.alicdn.com/tps/TB1.pVqKFXXXXXWXFXXXXXXXXXX-60-30.png"):"1"==t.liveVideoStatus&&(t.isShowImage=!0,t.liveStatusTxt="直播已结束",t.joinCountStr=t.totalJoinCountString+" 观看",t.videoLiveIcon="https://img.alicdn.com/tps/TB1NKJjKFXXXXamXVXXXXXXXXXX-60-30.png")},initFeed:function(e){var t=e||[];if(t.length){var i,n=this;for(n.width=0,n.height=0,i=0;i<e.length;i++)if("live"==e[i].type||"pic"==e[i].type){n.isShowImage=!0,n.setOneImageSize(e[i],function(t,o){if(n.width=t,n.height=o,n.path=e[i].path,n.totalJoinCount=e[i].totalJoinCount,n.liveStatusIcon=e[i].liveStatusIcon,n.liveVideoStatus=e[i].liveVideoStatus,n.predictTime=e[i].predictTime,e[i].totalJoinCountString?n.totalJoinCountString=e[i].totalJoinCountString:n.totalJoinCountString="0",parseInt(n.totalJoinCountString,10)?n.isShowTotalJoinCount=!0:n.isShowTotalJoinCount=!1,n.predictTime&&"0"!=n.predictTime){n.isShowImage=!1,n.isPredictCard=!0;var r=new Date,a=r.getTime(),d=parseInt(n.predictTime,10)-a;if(0>d)n.predictTimeTxt="直播即将开始";else if(d>864e5){var s=parseInt(d/864e5);n.predictTimeTxt=s+"天后开始直播"}else if(864e5>d&&d>36e5){var c=Math.round(d/36e5);n.predictTimeTxt=c+"小时后开始直播"}else if(36e5>d&&d>6e4){var f=parseInt(d/6e4);n.predictTimeTxt=f+"分钟后开始直播"}}else n.isPredictCard=!1});break}}},onCalendarClick:function(t){var i=this,n=e("@weex-module/modal");if(i.isCalendar)n.toast({message:"已设置过提醒",duration:1});else{var o={account_id:i.account.id,feed_id:i.feed.id,feed_type:i.feed.feedType,feed_Num:i.index+1};i.feed.scm&&(o.scm=i.feed.scm),i.$userTrack("click","","WeiTaoFeedLiveRemind",o),i.$sendMtop({api:"mtop.mediaplatform.video.alert",v:"1.0",needLogin:!0,ecode:1,requestType:"mtop",param:{feedId:i.feed.bizId}},function(e){var t=JSON.parse(e);t.data&&"true"===t.data.isSuccess?(i.isCalendar=!i.isCalendar,n.toast({message:"设置提醒成功",duration:1})):n.toast({message:"网络错误，请稍等",duration:1})})}},onImageClick:function(e){var t=this;t.goDetail("WeiTaoFeedContent")},setOneImageSize:function(e,t){var i,n,o=this,r=parseFloat(e.picWidth),a=parseFloat(e.picHeight);i=o.maxVideoWidth,n=Math.round(o.maxVideoWidth*a/r),o.videoIconLeftStyle=parseInt(i/2,10)-60,o.videoIconTopStyle=parseInt(n/2,10)-60,t(i,n)},goDetail:function(e){var t=this,i=t.feed.detailUrl,n={account_id:t.account.id,feed_id:t.feed.id,feed_type:t.feed.feedType,feed_Num:t.index+1};t.feed.scm&&(n.scm=t.feed.scm),t.$userTrack("click","",e,n),t.$openURL(i)}}},i.exports.style={"image-grid":{marginLeft:24,flexDirection:"column",width:702,paddingBottom:12},"grid-container":{display:"flex",flexDirection:"row",justifyContent:"flex-start",position:"relative"},"grid-item":{position:"relative",marginRight:6,width:467,height:467,resizeMode:"contain"},"icon-video":{position:"absolute",width:136,height:136,left:166,top:176},"live-count-wrap":{position:"absolute",width:466,height:60,left:0,top:408},"live-count-background":{position:"absolute",left:0,top:0,opacity:.5,width:466,height:60},"live-status":{position:"absolute",width:60,height:30,left:18,top:18},"live-counts":{position:"absolute",left:96,top:20,color:"#ffffff",fontSize:24},"calendar-wrap":{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"absolute",borderRadius:6,borderStyle:"solid",borderWidth:1,borderColor:"#ffffff",left:292,top:18,width:156,height:48,backgroundColor:"rgba(0,0,0,0.42)"},"calendar-icon":{marginRight:8,width:32,height:32},"calendar-text":{color:"#ffffff",fontSize:24}},i.exports.template={type:"div",classList:["image-grid"],children:[{type:"div",classList:["grid-container"],children:[{type:"div",classList:["grid-item"],events:{click:"onImageClick"},children:[{type:"image",classList:["grid-item-image"],attr:{src:function(){return this.path}},style:{width:467,height:467}}]},{type:"image",shown:function(){return this.isShowImage},classList:["icon-video"],attr:{src:"https://img.alicdn.com/tps/TB1WjqEPpXXXXb7XFXXXXXXXXXX-136-136.png"}},{type:"div",shown:function(){return this.isPredictCard},classList:["calendar-wrap"],style:{borderColor:function(){return this.borderColor}},events:{click:"onCalendarClick"},children:[{type:"image",classList:["calendar-icon"],attr:{src:"https://img.alicdn.com/tps/TB1GxdzLpXXXXcVXFXXXXXXXXXX-32-32.png"}},{type:"text",classList:["calendar-text"],attr:{value:"直播提醒"}}]},{type:"div",classList:["live-count-wrap"],children:[{type:"image",classList:["live-count-background"],attr:{src:"https://img.alicdn.com/tps/TB1GDmRKFXXXXXtapXXXXXXXXXX-60-60.png"}},{type:"image",classList:["live-status"],attr:{src:function(){return this.videoLiveIcon}}},{type:"text",shown:function(){return this.isShowTotalJoinCount},classList:["live-counts"],attr:{value:function(){return this.joinCountStr}}}]}]}]}}),define("@weex-component/module-video",function(e,t,i){i.exports={data:function(){return{width:0,height:0,maxVideoWidth:702,minVideoWidth:466,isShowImage:!1,isShowPlayer:!1,playIconLeftStyle:0,playIconTopStyle:0,playFlagLeftStyle:0,playFlagTopStyle:0,interactiveVideoId:0,videoId:0,videoPath:"",videoWidth:0,videoHeight:0,path:"",pageName:"",videoappear:!1,videodisappear:!1,tabimg:!1,index:-1,accountId:"",shopId:"",feedId:"",feedType:"",scm:"",feed:{}}},methods:{ready:function(t){var i=e("@weex-module/WeiTaoTimeLineModule");i&&i.isSupportVideoComponent&&(this.isShowPlayer=!0);var n=this;n.initFeed(n.feed.newTiles),n.account&&(n.accountId=n.account.id,n.shopId=n.account.shopId),n.feed&&(n.feedId=n.feed.id,n.feedType=n.feed.feedType,n.scm=n.feed.scm)},onappear:function(e){this.videoappear=!0,this.videodisappear=!1},ondisappear:function(e){this.videoappear=!1,this.videodisappear=!0},initFeed:function(e){var t=e||[];if(t.length){var i,n=this;for(n.width=0,n.height=0,i=0;i<e.length;i++)if("video"==e[i].type){n.isShowImage=!0,n.interactiveVideoId=e[i].interactiveVideoId,n.videoId=e[i].videoId,n.videoPath=e[i].videoPath;var o="?appKey=7588";e[i].videoAppKey&&(o="?appKey="+e[i].videoAppKey),n.videoPath?n.videoPath=n.videoPath+"@@ld.mp4"+o:n.videoPath="https://cloud.video.taobao.com/play/u/"+n.account.id+"/p/2/e/6/t/1/d/ld/"+n.videoId+".mp4"+o,n.setOneImageSize(e[i],function(t,o){n.width=t,n.height=o,n.path=e[i].path});break}}},onImageClick:function(t){var i=this,n={feed:i.feed,account:i.account},o=e("@weex-module/WeiTaoTimeLineModule");o&&o.isSupportVideoComponent?(this.tabimg=!0,this.tabimg=!1):o&&o.showVideoLayer?this.$call("WeiTaoTimeLineModule","showVideoLayer",{videoId:i.videoId,videoPath:i.videoPath,interactiveVideoId:i.interactiveVideoId,feedItem:n},function(e){}):i.goDetail("WeiTaoFeedContent")},setOneImageSize:function(e,t){var i,n,o=this,r=parseFloat(e.picWidth),a=parseFloat(e.picHeight);r/a>1.5?(i=o.maxVideoWidth,n=Math.round(o.maxVideoWidth*a/r)):(i=o.minVideoWidth,n=o.minVideoWidth),o.playIconLeftStyle=parseInt(i/2,10)-68,o.playIconTopStyle=parseInt(n/2,10)-68,o.playFlagLeftStyle=parseInt(i/2,10)-10,o.playFlagTopStyle=parseInt(n/2,10)-10,this.videoWidth=i,this.videoHeight=n,t(i,n)},goDetail:function(e){var t=this,i=t.feed.detailUrl,n={account_id:t.account.id,feed_id:t.feed.id,feed_type:t.feed.feedType,feed_Num:t.index+1};t.feed.scm&&(n.scm=t.feed.scm),t.$userTrack("click","",e,n),t.$openURL(i)}}},i.exports.style={"image-grid":{marginLeft:24,paddingRight:24,flexDirection:"column",width:702,paddingBottom:12},"grid-container":{display:"flex",flexDirection:"row",justifyContent:"flex-start",position:"relative"},"grid-item":{position:"relative",marginRight:6,resizeMode:"contain",background:"#000000"},"play-icon":{position:"absolute",width:136,height:136,left:162,top:172},"play-flag":{position:"absolute",width:0,height:0,left:170,top:170},"grid-item-image":{position:"absolute",left:0,top:0},"grid-item-video":{position:"absolute",left:0,top:0}},i.exports.template={type:"div",classList:["image-grid"],children:[{type:"div",classList:["grid-container"],children:[{type:"div",classList:["grid-item"],style:{width:function(){return this.width},height:function(){return this.height}},children:[{type:"image",classList:["grid-item-image"],events:{click:"onImageClick"},attr:{src:function(){return this.path}},style:{width:function(){return this.width},height:function(){return this.height}}},{type:"image",shown:function(){return this.isShowImage},classList:["play-icon"],events:{click:"onImageClick"},style:{left:function(){return this.playIconLeftStyle},top:function(){return this.playIconTopStyle}},attr:{src:"https://img.alicdn.com/tps/TB1k8LJOXXXXXXLXpXXXXXXXXXX-136-136.png"}},{type:"wtvideoplayer",shown:function(){return this.isShowPlayer},classList:["grid-item-video"],attr:{videoappear:function(){return this.videoappear},videodisappear:function(){return this.videodisappear},tabimg:function(){return this.tabimg},videopath:function(){return this.videoPath},videoid:function(){return this.videoId},accountid:function(){return this.accountId},shopid:function(){return this.shopId},feedid:function(){return this.feedId},feedtype:function(){return this.feedType},scm:function(){return this.scm},videoimg:function(){return this.path},interactivevideoid:function(){return this.interactiveVideoId},videowidth:function(){return this.videoWidth},videoheight:function(){return this.videoHeight},index:function(){return this.index}},events:{click:"onImageClick"}},{type:"div",shown:function(){return this.isShowPlayer},classList:["play-flag"],events:{appear:"onappear",disappear:"ondisappear"},style:{left:function(){return this.playFlagLeftStyle},top:function(){return this.playFlagTopStyle}}}]}]}]}}),define("@weex-component/module-grid",function(e,t,i){i.exports={data:function(){return{index:-1,feedIndex:-1,paddingBottom:12,minWidth:466,imageItemMarginBottom:6,gifuplineonappear:-1,gifdownlineonappear:-1,eggIndex:6,feed:{id:""},type:"",picPrePath:"",feedTileCount:0,imageCountFour:!1,oldTime:0,feedTiles:{defaultWidth:"230px",defaultHeight:"230px",rowOne:[{path:"",width:0,height:0,index:0,feedid:"",hasegg:!1,imgurl:""},{path:"",width:0,height:0,index:1,feedid:"",hasegg:!1,imgurl:""},{path:"",width:0,height:0,index:2,feedid:"",hasegg:!1,imgurl:""}],rowTwo:[{path:"",width:0,height:0,index:3,feedid:"",hasegg:!1,imgurl:""},{path:"",width:0,height:0,index:4,feedid:"",hasegg:!1,imgurl:""},{path:"",width:0,height:0,index:5,feedid:"",hasegg:!1,imgurl:""}],rowThree:[{path:"",width:0,height:0,index:6,feedid:"",hasegg:!1,imgurl:""},{path:"",width:0,height:0,index:7,feedid:"",hasegg:!1,imgurl:""},{path:"",hasMore:!1,hasMoreValue:0,width:0,height:0,index:8,feedid:"",hasegg:!1,imgurl:""}]}}},methods:{ready:function(e){var t=this;t.feedIndex=t.index,t.oldTime=0,t.eggIndex=t.feed.fairyIndex,t.initFeed(t.feed.newTiles);
},initFeed:function(e){var t=e||[];if(t.length){var i=this;i.feedTileCount=e.length<9||!i.feed.totalTilesCount?e.length:i.feed.totalTilesCount;var n,o=i.feedTiles;for(i.imageItemMarginBottom=6,i.paddingBottom=12,i.feedTiles.rowThree[2].hasMore=!1,i.feedTiles.rowThree[2].hasMoreValue=0,n=0;n<o.rowOne.length;n++)i.feedTiles.rowOne[n].width=0,i.feedTiles.rowOne[n].height=0;for(n=0;n<o.rowTwo.length;n++)i.feedTiles.rowTwo[n].width=0,i.feedTiles.rowTwo[n].height=0;for(n=0;n<o.rowThree.length;n++)i.feedTiles.rowThree[n].width=0,i.feedTiles.rowThree[n].height=0;1===i.feedTileCount?i.setOneImageSize(e[0],function(t,n){i.feedTiles.rowOne[0].width=t,i.feedTiles.rowOne[0].height=n,i.feedTiles.rowOne[0].path=e[0].path}):4===i.feedTileCount?(i.width=i.minWidth,i.feedTiles.rowOne[0].path=e[0].path+"_320x320.jpg",i.feedTiles.rowOne[1].path=e[1].path+"_320x320.jpg",i.feedTiles.rowTwo[0].path=e[2].path+"_320x320.jpg",i.feedTiles.rowTwo[1].path=e[3].path+"_320x320.jpg",i.feedTiles.rowTwo[0].index=2,i.feedTiles.rowTwo[1].index=3,i.feedTiles.rowOne[0].width=i.feedTiles.rowOne[1].width=i.feedTiles.rowTwo[0].width=i.feedTiles.rowTwo[1].width=i.feedTiles.defaultWidth,i.feedTiles.rowOne[0].height=i.feedTiles.rowOne[1].height=i.feedTiles.rowTwo[0].height=i.feedTiles.rowTwo[1].height=i.feedTiles.defaultHeight,i.feedTiles.rowOne[0].flex=i.feedTiles.rowOne[1].flex=i.feedTiles.rowTwo[0].flex=i.feedTiles.rowTwo[1].flex=1,i.paddingBottom=12):(i.feedTiles.rowTwo[0].index=3,i.feedTiles.rowTwo[1].index=4,i.initFeedMoreImage(i.feedTileCount,e),i.feedTileCount>6&&(i.paddingBottom=18))}},initFeedMoreImage:function(e,t){var i=this,n=0,o=e>9?9:e;for(e%2===0&&(i.width=i.minWidth);o>n;n++)3>n?(i.feedTiles.rowOne[n].path=t[n].path+"_320x320.jpg",i.feedTiles.rowOne[n].width=i.feedTiles.defaultWidth,i.feedTiles.rowOne[n].height=i.feedTiles.defaultHeight,i.feedTiles.rowOne[n].flex=1):6>n?(i.feedTiles.rowTwo[n%3].path=t[n].path+"_320x320.jpg",i.feedTiles.rowTwo[n%3].width=i.feedTiles.defaultWidth,i.feedTiles.rowTwo[n%3].height=i.feedTiles.defaultHeight,i.feedTiles.rowTwo[n%3].flex=1):(e>9&&8===n&&(i.feedTiles.rowThree[n%3].hasMore=!0,i.feedTiles.rowThree[n%3].hasMoreValue=e-8),i.feedTiles.rowThree[n%3].path=t[n].path+"_320x320.jpg",i.feedTiles.rowThree[n%3].width=i.feedTiles.defaultWidth,i.feedTiles.rowThree[n%3].height=i.feedTiles.defaultHeight,i.feedTiles.rowThree[n%3].flex=1);if(e>=9){var r=parseInt(i.eggIndex,10);r-=1,r>=0&&3>r?(i.feedTiles.rowOne[r].hasegg=!0,i.feedTiles.rowOne[r].imgurl=t[r].innerFeedTiles[0].fairyGifUrl,i.feedTiles.rowOne[r].feedid=i.feed.id):r>=0&&6>r?(i.feedTiles.rowTwo[r%3].hasegg=!0,i.feedTiles.rowTwo[r%3].imgurl=t[r].innerFeedTiles[0].fairyGifUrl,i.feedTiles.rowTwo[r%3].feedid=i.feed.id):r>=6&&(i.feedTiles.rowThree[r%3].hasegg=!0,i.feedTiles.rowThree[r%3].imgurl=t[r].innerFeedTiles[0].fairyGifUrl,i.feedTiles.rowThree[r%3].feedid=i.feed.id)}},onImageClick:function(e){var t=this;t.isVideo||t.isLiveVideo?t.goDetail("WeiTaoFeedContent"):t.feedTileCount>9&&8===e.target.attr.index?t.goDetail("WeiTaoFeedMore"):t.showBigImg(e)},showBigImg:function(t){var i=new Date,n=i.getTime();if(!(n-this.oldTime<500)){this.oldTime=n;var o=this,r=t.target.attr.index,a={feed:o.feed,account:o.account,share:o.share},d="WeiTaoFeedPic",s={account_id:o.account.id,feed_id:o.feed.id,feed_type:o.feed.feedType,feed_Num:o.feedIndex+1};o.feed.scm&&(s.scm=o.feed.scm),o.$userTrack("click","",d,s);var c=e("@weex-module/WeiTaoTimeLineModule");c&&c.newShowBigImage?o._app.callTasks([{module:"WeiTaoTimeLineModule",method:"newShowBigImage",args:[{feedId:o.feed.id,accountId:o.account.id,dataIndex:o.feedIndex,index:r,feedItem:a,position:t.position,imgurl:o.feed.newTiles[r].path+"_320x320.jpg"},t.target]}]):o._app.callTasks([{module:"WeiTaoTimeLineModule",method:"showBigImg",args:[{feedId:o.feed.id,accountId:o.account.id,dataIndex:o.feedIndex,index:r,feedItem:a,position:t.position}]}])}},onGifImageClick:function(e){var t=this;"cover"===t.type||t.isVideo||t.isLiveVideo||1===t.feedTileCount?t.goDetail("WeiTaoFeedContent"):t.feedTileCount>9&&8===e.target.attr.index?t.goDetail("WeiTaoFeedMore"):t.showGifImg(e)},showGifImg:function(t){var i=this,n=t.target.attr.index,o={feed:i.feed,account:i.account,share:i.share},r="WeiTaoFeedPic",a={account_id:i.account.id,feed_id:i.feed.id,feed_type:i.feed.feedType,feed_Num:i.feedIndex+1};i.feed.scm&&(a.scm=i.feed.scm),i.$userTrack("click","",r,a);var d=e("@weex-module/WeiTaoTimeLineModule");if(d&&d.newshowGIFImage)i._app.callTasks([{module:"WeiTaoTimeLineModule",method:"newshowGIFImage",args:[{feedId:i.feed.id,accountId:i.account.id,dataIndex:i.feedIndex,index:n,feedItem:o,position:t.position,imgurl:i.feed.newTiles[n].path+"_320x320.jpg"},t.target]}]);else if(d&&d.showGIFImage){if(d&&d.newShowBigImage){var s=JSON.stringify(i.feed),c=JSON.parse(s);c.detailUrl="",c.newTiles=[{itemId:527797863321,picDesc:"",picHeight:800,price:199,picWidth:800,text:"hahahahahahaha",path:"//gw3.alicdn.com/tfscom/tuitui/i2/TB1gaaDLFXXXXazXpXXXXXXXXXX_!!0-item_pic.jpg",inSummaryFold:!1,type:"item"},{itemId:527797863321,picDesc:"",picHeight:800,price:199,picWidth:800,text:"hahahahahahaha",path:"//gw3.alicdn.com/tfscom/tuitui/i2/TB1gaaDLFXXXXazXpXXXXXXXXXX_!!0-item_pic.jpg",inSummaryFold:!1,type:"item"},{itemId:527797863321,picDesc:"",picHeight:800,price:199,picWidth:800,text:"hahahahahahaha",path:"//gw3.alicdn.com/tfscom/tuitui/i2/TB1gaaDLFXXXXazXpXXXXXXXXXX_!!0-item_pic.jpg",inSummaryFold:!1,type:"item"},{itemId:527797863321,picDesc:"",picHeight:800,price:199,picWidth:800,text:"hahahahahahaha",path:"//gw3.alicdn.com/tfscom/tuitui/i2/TB1gaaDLFXXXXazXpXXXXXXXXXX_!!0-item_pic.jpg",inSummaryFold:!1,type:"item"},{itemId:527797863321,picDesc:"",picHeight:800,price:199,picWidth:800,text:"hahahahahahaha",path:"//gw3.alicdn.com/tfscom/tuitui/i2/TB1gaaDLFXXXXazXpXXXXXXXXXX_!!0-item_pic.jpg",inSummaryFold:!1,type:"item"},{itemId:527797863321,picDesc:"",picHeight:800,price:199,picWidth:800,text:"hahahahahahaha",path:"//gw3.alicdn.com/tfscom/tuitui/i2/TB1gaaDLFXXXXazXpXXXXXXXXXX_!!0-item_pic.jpg",inSummaryFold:!1,type:"item"},{itemId:527797863321,picDesc:"",picHeight:800,price:199,picWidth:800,text:"hahahahahahaha",path:"//gw3.alicdn.com/tfscom/tuitui/i2/TB1gaaDLFXXXXazXpXXXXXXXXXX_!!0-item_pic.jpg",inSummaryFold:!1,type:"item"},{itemId:527797863321,picDesc:"",picHeight:800,price:199,picWidth:800,text:"hahahahahahaha",path:"//gw3.alicdn.com/tfscom/tuitui/i2/TB1gaaDLFXXXXazXpXXXXXXXXXX_!!0-item_pic.jpg",inSummaryFold:!1,type:"item"},{itemId:527797863321,picDesc:"",picHeight:800,price:199,picWidth:800,text:"hahahahahahaha",path:"//gw3.alicdn.com/tfscom/tuitui/i2/TB1gaaDLFXXXXazXpXXXXXXXXXX_!!0-item_pic.jpg",inSummaryFold:!1,type:"item"},{itemId:527797863321,picDesc:"",picHeight:800,price:199,picWidth:800,text:"hahahahahahaha",path:"//gw3.alicdn.com/tfscom/tuitui/i2/TB1gaaDLFXXXXazXpXXXXXXXXXX_!!0-item_pic.jpg",inSummaryFold:!1,type:"item"}];var f={feed:c,account:i.account,share:i.share};i._app.callTasks([{module:"WeiTaoTimeLineModule",method:"newShowBigImage",args:[{index:8,imgurl:i.feed.newTiles[n].path+"_320x320.jpg",feedItem:f},""]}])}i._app.callTasks([{module:"WeiTaoTimeLineModule",method:"showGIFImage",args:[{feedId:i.feed.id,accountId:i.account.id,dataIndex:i.feedIndex,index:n,feedItem:o,position:t.position}]}])}},onupappear:function(e){this.gifuplineonappear=1},ondownappear:function(e){this.gifdownlineonappear=1},onupdisappear:function(e){this.gifuplineonappear=0},ondowndisappear:function(e){this.gifdownlineonappear=0},setOneImageSize:function(e,t){var i,n,o=this,r=parseFloat(e.picWidth),a=parseFloat(e.picHeight),d=o.minWidth,s=o.minWidth;r>a&&r>d?(i=d,n=Math.round(d*a/r)):a>r&&a>s?(n=s,i=Math.round(r*s/a)):r===a&&r>d?(n=s,i=d):(n=r,i=r),t(i,n)},goDetail:function(e){var t=this,i=t.feed.detailUrl,n={account_id:t.account.id,feed_id:t.feed.id,feed_type:t.feed.feedType,feed_Num:t.feedIndex+1};t.feed.scm&&(n.scm=t.feed.scm),t.$userTrack("click","",e,n),t.$openURL(i)}}},i.exports.style={"image-grid":{flexDirection:"column",width:702,marginLeft:24},"grid-container":{display:"flex",flexDirection:"row",justifyContent:"flex-start",position:"relative"},"grid-item":{position:"relative",marginRight:6,resizeMode:"contain"},"grid-image-more":{position:"absolute",flexDirection:"column",justifyContent:"center",left:0,top:0,width:230,height:230,backgroundColor:"rgba(0,0,0,0.2)"},"grid-image-egg":{position:"absolute",left:0,top:0,width:230,height:230,backgroundColor:"rgba(0,0,0,0.42)"},"grid-image-more-num":{width:230,fontSize:36,textAlign:"center",position:"relative",color:"#ffffff",marginBottom:4},"grid-image-more-txt":{width:230,fontSize:32,textAlign:"center",position:"relative",color:"#ffffff"},"icon-video":{position:"absolute",width:120,height:120,left:170,top:170},"icon-video-live":{position:"absolute",width:94,height:36,right:20,top:20},"live-wrap":{backgroundColor:"#f6f6f6",marginBottom:8,padding:24,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},"live-status-wrap":{flexDirection:"column"},"live-count-wrap":{flexDirection:"row"},"live-title":{color:"#192e3a",fontSize:32,marginBottom:18},"live-status":{color:"#9d9d9d",fontSize:24},"live-btn":{paddingLeft:18,paddingRight:18,paddingTop:12,paddingBottom:10,flexDirection:"row",alignItems:"center",justifyContent:"center",color:"#ff5000",textAlign:"center",borderRadius:6,borderStyle:"solid",borderWidth:2,borderColor:"#ff5000",fontSize:24},"eggup-flag":{position:"absolute",width:320,height:0,left:0,top:20},"eggdown-flag":{position:"absolute",width:320,height:0,left:0,bottom:20},"mask-layer":{position:"absolute",left:0,top:0,backgroundColor:"rgba(0,0,0,0.02)"}},i.exports.template={type:"div",children:[{type:"div",classList:["image-grid"],style:{paddingBottom:function(){return this.paddingBottom}},children:[{type:"div",classList:["grid-container"],children:[{type:"div",classList:["eggup-flag"],events:{appear:"onupappear",disappear:"onupdisappear"}},{type:"div",repeat:function(){return this.feedTiles.rowOne},classList:["grid-item"],events:{click:"onImageClick"},attr:{index:function(){return this.index}},style:{width:function(){return this.width},height:function(){return this.height},marginBottom:function(){return this.imageItemMarginBottom}},children:[{type:"image",classList:["grid-item-image"],attr:{resize:"cover",src:function(){return this.path}},style:{width:function(){return this.width},height:function(){return this.height}}},{type:"div",classList:["mask-layer"],style:{width:function(){return this.width},height:function(){return this.height}}},{type:"wtgifplayer",shown:function(){return this.hasegg},classList:["grid-image-egg"],events:{click:"onGifImageClick"},attr:{index:function(){return this.index},gifuplineonappear:function(){return this.gifuplineonappear},gifdownlineonappear:function(){return this.gifdownlineonappear},feedid:function(){return this.feedid},imgurl:function(){return this.imgurl}}}]}]},{type:"div",classList:["grid-container"],children:[{type:"div",repeat:function(){return this.feedTiles.rowTwo},classList:["grid-item"],events:{click:"onImageClick"},attr:{index:function(){return this.index}},style:{width:function(){return this.width},height:function(){return this.height},marginBottom:function(){return this.imageItemMarginBottom}},children:[{type:"image",classList:["grid-item-image"],attr:{resize:"cover",src:function(){return this.path}},style:{width:function(){return this.width},height:function(){return this.height}}},{type:"div",classList:["mask-layer"],style:{width:function(){return this.width},height:function(){return this.height}}},{type:"wtgifplayer",shown:function(){return this.hasegg},classList:["grid-image-egg"],events:{click:"onGifImageClick"},attr:{index:function(){return this.index},gifuplineonappear:function(){return this.gifuplineonappear},gifdownlineonappear:function(){return this.gifdownlineonappear},feedid:function(){return this.feedid},imgurl:function(){return this.imgurl}}}]}]},{type:"div",classList:["grid-container"],children:[{type:"div",classList:["eggdown-flag"],events:{appear:"ondownappear",disappear:"ondowndisappear"}},{type:"div",repeat:function(){return this.feedTiles.rowThree},classList:["grid-item"],events:{click:"onImageClick"},attr:{index:function(){return this.index}},style:{width:function(){return this.width},height:function(){return this.height},marginBottom:function(){return this.imageItemMarginBottom}},children:[{type:"image",classList:["grid-item-image"],attr:{resize:"cover",src:function(){return this.path}},style:{width:function(){return this.width},height:function(){return this.height}}},{type:"div",shown:function(){return!this.hasMore},classList:["mask-layer"],style:{width:function(){return this.width},height:function(){return this.height}}},{type:"div",shown:function(){return this.hasMore},classList:["grid-image-more"],children:[{type:"text",classList:["grid-image-more-num"],attr:{value:function(){return"+"+this.hasMoreValue}}},{type:"text",classList:["grid-image-more-txt"],attr:{value:"查看更多"}}]},{type:"wtgifplayer",shown:function(){return this.hasegg},classList:["grid-image-egg"],events:{click:"onGifImageClick"},attr:{index:function(){return this.index},gifuplineonappear:function(){return this.gifuplineonappear},gifdownlineonappear:function(){return this.gifdownlineonappear},feedid:function(){return this.feedid},imgurl:function(){return this.imgurl}}}]}]}]}]}}),define("@weex-component/module-cover",function(e,t,i){i.exports={data:function(){return{width:0,height:0,maxVideoWidth:702,minVideoWidth:466,videoIconLeftStyle:0,videoIconTopStyle:0,oldTime:0,path:"",feed:{}}},methods:{ready:function(e){var t=this;t.initFeed(t.feed.newTiles)},initFeed:function(e){var t=e||[];if(t.length){var i=this;i.width=0,i.height=0,i.setOneImageSize(e[0],function(t,n){i.width=t,i.height=n,i.path=e[0].path})}},onImageClick:function(e){var t=this;t.showBigImg(e)},setOneImageSize:function(e,t){var i,n,o=this,r=parseFloat(e.picWidth),a=parseFloat(e.picHeight);r/a>1.5?(i=o.minVideoWidth,n=Math.round(o.minVideoWidth*a/r)):(i=o.minVideoWidth,n=o.minVideoWidth),o.videoIconLeftStyle=parseInt(i/2,10)-60,o.videoIconTopStyle=parseInt(n/2,10)-60,t(i,n)},goDetail:function(e){var t=this,i=t.feed.detailUrl,n={account_id:t.account.id,feed_id:t.feed.id,feed_type:t.feed.feedType,feed_Num:t.index+1};t.feed.scm&&(n.scm=t.feed.scm),t.$userTrack("click","",e,n),t.$openURL(i)},showBigImg:function(t){var i=new Date,n=i.getTime();if(!(n-this.oldTime<500)){this.oldTime=n;var o=this,r=t.target.attr.index,a={feed:o.feed,account:o.account,share:o.share},d="WeiTaoFeedPic",s={account_id:o.account.id,feed_id:o.feed.id,feed_type:o.feed.feedType,feed_Num:o.index+1};o.feed.scm&&(s.scm=o.feed.scm),o.$userTrack("click","",d,s);var c=e("@weex-module/WeiTaoTimeLineModule");c&&c.newShowBigImage?o._app.callTasks([{module:"WeiTaoTimeLineModule",method:"newShowBigImage",args:[{feedId:o.feed.id,accountId:o.account.id,dataIndex:o.index,index:r,feedItem:a,position:t.position,imgurl:o.feed.newTiles[0].path},t.target]}]):o._app.callTasks([{module:"WeiTaoTimeLineModule",method:"showBigImg",args:[{feedId:o.feed.id,accountId:o.account.id,dataIndex:o.index,index:r,feedItem:a,position:t.position}]}])}}}},i.exports.style={"image-grid":{marginLeft:24,paddingRight:24,flexDirection:"column",width:702,paddingBottom:18},"grid-container":{display:"flex",flexDirection:"row",justifyContent:"flex-start",position:"relative"},"grid-item":{position:"relative",marginRight:6,resizeMode:"contain"},"mask-layer":{position:"absolute",left:0,top:0,backgroundColor:"rgba(0,0,0,0.02)"}},i.exports.template={type:"div",classList:["image-grid"],children:[{type:"div",classList:["grid-container"],children:[{type:"div",classList:["grid-item"],events:{click:"onImageClick"},style:{width:function(){return this.width},height:function(){return this.height}},children:[{type:"image",classList:["grid-item-image"],attr:{src:function(){return this.path}},style:{width:function(){return this.width},height:function(){return this.height}}},{type:"div",classList:["mask-layer"],style:{width:function(){return this.width},height:function(){return this.height}}}]}]}]}}),define("@weex-component/module-text",function(e,t,i){i.exports={data:function(){return{richTextInfos:[],titles:"",defaultUrl:"",isShowTxt:!1,mocRichtext:!1,utParams:{},feed:{title:"",richTextInfos:[],oceanRichTextInfo:{oceanRichTexts:[]}}}},methods:{ready:function(t){var i=this,n=e("@weex-module/WeiTaoTimeLineModule");n&&n.isSupportNewRichText&&i.feed&&i.feed.oceanRichTextInfo&&i.feed.oceanRichTextInfo.oceanRichTexts?(i.mocRichtext=!0,i.initMoc()):(i.mocRichtext=!1,i.init())},init:function(){var e=this,t=e.feed.richTextInfos||[],i={account_id:e.account.id,feed_id:e.feed.id,feed_type:e.feed.feedType,feed_Num:e.index+1};if(e.feed.scm&&(i.scm=e.feed.scm),!e.feed.title)return e.richTextInfos=[],e.titles="",void(e.isShowTxt=!1);if(e.defaultUrl=e.feed.detailUrl,e.utParams=i,t&&t.length>0){for(var n=0;n<t.length;n++)t[n].utParams=i;e.titles=e.feed.title,e.richTextInfos=t}else e.titles=e.feed.title,e.richTextInfos=[];e.isShowTxt=!0},initMoc:function(){var e=this,t=[];if(e.feed&&e.feed.oceanRichTextInfo&&e.feed.oceanRichTextInfo.oceanRichTexts&&(t=e.feed.oceanRichTextInfo.oceanRichTexts),0==t.length)return void(e.isShowTxt=!1);if(e.defaultUrl=e.feed.targetUrl,t&&t.length>0){for(var i=0;i<t.length;i++){var n={account_id:e.account.id,feed_id:e.feed.id,feed_type:e.feed.feedType,feed_Num:e.index+1};e.feed.scm&&(n.scm=e.feed.scm),t[i].tagType&&(n.tag_type=t[i].tagType),t[i].utClick={name:"WeiTaoFeedTag",args:n},"text"!=t[i].type||t[i].fontSize||(t[i].fontSize="16"),"text"!=t[i].type||t[i].color||(t[i].color="#444444")}e.richTextInfos=t}else e.richTextInfos=[];e.isShowTxt=!0}}},i.exports.style={"main-summary":{marginLeft:24,marginRight:24,width:702,fontSize:32,color:"#444444",marginBottom:24}},i.exports.template={type:"div",children:[{type:"wtrichtext",shown:function(){return this.isShowTxt&&!this.mocRichtext},classList:["main-summary"],attr:{defaulturl:function(){return this.defaultUrl},utparams:function(){return this.utParams},richtextinfos:function(){return this.richTextInfos},value:function(){return this.titles}}},{type:"mocrichtext",shown:function(){return this.isShowTxt&&this.mocRichtext},attr:{fontsize:"32",defaulturl:function(){return this.defaultUrl},richtextinfos:function(){return this.richTextInfos},rowmax:"0",linespacing:"6",picpadding:"3",pictop:"0"},style:{marginLeft:24,marginTop:0},classList:["main-summary"]}]}}),define("@weex-component/module-live-top",function(e,t,i){i.exports={data:function(){return{arrowPath:"",iconPath:"",iconWidth:0,iconHeight:0,text:"",avatas:[]}},methods:{ready:function(e){if(this.butterfly&&this.butterfly.iconPath&&(this.iconPath=this.butterfly.iconPath,this.iconWidth=this.butterfly.iconWidth,this.iconHeight=this.butterfly.iconHeight),this.path="https://img.alicdn.com/tps/TB1Gfp4LpXXXXc9XXXXXXXXXXXX-90-48.png",this.text=this.butterfly.title,this.arrowPath="https://img.alicdn.com/tps/TB1yUxALpXXXXc_aXXXXXXXXXXX-16-24.png",this.subfeeds&&this.subfeeds.length>0)for(var t=0;t<this.subfeeds.length;t++)this.subfeeds[t].account&&this.subfeeds[t].account.logoUrl&&this.avatas.push({path:this.subfeeds[t].account.logoUrl+"_120x120xz.jpg"})},onClick:function(e){var t=this,i="WeiTaoFeedContent";t.$userTrack("click","",i,{}),this.butterfly&&this.butterfly.targetUrl&&this.$openURL(this.butterfly.targetUrl)}}},i.exports.style={"live-top":{flexDirection:"row",height:88,justifyContent:"space-between",alignItems:"center"},left:{flexDirection:"row",alignItems:"center"},icon:{marginLeft:24},txt:{lines:1,fontSize:28,color:"#5F646E",maxWidth:400,textOverflow:"ellipsis",marginLeft:24},right:{position:"relative",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},avata:{width:60,height:60,marginRight:18,borderRadius:4},arrow:{width:16,height:24,marginRight:18}},i.exports.template={type:"div",classList:["live-top"],events:{click:"onClick"},children:[{type:"div",classList:["left"],children:[{type:"image",classList:["icon"],attr:{src:function(){return this.iconPath}},style:{width:function(){return this.iconWidth+"px"},height:function(){return this.iconHeight+"px"}}},{type:"text",classList:["txt"],attr:{value:function(){return this.text}}}]},{type:"div",classList:["right"],children:[{type:"image",repeat:function(){return this.avatas},classList:["avata"],attr:{src:function(){return this.path}}},{type:"image",classList:["arrow"],attr:{src:function(){return this.arrowPath}}}]}]}}),define("@weex-component/module-recommend",function(e,t,i){i.exports={data:function(){return{changePath:"",path:"",text:"",showChange:!0,pageIndex:0,items:[{},{},{},{}]}},methods:{ready:function(e){this.path="https://img.alicdn.com/tps/TB1Gfp4LpXXXXc9XXXXXXXXXXXX-90-48.png",this.text=this.butterfly.title,this.changePath="https://img.alicdn.com/tps/TB1n481LpXXXXXzaXXXXXXXXXXX-28-28.png",this.setPage(this.pageIndex)},setPage:function(e){if(4*e>this.subfeeds.length)return void(this.showChange=!1);for(var t=[],i=0;4>i;i++){var n=i+4*e;t[i]=this.subfeeds[n],t[i].index=n}this.items=t,this.subfeeds.length-4*(e+1)<4&&(this.showChange=!1)},onChange:function(e){var t=this,i="RMDACTChange",n={feed_Num:t.index+1};t.feed&&(t.feed.id&&(n.feed_id=t.feed.id),t.feed.feedType&&(n.feed_type=t.feed.feedType),t.feed.scm&&(n.scm=t.feed.scm)),t.account&&t.account.id&&(n.account_id=t.account.id),this.$userTrack("click","",i,n),this.pageIndex++,this.setPage(this.pageIndex)},onItem:function(e){var t=this,i=e.target.attr.index;if(i<this.subfeeds.length){var n="RMDACTEnter",o={feed_Num:t.index+1,account_id:this.subfeeds[i].account.id};t.feed&&(t.feed.id&&(o.feed_id=t.feed.id),t.feed.feedType&&(o.feed_type=t.feed.feedType),t.feed.scm&&(o.scm=t.feed.scm)),this.$userTrack("click","",n,o),this.$openURL(this.subfeeds[i].account.redirectTargetUrl)}},onMore:function(e){var t=this,i="RMDACTMore",n={feed_Num:t.index+1};t.feed&&(t.feed.id&&(n.feed_id=t.feed.id),t.feed.feedType&&(n.feed_type=t.feed.feedType),t.feed.scm&&(n.scm=t.feed.scm)),t.account&&t.account.id&&(n.account_id=t.account.id),this.$userTrack("click","",i,n),this.butterfly&&this.butterfly.targetUrl&&this.$openURL(this.butterfly.targetUrl)}}},i.exports.style={recommend:{flexDirection:"column"},top:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:60,width:750},txt:{lines:1,fontSize:28,color:"#999999",maxWidth:400,textOverflow:"ellipsis",marginLeft:24},change:{flexDirection:"row",alignItems:"center"},"change-icon":{width:28,height:28},"change-txt":{lines:1,fontSize:24,color:"#999999",maxWidth:400,textOverflow:"ellipsis",marginLeft:12,marginRight:24},item:{flexDirection:"column"},"item-body":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},"item-body-left":{flexDirection:"row",alignItems:"center"},avata:{width:96,height:96,margin:24},"avatar-shadow":{position:"absolute",left:20,top:20,width:104,height:104},infos:{flexDirection:"column"},nick:{lines:1,fontSize:28,color:"#3E3E3E",maxWidth:400,textOverflow:"ellipsis",marginBottom:8,fontWeight:"bold"},desc:{lines:1,fontSize:24,color:"#5F646E",maxWidth:400,textOverflow:"ellipsis",marginBottom:8},"funs-num":{lines:1,fontSize:20,color:"#999999",maxWidth:400,textOverflow:"ellipsis"},line:{width:750,height:1,backgroundColor:"#e7e7e7"},"more-wrap":{flexDirection:"column",alignItems:"center",justifyContent:"center"},more:{width:236,height:48,marginTop:40,marginBottom:40,borderRadius:6,borderStyle:"solid",borderWidth:1,borderColor:"#FF5000",alignItems:"center",justifyContent:"center"},"more-txt":{lines:1,fontSize:24,color:"#FF5000"}},i.exports.template={type:"div",classList:["recommend"],children:[{type:"div",classList:["top"],children:[{type:"text",classList:["txt"],attr:{value:function(){return this.text}}},{type:"div",shown:function(){return this.showChange},classList:["change"],events:{click:"onChange"},children:[{type:"image",classList:["change-icon"],attr:{src:function(){return this.changePath}}},{type:"text",classList:["change-txt"],attr:{value:"换一批"}}]}]},{type:"div",classList:["line"],style:{marginLeft:0}},{type:"div",repeat:function(){return this.items},classList:["item"],attr:{index:function(){return this.index}},events:{click:"onItem"},children:[{type:"div",classList:["item-body"],children:[{type:"div",classList:["item-body-left"],children:[{type:"image",classList:["avatar-shadow"],attr:{src:"//img.alicdn.com/tps/TB1.oPXMVXXXXanaFXXXXXXXXXX-104-104.png"}},{type:"image",classList:["avata"],attr:{src:function(){return this.account.logoUrl}}},{type:"div",classList:["infos"],children:[{type:"text",classList:["nick"],attr:{value:function(){return this.account.accountNick}}},{type:"text",classList:["desc"],attr:{value:function(){return this.account.reason}}},{type:"text",classList:["funs-num"],attr:{value:function(){return"粉丝数："+this.account.fansCountString}}}]}]},{type:"follow",attr:{feed:function(){return this.feed},account:function(){return this.account},share:function(){return this.share},index:function(){return this.index},pagename:function(){return this.pagename},followut:"RMDACTFollow",unfollowut:"RMDACTFollow"}}]},{type:"div",classList:["line"],style:{marginLeft:24}}]},{type:"div",classList:["more-wrap"],children:[{type:"div",classList:["more"],events:{click:"onMore"},children:[{type:"text",classList:["more-txt"],attr:{value:"查看更多优质账号"}}]}]}]}}),define("@weex-component/module-zero",function(e,t,i){i.exports={data:function(){return{path:"",text:""}},methods:{ready:function(e){this.path="https://g01.alibaba-inc.com/tfscom/TB1khJeLpXXXXaqXpXXXXXXXXXX.tfsprivate.png",this.text="亲，您没有关注任何账号，关注你感兴趣的账号，就能在微淘看他们的动态啦~"}}},i.exports.style={zero:{flexDirection:"column"},icon:{width:320,height:320,marginLeft:215,marginTop:62},txt:{fontSize:32,color:"#5F646E",marginTop:50,marginBottom:60,marginLeft:60,marginRight:60}},i.exports.template={type:"div",classList:["zero"],children:[{type:"image",classList:["icon"],attr:{src:function(){return this.path}}},{type:"wtrichtext",classList:["txt"],attr:{value:function(){return this.text}}}]}}),define("@weex-component/line",function(e,t,i){i.exports.style={spacing:{width:750,height:20,backgroundColor:"#f4f4f4"},line:{width:750,marginLeft:0,height:1,backgroundColor:"#f4f4f4"},"line-shade":{width:750,marginLeft:0,height:1,backgroundColor:"#ebebeb"}},i.exports.template={type:"div",children:[{type:"div",classList:["spacing"]}]}}),define("@weex-component/module-link",function(e,t,i){i.exports={data:function(){return{butterfly:{title:"",targetUrl:""}}},methods:{ready:function(e){var t=this;t.text=t.butterfly.title,t.href=t.butterfly.targetUrl},goHref:function(){var e=this,t=e.href;e.$openURL(t)}}},i.exports.style={link:{width:726,backgroundColor:"#ffffff",paddingLeft:24,height:88,flexDirection:"row",display:"flex",justifyContent:"space-between",alignItems:"center"},"link-text":{fontSize:30,color:"#182d39"},"link-arrow":{width:20,height:32}},i.exports.template={type:"div",children:[{type:"div",classList:["link"],events:{click:"goHref"},children:[{type:"text",classList:["link-text"],attr:{value:function(){return this.text}}},{type:"image",classList:["link-arrow"],attr:{src:"https://gw.alicdn.com/mt/TB1aY0WLVXXXXcnXXXXXXXXXXXX-19-32.png"}}]},{type:"line"}]}}),define("@weex-component/module-tag",function(e,t,i){i.exports={data:function(){return{butterfly:{title:""}}},methods:{ready:function(e){}}},i.exports.style={tag:{width:750,paddingTop:22,paddingBottom:22,flexDirection:"row",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f4f4f4"},"tag-text":{paddingRight:30,paddingLeft:30,paddingTop:6,paddingBottom:6,borderRadius:18,borderStyle:"solid",backgroundColor:"#b4b4b4",borderColor:"#b4b4b4",color:"#ffffff",fontSize:20}},i.exports.template={type:"div",classList:["tag"],children:[{type:"text",classList:["tag-text"],attr:{value:function(){return this.butterfly.title}}}]}}),define("@weex-component/follow",function(e,t,i){i.exports={data:function(){return{followed:!1,stateText:"",stateColor:"",borderColor:"",followFontSize:20,iconPath:"",iconWidth:0,iconHeight:0,followut:"WeiTaoFeedAttention",unfollowut:"WeiTaoFeedCancelAttention",feed:{id:""},account:{id:""}}},methods:{ready:function(e){var t=this;t.followed="true"===t.account.followed,t.updateState()},updateState:function(){var e=this;e.followed?(e.iconWidth=24,e.iconHeight=24,e.stateColor="#999999",e.borderColor="#ffffff",e.stateText="已关注",e.followFontSize=24,e.iconPath="//img.alicdn.com/tps/TB1DUPXKVXXXXaOXVXXXXXXXXXX-24-24.png"):(e.iconWidth=32,e.iconHeight=32,e.followFontSize=24,e.stateText="关注",e.account.followedButtonColor?(e.stateColor=e.account.followedButtonColor,e.borderColor=e.account.followedButtonColor,e.iconPath="//img.alicdn.com/tps/TB1BadZMpXXXXa5XpXXXXXXXXXX-32-32.png"):(e.stateColor="#999999",e.borderColor="#c0c0c0",e.iconPath="//img.alicdn.com/tps/TB10XHYLXXXXXb1XFXXXXXXXXXX-32-32.png"))},goFollow:function(t){var i=this,n={feed:i.feed,account:i.account},o={feed_Num:i.index+1};if(i.feed&&(i.feed.id&&(o.feed_id=i.feed.id),i.feed.feedType&&(o.feed_type=i.feed.feedType),i.feed.scm&&(o.scm=i.feed.scm)),i.account&&i.account.id&&(o.account_id=i.account.id),i.followed){var r=e("@weex-module/WeiTaoTimeLineModule");r&&r.removeFollow?i._app.callTasks([{module:"WeiTaoTimeLineModule",method:"removeFollow",args:[{feedItem:n,pagename:i.pagename}]}]):i.$sendMtop({api:"mtop.cybertron.follow.remove",v:"2.0",needLogin:!0,ecode:1,requestType:"mtop",param:{pubAccountId:i.account.id,accountType:i.account.accountType}},function(e){}),i.$userTrack("click","",i.unfollowut,o)}else i._app.callTasks([{module:"WeiTaoTimeLineModule",method:"follow",args:[{feedItem:n,pagename:i.pagename}]}]),i.$userTrack("click","",i.followut,o);i.followed=!i.followed,i.updateState()}}},i.exports.style={follow:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",backgroundColor:"#ffffff",borderRadius:100,borderStyle:"solid",borderWidth:2,marginRight:24,width:120,height:48},"follow-icon":{marginRight:12}},i.exports.template={type:"div",classList:["follow"],style:{borderColor:function(){return this.borderColor}},events:{click:"goFollow"},children:[{type:"image",classList:["follow-icon"],style:{width:function(){return this.iconWidth},height:function(){return this.iconHeight}},attr:{src:function(){return this.iconPath}}},{type:"text",style:{color:function(){return this.stateColor},fontSize:function(){return this.followFontSize}},attr:{value:function(){return this.stateText}}}]}}),define("@weex-component/date",function(e,t,i){i.exports={data:function(){return{account:{},feed:{timestamp:"",feedSourceName:"",feedSourceColor:"",feedSourceUrl:""},txt:"",iconHeight:"20",showFrom:!1,actWidth:0,actHeight:0,showAct:!0}},methods:{ready:function(e){var t=this;t.showFrom=t.feed.feedSourceName&&t.feed.feedSourceName.length>0,t.setTextDate(t),t.account.accountActive?(t.actWidth=t.account.accountActive.width,t.account.accountActive.height?t.actHeight=t.account.accountActive.height:t.actHeight=24,t.showAct=!0):t.showAct=!1},setTextDate:function(e){if(!e.feed.timestamp||0==e.feed.timestamp)return void(e.txt="");var t=parseInt(e.feed.timestamp,10),i=new Date,n=new Date,o=n.getTime()-t;if(i.setTime(e.feed.timestamp),6e4>o)e.txt="刚刚";else if(36e5>o){var r=parseInt(o/6e4);e.txt=r+"分钟前"}else if(864e5>o){var a=Math.round(o/36e5);e.txt=a+"小时前"}else e.txt=i.getMonth()+1+"-"+i.getDate()},goUrl:function(){var e=this,t="WeiTaoFeedFrom",i={account_id:e.account.id,feed_id:e.feed.id,feed_type:e.feed.feedType,feed_Num:e.index+1};e.feed.scm&&(i.scm=e.feed.scm),e.$userTrack("click","",t,i),e.$openURL(e.feed.feedSourceUrl)},goActUrl:function(){var e=this,t="WeiTaoFeedIcon",i={account_id:e.account.id,feed_id:e.feed.id,feed_type:e.feed.feedType,feed_Num:e.index+1};e.feed.scm&&(i.scm=e.feed.scm),e.$userTrack("click","",t,i),e.$openURL(e.account.accountActive.jumpUrl)}}},i.exports.style={"main-date":{fontSize:20,marginBottom:20,marginTop:5,display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},"main-date-txt":{
color:"#999999",fontSize:24,textAlign:"left",alignItems:"center"},from:{flexDirection:"row"},"from-txt":{color:"#999999",marginLeft:18,fontSize:24},"from-name":{color:"#3b67a4",fontSize:24,marginLeft:6},act:{flexDirection:"row",alignItems:"center"},"act-text":{marginLeft:6,lines:1,fontSize:24,color:"#3b67a4",maxWidth:200,textOverflow:"ellipsis"},"act-icon":{marginLeft:10}},i.exports.template={type:"div",classList:["main-date"],children:[{type:"text",classList:["main-date-txt"],attr:{value:function(){return this.txt}}},{type:"div",classList:["from"],shown:function(){return this.showFrom},events:{click:"goUrl"},children:[{type:"text",classList:["from-txt"],attr:{value:"来自"}},{type:"text",classList:["from-name"],style:{color:function(){return this.feed.feedSourceColor}},attr:{value:function(){return this.feed.feedSourceName}}}]},{type:"div",classList:["act"],shown:function(){return this.showAct},events:{click:"goActUrl"},children:[{type:"image",classList:["act-icon"],style:{width:function(){return this.actWidth},height:function(){return this.actHeight}},attr:{src:function(){return this.account.accountActive.pic}}},{type:"text",classList:["act-text"],style:{color:function(){return this.account.accountActive.color}},events:{click:"goActUrl"},attr:{value:function(){return this.account.accountActive.title}}}]}]}}),define("@weex-component/title",function(e,t,i){i.exports={data:function(){return{feed:{feedTypeNameLink:"",feedTypeName:"",feedTypeNameColor:"",needDropDown:""},account:{redirectTargetUrl:"",accountNick:""},typeName:"",typeColor:"",nick:"",isRecommend:!1,showCertIcon:!1,certIconPath:"",certIconWidth:0,certIconHeight:0,titleMaxWidth:0,index:-1}},methods:{ready:function(e){var t=this;t.nick=t.account.accountNick,t.typeName=t.feed.feedTypeName,t.typeColor=t.feed.feedTypeNameColor,t.isRecommend=t.account.isRecommend,t.account.certIconPic?(t.showCertIcon=!0,t.certIconPath=t.account.certIconPic.pic,t.certIconWidth=t.account.certIconPic.width,t.certIconHeight=t.account.certIconPic.height,t.titleMaxWidth=t.maxwidth-t.certIconWidth/2):t.titleMaxWidth=t.maxwidth,e&&(this.$("promote").ready(!0),this.$("date").ready(!0))},goTargetUrl:function(){var e=this,t=e.account.redirectTargetUrl;if(t&&0!=t.length){var i="WeiTaoAccount",n={account_id:e.account.id,feed_id:e.feed.id,feed_type:e.feed.feedType,feed_Num:e.index+1};e.feed.scm&&(n.scm=e.feed.scm),e.$userTrack("click","",i,n),e.$openURL(t)}},goNowhere:function(){}}},i.exports.style={"title-container":{width:440,flexDirection:"column",display:"flex",marginBottom:6},"main-title":{lines:1,fontSize:34,color:"#333333",height:40,textOverflow:"ellipsis"},"title-wrap":{flexDirection:"row",alignItems:"center",marginBottom:0},"cert-icon":{marginLeft:8}},i.exports.template={type:"div",classList:["title-container"],events:{click:"goNowhere"},children:[{type:"div",classList:["title-wrap"],style:{maxWidth:function(){return this.titleMaxWidth+"px"}},children:[{type:"text",classList:["main-title"],style:{maxWidth:function(){return this.titleMaxWidth+"px"}},events:{click:"goTargetUrl"},attr:{value:function(){return this.nick}}},{type:"image",shown:function(){return this.showCertIcon},classList:["cert-icon"],style:{width:function(){return this.certIconWidth+"px"},height:function(){return this.certIconHeight+"px"}},attr:{src:function(){return this.certIconPath}}}]},{type:"date",id:"date",attr:{account:function(){return this.account},feed:function(){return this.feed},index:function(){return this.index}}}]}}),define("@weex-component/avatar",function(e,t,i){i.exports={data:function(){return{account:{certIcon:"",logoUrl:"",redirectTargetUrl:""},logo:"",icon:""}},methods:{ready:function(e){var t=this;t.logo=t.account.logoUrl+"_64x64xz.jpg",t.icon=t.account.certIcon,t.redirectTargetUrl=t.account.redirectTargetUrl},goTargetUrl:function(){var e=this,t=e.redirectTargetUrl,i="WeiTaoAccount",n={account_id:e.account.id,feed_id:e.feed.id,feed_type:e.feed.feedType,feed_Num:e.index};e.feed.scm&&(n.scm=e.feed.scm),e.$userTrack("click","",i,n),e.$openURL(t)}}},i.exports.style={avatar:{flexDirection:"row",marginRight:18,marginLeft:-4,marginTop:-4,width:72,height:72,position:"relative"},"avatar-image-shadow":{position:"absolute",left:4,top:4,width:72,height:72,backgroundColor:"rgba(0,0,0,0.02)"},"avatar-inner":{width:72,height:72,position:"absolute",top:4,left:4},"avatar-image":{width:72,height:72,position:"absolute",top:0,left:0},"avatar-icon":{width:24,height:24,position:"absolute",right:0,bottom:0,borderRadius:12}},i.exports.template={type:"div",classList:["avatar"],events:{click:"goTargetUrl"},children:[{type:"div",classList:["avatar-inner"],children:[{type:"image",attr:{src:function(){return this.logo}},classList:["avatar-image"]}]},{type:"image",classList:["avatar-image-shadow"]}]}}),define("@weex-component/module-header",function(e,t,i){i.exports={data:function(){return{account:{},feed:{},share:{},stateText:"",stateColor:"",borderColor:"",followFontSize:20,showTop:!1,iconPath:"",iconWidth:0,iconHeight:0,index:-1,showReason:!1,followed:!1,showFollow:!1,showCorner:!1,cornerLeft:0,cornerTop:0,cornerWidth:0,cornerHeight:0,followOpacity:1,titleMaxWidth:0,needDropDown:!1}},methods:{ready:function(e){var t=this;t.showTop="1"===t.feed.top,t.showFollow="true"===t.account.showFollowButton,t.followed=t.account.followed,t.showReason=t.feed.recommendReason&&t.account.isRecommend,t.needDropDown="true"==t.feed.needDropDown||"1"==t.feed.needDropDown,t.mainPaddingTop=24,t.titleMaxWidth=440,(t.showTop||t.showFollow)&&(t.titleMaxWidth=372),this.feed&&this.feed.cornerPicItem&&(this.showCorner=!0,this.cornerUrl=this.feed.cornerPicItem.cornerPicPath,this.cornerWidth=this.feed.cornerPicItem.cornerPicWidth,this.cornerHeight=this.feed.cornerPicItem.cornerPicHeight,this.cornerLeft=204-this.cornerWidth-(this.feed.festivalOrnament?12:0),this.cornerTop=-24,this.followOpacity=.8),t.mainPaddingTop=24}},goDetail:function(e){}},i.exports.style={main:{position:"relative",display:"flex",flexDirection:"column",height:120},"body-container":{position:"relative",flexDirection:"row",justifyContent:"space-between"},"right-container":{width:204,position:"relative",height:72,alignItems:"center",flexDirection:"row",justifyContent:"flex-end"},"avatar-title-container":{position:"relative",paddingLeft:24,flexDirection:"row"},"top-wrap":{flexDirection:"row",position:"relative",paddingLeft:24,paddingRight:24,paddingTop:12,paddingBottom:10,justifyContent:"flex-end",color:"#ff5000",textAlign:"center",marginRight:24},"top-icon":{width:20,height:20,marginRight:12},"top-txt":{color:"#ff5000",fontSize:20},"corner-icon":{position:"absolute"}},i.exports.template={type:"div",classList:["main"],style:{paddingTop:function(){return this.mainPaddingTop}},events:{click:"goDetail"},children:[{type:"div",classList:["body-container"],children:[{type:"div",classList:["avatar-title-container"],children:[{type:"avatar",id:"avatar",attr:{account:function(){return this.account},feed:function(){return this.feed},index:function(){return this.index}}},{type:"title",id:"title",attr:{account:function(){return this.account},feed:function(){return this.feed},index:function(){return this.index},maxwidth:function(){return this.titleMaxWidth}}}]},{type:"div",classList:["right-container"],children:[{type:"image",shown:function(){return this.showCorner},classList:["corner-icon"],style:{left:function(){return this.cornerLeft},top:function(){return this.cornerTop},width:function(){return this.cornerWidth},height:function(){return this.cornerHeight}},attr:{src:function(){return this.cornerUrl}}},{type:"follow",shown:function(){return this.showFollow},style:{opacity:function(){return this.followOpacity}},attr:{feed:function(){return this.feed},account:function(){return this.account},share:function(){return this.share},index:function(){return this.index},pagename:function(){return this.pagename}}},{type:"div",shown:function(){return this.showTop},classList:["top-wrap"],style:{borderColor:function(){return this.stateColor}},children:[{type:"image",classList:["top-icon"],attr:{src:"https://img.alicdn.com/tps/TB1FzfFMpXXXXcOXpXXXXXXXXXX-20-20.png"}},{type:"text",classList:["top-txt"],attr:{value:"置顶"}}]},{type:"promote",shown:function(){return"true"!=this.account.isRecommend&&this.needDropDown},id:"promote",attr:{feed:function(){return this.feed},account:function(){return this.account},share:function(){return this.share},index:function(){return this.index},pagename:function(){return this.pagename}}}]},{type:"div"}]}]}}),define("@weex-component/promote",function(e,t,i){i.exports={data:function(){return{feed:{needDropDown:!0,id:""},account:{reason:""},share:{},needDropDown:!0}},methods:{ready:function(e){},pullDown:function(){var e=this,t={feed:e.feed,account:e.account,share:e.share},i="WeiTaoFeedMore",n={feed_id:e.feed.id,feed_type:e.feed.feedType};e.feed.scm&&(n.scm=e.feed.scm),e.$userTrack("click","",i,n),e.$call("WeiTaoTimeLineModule","clickMoreButton",{dataIndex:e.index,accountId:e.account.id,feedId:e.feed.id,feedItem:t,pagenName:e.pagename})}}},i.exports.style={promote:{display:"flex",justifyContent:"flex-end",alignItems:"center",flexDirection:"row",marginRight:0,height:64},"promote-icon":{width:18,height:12,marginRight:24,marginLeft:0}},i.exports.template={type:"div",classList:["promote"],events:{click:"pullDown"},children:[{type:"image",shown:function(){return this.needDropDown},classList:["promote-icon"],attr:{src:"https://img.alicdn.com/tps/TB1RJVDNXXXXXcPXpXXXXXXXXXX-18-12.png"}}]}}),define("@weex-component/module-recommend-header",function(e,t,i){i.exports={data:function(){return{textColor:"#9b9b9b",showBkg:!1,account:{},feed:{}}},methods:{ready:function(e){this.feed.festivalOrnament&&(this.showBkg=!0,this.bkgUrl=this.feed.festivalOrnament.backgroundPicPath,this.textColor=this.feed.festivalOrnament.targetTitleColor)},goUrl:function(){var e=this,t=e.url;e.$openURL(t)}}},i.exports.style={"recommend-header":{flexDirection:"row",justifyContent:"space-between",width:750,height:60,alignItems:"center"},bkg:{position:"absolute",left:0,top:0,width:750,height:60},"recommend-txt":{marginLeft:24,lines:1,maxWidth:520,fontSize:28,textOverflow:"ellipsis"},line:{width:750,marginLeft:0,height:1,backgroundColor:"#e7e7e7",marginTop:0,marginBottom:0}},i.exports.template={type:"div",children:[{type:"div",classList:["recommend-header"],children:[{type:"image",shown:function(){return this.showBkg},classList:["bkg"],attr:{src:function(){return this.bkgUrl}}},{type:"text",classList:["recommend-txt"],style:{color:function(){return this.textColor}},attr:{value:function(){return this.feed.recommendReason}}},{type:"promote",id:"promote",attr:{feed:function(){return this.feed},account:function(){return this.account},share:function(){return this.share},index:function(){return this.index}}}]},{type:"div",shown:function(){return!this.showBkg},classList:["line"]}]}}),define("@weex-component/module-festival-header",function(e,t,i){i.exports={data:function(){return{bkgUrl:"",leftUrl:"",text:"",textColor:"#999999",leftIconWidth:300}},methods:{ready:function(e){this.feed.festivalOrnament&&(this.bkgUrl=this.feed.festivalOrnament.backgroundPicPath,this.leftUrl=this.feed.festivalOrnament.titlePicPath,this.textColor=this.feed.festivalOrnament.targetTitleColor,this.leftIconWidth=this.feed.festivalOrnament.titlePicWidth,this.bkColor=this.feed.festivalOrnament.borderColor,this.feed.festivalOrnament.targetTitle&&(this.text=this.feed.festivalOrnament.targetTitle+">"))},goTextUrl:function(){var e=this,t="WeiTaoAtmosphere",i={account_id:e.account.id,feed_id:e.feed.id,feed_type:e.feed.feedType,feed_Num:e.index+1};e.feed.scm&&(i.scm=e.feed.scm),e.$userTrack("click","",t,i),e.$openURL(this.feed.festivalOrnament.targetUrl)}}},i.exports.style={festival:{position:"relative",width:750,height:60,display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row"},bkg:{position:"absolute",left:0,top:0,width:750,height:60},txt:{position:"relative",marginRight:24,lines:1,fontSize:28,maxWidth:300,textOverflow:"ellipsis"},left:{position:"relative",left:0,height:60}},i.exports.template={type:"div",style:{width:750,height:60,backgroundColor:function(){return this.bkColor}},children:[{type:"image",classList:["bkg"],attr:{src:function(){return this.bkgUrl}}},{type:"div",classList:["festival"],children:[{type:"image",classList:["left"],attr:{src:function(){return this.leftUrl}},style:{width:function(){return this.leftIconWidth}}},{type:"text",classList:["txt"],style:{color:function(){return this.textColor}},events:{click:"goTextUrl"},attr:{value:function(){return this.text}}}]}]}}),define("@weex-component/feed-card",function(e,t,i){i.exports={data:function(){return{moduleMap:{M1001:{isShow:!1},M1101:{isShow:!1},M2100:{isShow:!1},M3100:{isShow:!1},M4100:{isShow:!1},M4101:{isShow:!1},M4102:{isShow:!1},M4104:{isShow:!1},M4105:{isShow:!1},M4106:{isShow:!1},M4107:{isShow:!1},M5101:{isShow:!1},M9101:{isShow:!1},M1201:{isShow:!1},M1301:{isShow:!1},M1401:{isShow:!1},M1501:{isShow:!1},M1601:{isShow:!1},M1701:{isShow:!1}},moduleId:"",account:{},feed:{},share:{},butterfly:{},showLine:!0,index:-1,borderWidth:0,borderColor:"#000000",showFestival:!1,showRecommendHeade:!1}},methods:{ready:function(e){var t=this,i=t.feed.cardModuleInfos,n=0,o=0;if(t.showLine=!1,this.feed&&this.feed.festivalOrnament?(this.showFestival=!(this.feed&&this.account&&this.account.isRecommend&&this.feed.recommendReason),this.borderWidth=6,this.borderColor=this.feed.festivalOrnament.borderColor):(this.showFestival=!1,this.borderWidth=0),this.account&&this.account.isRecommend&&this.feed&&this.feed.recommendReason?this.showRecommendHeader=!0:this.showRecommendHeader=!1,i&&0!=i.length){for(;n<t.moduleMap.length;n++)t.moduleMap[n].isShow=!1;for(;o<i.length;o++){var r=t.moduleMap["M"+i[o].id],a=t.moduleMap["M"+i[o].degradeId];r?(r.isShow=!0,t.showLine=!0):a&&(a.isShow=!0,t.showLine=!0)}}},goDetail:function(){var e=this;if(e.feed&&e.account){var t=e.feed.detailUrl;e.$openURL(t);var i="WeiTaoFeedContent",n={account_id:e.account.id,feed_id:e.feed.id,feed_type:e.feed.feedType,feed_Num:e.index+1};e.feed.scm&&(n.scm=e.feed.scm),e.$userTrack("click","",i,n)}}}},i.exports.style={card:{fontSize:28,backgroundColor:"#ffffff",position:"relative",flexDirection:"column"}},i.exports.template={type:"div",classList:["card"],events:{click:"goDetail"},attr:{async:"true"},children:[{type:"module-festival-header",shown:function(){return this.showFestival},attr:{feed:function(){return this.feed},share:function(){return this.share},account:function(){return this.account},subfeeds:function(){return this.subfeeds},index:function(){return this.index},pagename:function(){return this.pagename}}},{type:"module-recommend-header",shown:function(){return this.moduleMap.M2100.isShow&&this.showRecommendHeader},attr:{feed:function(){return this.feed},share:function(){return this.share},account:function(){return this.account},pagename:function(){return this.pagename}}},{type:"div",style:{borderLeftWidth:function(){return this.borderWidth},borderRightWidth:function(){return this.borderWidth},borderBottomWidth:function(){return this.borderWidth},borderColor:function(){return this.borderColor}},children:[{type:"module-header",shown:function(){return this.moduleMap.M2100.isShow},attr:{feed:function(){return this.feed},share:function(){return this.share},account:function(){return this.account},subfeeds:function(){return this.subfeeds},index:function(){return this.index},pagename:function(){return this.pagename}}},{type:"module-tag",shown:function(){return this.moduleMap.M1001.isShow},attr:{feed:function(){return this.feed},butterfly:function(){return this.butterfly},account:function(){return this.account},index:function(){return this.index}}},{type:"module-link",shown:function(){return this.moduleMap.M1101.isShow},attr:{feed:function(){return this.feed},butterfly:function(){return this.butterfly},account:function(){return this.account},index:function(){return this.index}}},{type:"module-zero",shown:function(){return this.moduleMap.M1301.isShow},attr:{feed:function(){return this.feed},butterfly:function(){return this.butterfly},share:function(){return this.share},account:function(){return this.account},index:function(){return this.index},pagename:function(){return this.pagename}}},{type:"module-recommend",shown:function(){return this.moduleMap.M1401.isShow},attr:{feed:function(){return this.feed},butterfly:function(){return this.butterfly},share:function(){return this.share},subfeeds:function(){return this.subfeeds},account:function(){return this.account},index:function(){return this.index},pagename:function(){return this.pagename}}},{type:"module-live-top",shown:function(){return this.moduleMap.M1201.isShow},attr:{feed:function(){return this.feed},subfeeds:function(){return this.subfeeds},butterfly:function(){return this.butterfly},share:function(){return this.share},account:function(){return this.account},index:function(){return this.index},pagename:function(){return this.pagename}}},{type:"module-text",shown:function(){return this.moduleMap.M3100.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},index:function(){return this.index}}},{type:"module-cover",shown:function(){return this.moduleMap.M4100.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},index:function(){return this.index},pagename:function(){return this.pagename}}},{type:"module-grid",shown:function(){return this.moduleMap.M4101.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},index:function(){return this.index},share:function(){return this.share}}},{type:"module-video",shown:function(){return this.moduleMap.M4102.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},index:function(){return this.index}}},{type:"module-video-live",shown:function(){return this.moduleMap.M4104.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},index:function(){return this.index}}},{type:"module-short-text",shown:function(){return this.moduleMap.M4105.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},index:function(){return this.index}}},{type:"module-long-text-a",shown:function(){return this.moduleMap.M4106.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},index:function(){return this.index}}},{type:"module-long-text-b",shown:function(){return this.moduleMap.M4107.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},index:function(){return this.index}}},{type:"module-new-mark",shown:function(){return this.moduleMap.M5101.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},index:function(){return this.index}}},{type:"module-footer",shown:function(){return this.moduleMap.M9101.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},share:function(){return this.share},index:function(){return this.index},pagename:function(){return this.pagename}}},{type:"module-banner",shown:function(){return this.moduleMap.M1501.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},index:function(){return this.index}}},{type:"module-follow-tag",shown:function(){return this.moduleMap.M1601.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},index:function(){return this.index}}},{type:"module-follow-split",shown:function(){return this.moduleMap.M1701.isShow},attr:{feed:function(){return this.feed},account:function(){return this.account},index:function(){return this.index}}}]},{type:"line",shown:function(){return!(this.moduleMap.M1001.isShow||this.moduleMap.M1101.isShow||this.moduleMap.M1701.isShow||this.moduleMap.M1601.isShow)&&this.showLine}}]}}),define("@weex-component/main",function(e,t,i){i.exports={data:function(){return{feedList:[],isLoading:!1,isEnd:!1,apiName:"",pageName:"",apiVersion:"",cacheKey:"",currentPage:1,pageSize:10,needLogin:!1,params:{},content:{},isReloaded:!1,loadmoreretry:0,listCache:[],needRequest:!1,getCacheFromNative:!1,context:"",utShowFeedEnable:!1}},methods:{ready:function(e){var t=this;if(t.getCacheFromNative){var i=!1;if("undefined"!==t.listCache&&t.listCache&&t.listCache.length>0&&(i=!0),t.needRequest||!i?t.reloadData():(t.currentPage=2,this._app.callTasks([{module:"WeiTaoTimeLineModule",method:"fristPage",args:[{feedCount:0,cacheFeedCount:10,mtopError:!1}]}])),i){for(var n=0;n<t.listCache.length;n++)t.listCache[n].isAppeared=t.needRequest;t.feedList=t.listCache}}else t.reloadData(),t.cacheKey.length>0&&this.$call("WeiTaoTimeLineModule","getDataCache",{cacheKey:t.cacheKey},function(e){if("undefined"!=typeof e){var i=JSON.parse(e);"undefined"!=typeof i&&i&&i.length>0&&(t.feedList=i)}})},reloadData:function(){var e=this;e.currentPage=1,e.isEnd=!1,e.nextPage()},nextPage:function(){var t=this;if(!(t.isEnd||t.isLoading&&t.currentPage>1)){t.isLoading=!0;var i=t.params;if(i.currentPage=t.currentPage,i.pageSize=t.pageSize,i.id=0,i.timestamp=0,i.context=t.context,t.currentPage>1){if(t.feedList.length>0){var n=t.feedList[t.feedList.length-1];n&&n.feed&&(i.id=n.feed.id,i.timestamp=n.feed.timestamp)}t.content&&t.content.length>0&&(i.content=t.content)}var o={api:t.apiName,v:t.apiVersion,needLogin:t.needLogin,ecode:t.needLogin?1:0,requestType:"mtop",param:i},r=e("@weex-module/WeiTaoTimeLineModule");r&&r.sendMtop?this.$call("WeiTaoTimeLineModule","sendMtop",o,function(e){t.mtopHandler(e)}):t.$sendMtop(o,function(e){t.mtopHandler(e)})}},mtopHandler:function(t){var i=this,n=JSON.parse(t);if(n.data&&n.data.context&&(i.context=n.data.context),n.ret)for(var o=0;o<n.ret.length;o++)if(0==n.ret[o].indexOf("FAIL_LOCAL_ERROR_FANG_XUE_FENG:")){var r=e("@weex-module/modal");r.toast({message:"哎呦喂，被挤爆啦，请稍后重试",duration:1});break}if(1===i.currentPage){var a=0;i.feedList&&(a=i.feedList.length);var d=0;if(n.data){if(n.data.list&&n.data.list.length>0){d=n.data.list.length;for(var o=0;o<n.data.list.length;o++)n.data.list[o].index=o;var s=!1;if(!i.isReloaded&&i.feedList&&i.feedList.length===n.data.list.length){for(var o=0;o<n.data.list.length;o++)if(i.feedList[o].feed.id!==n.data.list[o].feed.id){s=!0;break}}else s=!0;s&&(i.feedList=n.data.list)}var c=n.data.newMsgTotal;if(i.showTips(c),i._app.callTasks([{module:"WeiTaoTimeLineModule",method:"fristPage",args:[{feedCount:d,cacheFeedCount:a,data:n.data,mtopError:!1}]}]),i.cacheKey.length>0)if(i.getCacheFromNative){var f=+new Date;i._app.callTasks([{module:"WeiTaoTimeLineModule",method:"saveDataCache",args:[{cacheKey:i.cacheKey,list:{cacheTime:f,list:i.feedList}}]}])}else i._app.callTasks([{module:"WeiTaoTimeLineModule",method:"saveDataCache",args:[{cacheKey:i.cacheKey,list:i.feedList}]}])}else i._app.callTasks([{module:"WeiTaoTimeLineModule",method:"fristPage",args:[{feedCount:d,cacheFeedCount:a,data:n,mtopError:!0}]}])}else if(n.data&&n.data.list&&n.data.list.length>0){for(var o=0;o<n.data.list.length;o++)n.data.list[o].index=o+i.feedList.length;i.feedList=i.feedList.concat(n.data.list)}else i.isEnd=!0;i.isLoading=!1,i.isReloaded=!0,i.isEnd||(i.currentPage=i.currentPage+1,2===i.currentPage&&i.feedList.length>0&&i.feedList.length<5&&i.nextPage()),i.loadmoreretry=i.loadmoreretry+1},showTips:function(e){var t="";e>100?t="我关注我喜欢 更新99+条":e>0&&(t="我关注我喜欢 更新"+e+"条"),this.$call("WeiTaoTimeLineModule","showTips",{tips:t})},loadMore:function(e){var t=this;t.nextPage()},onAppear:function(e){var t=this,i=t.$index;if(!(t.feedList.length<=i)&&t.feedList[i]&&1!=t.feedList[i].isAppeared){t.feedList[i].isAppeared=!0;var n=t.feedList[i],o=t.feedList[i].feed.cardModuleInfos,r=!1;if(o)for(var a=0;a<o.length;a++)if(4102==o[a].id){r=!0;break}var d=0,s=0;if(r)for(var a=0;a<n.feed.newTiles.length;a++)"video"==n.feed.newTiles[a].type&&(d=n.feed.newTiles[a].interactiveVideoId,s=n.feed.newTiles[a].videoId);if(r)var n={feed:t.feedList[i].feed,account:t.feedList[i].account};t._app.callTasks([{module:"WeiTaoTimeLineModule",method:"showFeed",args:[{pageName:t.pageName,feedItem:n,isVideo:r?1:0,interactiveVideoId:d,videoId:s,index:i}]}])}},removeCard:function(e){for(var t=this,i=0;i<t.feedList.length;i++)if(t.feedList[i].account&&t.feedList[i].feed&&t.feedList[i].account.id===e.accountId&&t.feedList[i].feed.id===e.feedId)return void t.feedList.splice(i,1)},addPraise:function(e){for(var t=this,i=0;i<t.feedList.length;i++)if(t.feedList[i].feed.id==e.feedId&&"0"===t.feedList[i].feed.isFeedFavoured)return t.feedList[i].feed.isFeedFavoured="1",void(t.feedList[i].feed.feedCount.feedFavourCount?t.feedList[i].feed.feedCount.feedFavourCount++:t.feedList[i].feed.feedCount.feedFavourCount=1)},removePraise:function(e){for(var t=this,i=0;i<t.feedList.length;i++)if(t.feedList[i].feed.id==e.feedId&&"1"===t.feedList[i].feed.isFeedFavoured)return t.feedList[i].feed.isFeedFavoured="0",void(t.feedList[i].feed.feedCount.feedFavourCount?t.feedList[i].feed.feedCount.feedFavourCount--:t.feedList[i].feed.feedCount.feedFavourCount=0)}}},i.exports.style={},i.exports.template={type:"list",classList:["list"],events:{loadmore:"loadMore",removecard:"removeCard",reloaddata:"reloadData",addpraise:"addPraise",removepraise:"removePraise"},attr:{loadmoreretry:function(){return this.loadmoreretry},loadmoreoffset:"1000"},children:[{type:"cell",append:"tree",attr:{index:function(){return this.index},scope:function(){return this.id}},repeat:function(){return this.feedList},children:[{type:"feed-card",attr:{index:function(){return this.$index},feed:function(){return this.feed},account:function(){return this.account},subfeeds:function(){return this.subAccountFeeds},butterfly:function(){return this.butterfly},share:function(){return this.share},pagename:function(){return this.pageName}},events:{appear:"onAppear"}}]}]}}),bootstrap("@weex-component/main");